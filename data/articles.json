{"_id":{"$oid":"5c3ca55b33031407f75e3818"},"hearts":[],"follows":[],"collects":[],"shares":[],"comments":[{"$oid":"5c44ace49f36130e386a4268"},{"$oid":"5c44ad4c9f36130e386a426b"}],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3ca53433031407f75e3816","title":"2019-01-16 02:42:10","content":"","markDown":"","html":"","own":{"$oid":"5c3c910585710f035b21350c"},"heart":0,"follow":0,"collect":0,"share":0,"comment":2,"read":0,"KeyWords":0,"virtualLink":"","trueLink":"","qrcode":"","type":1,"deleted":false,"date":{"$date":"2019-01-14T15:06:03.418Z"},"updateTime":{"$date":"2019-01-14T15:06:03.418Z"},"__v":2,"commentsOwn":[{"$oid":"5c3c910585710f035b21350c"},{"$oid":"5c3c910585710f035b21350c"}]}
{"_id":{"$oid":"5c3ca59d33031407f75e381a"},"hearts":[],"follows":[],"collects":[],"shares":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3ca53433031407f75e3816","title":"2019-01-13 01:47:50","content":"","markDown":"","html":"","own":{"$oid":"5c3c910585710f035b21350c"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":0,"virtualLink":"","trueLink":"","qrcode":"","type":1,"deleted":false,"date":{"$date":"2019-01-14T15:07:09.478Z"},"updateTime":{"$date":"2019-01-14T15:07:09.478Z"},"__v":0}
{"_id":{"$oid":"5c3ca5d733031407f75e381b"},"hearts":[],"follows":[],"collects":[],"shares":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3ca53433031407f75e3816","title":"2019-01-14 23:08:23","content":"","markDown":"","html":"","own":{"$oid":"5c3c910585710f035b21350c"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":0,"virtualLink":"","trueLink":"","qrcode":"","type":1,"deleted":false,"date":{"$date":"2019-01-14T15:08:07.933Z"},"updateTime":{"$date":"2019-01-14T15:08:07.933Z"},"__v":0}
{"_id":{"$oid":"5c3ca67f33031407f75e381c"},"hearts":[],"follows":[],"collects":[],"shares":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3ca53433031407f75e3816","title":"2019-01-14 23:10:55","content":"","markDown":"","html":"","own":{"$oid":"5c3c910585710f035b21350c"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":0,"virtualLink":"","trueLink":"","qrcode":"","type":1,"deleted":false,"date":{"$date":"2019-01-14T15:10:55.236Z"},"updateTime":{"$date":"2019-01-14T15:10:55.236Z"},"__v":0}
{"_id":{"$oid":"5c3cc65170830e13d1bf35ba"},"hearts":[{"$oid":"5c3c910585710f035b21350c"},{"$oid":"5c3c910585710f035b21350c"},{"$oid":"5c3e2295fc56f30dec47c533"}],"follows":[],"collects":[],"shares":[],"comments":[{"$oid":"5c3f693589d9fe1adee51287"},{"$oid":"5c3f6d4c6e97251ba591cfd3"},{"$oid":"5c3f7b7cacea9d20fb0e8600"}],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3cc64d70830e13d1bf35b9","title":"node服务器环境下上传文件","content":"\u003ch3 id=\"h3-node-\"\u003e\u003ca name=\"node服务器环境下上传文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enode服务器环境下上传文件\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在node服务器环境下上传文件，包括（图片、文件、视频、音乐），等文件。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3--\"\u003e\u003ca name=\"思路：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e思路：\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e1：前端将图片转换成base64格式的数据，然后发送到服务端。\u003c/li\u003e\u003cli\u003e2：服务端接收臵base64格式的数据，使用转换成Buffer格式的二进制数据，调用文件系统保存到服务器目录中。\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e提示：\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch6 id=\"h6--cpu-\"\u003e\u003ca name=\"在计算机中任何形式的文件想要让计算机处理，都要以二进制形式才能由中央处理器(CPU)识别并处理，返回计算机结果。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在计算机中任何形式的文件想要让计算机处理，都要以二进制形式才能由中央处理器(CPU)识别并处理，返回计算机结果。\u003c/h6\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"代码：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e代码：\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003ehtml:\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003ejavascript:\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003euploadPictures\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efunction\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ee\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e index\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e _this \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003ethis\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e file \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e e\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003efiles\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e];\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e){\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eReader\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eFileReader\u003c/span\u003e\u003cspan class=\"pun\"\u003e();\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"typ\"\u003eReader\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eaddEventListener\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'load'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efunction\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ee\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    _this\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e$http\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epost\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'/api/adv/picture/upload'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        uid\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e _this\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eusers\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003euid\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        name\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e file\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        size\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e file\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esize\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        type\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e file\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        base_data\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eReader\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eresult\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}).\u003c/span\u003e\u003cspan class=\"kwd\"\u003ethen\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eres \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eres\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecode \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e res\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eok\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                            _this\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eadv\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eslides\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eindex\u003c/span\u003e\u003cspan class=\"pun\"\u003e].\u003c/span\u003e\u003cspan class=\"pln\"\u003eurl \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e res\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003edata\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eurl\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}).\u003c/span\u003e\u003cspan class=\"kwd\"\u003ecatch\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eerr \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        console\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eerr\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e})\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"pun\"\u003e},\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efalse\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"typ\"\u003eReader\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ereadAsDataURL\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e},\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115013734_e042013051b4aa177efc66a557e13969.png?w=1162\u0026amp;h=756\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115013734_e042013051b4aa177efc66a557e13969.png?w=1162\u0026amp;h=756\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003enode代码\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003erouter\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epost\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'/adv/picture/upload'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ereq\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e res\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enext\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e// console.log(req.body)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e uid \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e req\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003euid\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e name \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e req\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e type \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e req\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e size \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e req\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esize\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e base_data \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e req\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebase_data\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e ext \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e type\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esplit\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)[\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e];\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e data \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e base_data\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ereplace\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e/^data:image\\/\\w+;base64,/\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e''\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e dataBuffer \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eBuffer\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003efrom\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003edata\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'base64'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e// Linux\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e path \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/home/wwwroot/node/blog.mcloudhub.com/app/public/images/adv'\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e// Window\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e// let path = 'C:/web/www/node/blog.mcloudhub.com/app/public/images/adv';\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"typ\"\u003eUsers\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003efindById\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003euid\u003c/span\u003e\u003cspan class=\"pun\"\u003e).\u003c/span\u003e\u003cspan class=\"kwd\"\u003ethen\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003euser \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e// console.log(user)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e dirname \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e path \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e user\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e_id\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        fs\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexistsSync\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003edirname\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e||\u003c/span\u003e\u003cspan class=\"pln\"\u003e fs\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emkdirSync\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003edirname\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e// 下载目录不存在创建目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e filename \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e md5\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eDate\u003c/span\u003e\u003cspan class=\"pun\"\u003e().\u003c/span\u003e\u003cspan class=\"pln\"\u003egetTime\u003c/span\u003e\u003cspan class=\"pun\"\u003e())\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'.'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e ext\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        fs\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ewriteFile\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003edirname \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e filename\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e dataBuffer\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efunction\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eerr\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eerr\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                console\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eerr\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eelse\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"com\"\u003e// 计算上传的图片宽度和高度\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e dimensions \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e imageSize\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003edirname \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e filename\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e// 使用绝对路径，也可以使用url，使用url要转换成buffer\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e width \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e dimensions\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ewidth\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003elet\u003c/span\u003e\u003cspan class=\"pln\"\u003e height \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e dimensions\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eheight\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003ePhotos\u003c/span\u003e\u003cspan class=\"pun\"\u003e({\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    user_id\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e user\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e_id\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    author\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e user\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    originalname\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e name\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    filename\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e filename\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    path\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e dirname\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    fullpath\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e dirname \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e filename\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    encoding\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e''\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    mimetype\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e type\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    size\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e size\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e width\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e height\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    add_date\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e sillyDateTime\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eformat\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eDate\u003c/span\u003e\u003cspan class=\"pun\"\u003e(),\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'YYYY-MM-DD HH:mm:ss'\u003c/span\u003e\u003cspan class=\"pun\"\u003e),\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    isDel\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"pun\"\u003e}).\u003c/span\u003e\u003cspan class=\"pln\"\u003esave\u003c/span\u003e\u003cspan class=\"pun\"\u003e().\u003c/span\u003e\u003cspan class=\"kwd\"\u003ethen\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003einsert \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(!\u003c/span\u003e\u003cspan class=\"pln\"\u003einsert\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003ethrow\u003c/span\u003e\u003cspan class=\"pln\"\u003e console\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003einsert\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    res\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejson\u003c/span\u003e\u003cspan class=\"pun\"\u003e({\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        code\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        message\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'图片上传成功'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        ok\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003etrue\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        data\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                            url\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'https://blog.mcloudhub.com/public/images/adv/'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e user\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e_id \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e filename\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                            width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e width\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                            height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e height\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                            size\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e width \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'x'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e height\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e});\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"pun\"\u003e});\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e});\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}).\u003c/span\u003e\u003cspan class=\"kwd\"\u003ecatch\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eerr \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        console\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eerr\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e})\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e});\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e","markDown":"### node服务器环境下上传文件\n\n\u003e 在node服务器环境下上传文件，包括（图片、文件、视频、音乐），等文件。\n\n### 思路：\n\n* 1：前端将图片转换成base64格式的数据，然后发送到服务端。\n* 2：服务端接收臵base64格式的数据，使用转换成Buffer格式的二进制数据，调用文件系统保存到服务器目录中。\n\n\u003e 提示：\n\n###### 在计算机中任何形式的文件想要让计算机处理，都要以二进制形式才能由中央处理器(CPU)识别并处理，返回计算机结果。\n\n### 代码：\n\n* html:\n\n* javascript:\n\n```\nuploadPictures: function(e, index) {\n\u0009\u0009\u0009let _this = this;\n\u0009\u0009\u0009let file = e.target.files[0];\n\u0009\u0009\u0009if(file){\n\u0009\u0009\u0009\u0009let Reader = new FileReader();\n\u0009\u0009\u0009\u0009Reader.addEventListener('load', function(e) {\n\u0009\u0009\u0009\u0009\u0009_this.$http.post('/api/adv/picture/upload', {\n\u0009\u0009\u0009\u0009\u0009\u0009uid: _this.users.uid,\n\u0009\u0009\u0009\u0009\u0009\u0009name: file.name,\n\u0009\u0009\u0009\u0009\u0009\u0009size: file.size,\n\u0009\u0009\u0009\u0009\u0009\u0009type: file.type,\n\u0009\u0009\u0009\u0009\u0009\u0009base_data: Reader.result\n\u0009\u0009\u0009\u0009\u0009}).then(res =\u003e {\n\u0009\u0009\u0009\u0009\u0009\u0009if (res.body.code \u0026\u0026 res.body.ok) {\n\u0009\u0009\u0009\u0009\u0009\u0009\u0009_this.adv.slides[index].url = res.body.data.url;\n\u0009\u0009\u0009\u0009\u0009\u0009}\n\u0009\u0009\u0009\u0009\u0009}).catch(err =\u003e {\n\u0009\u0009\u0009\u0009\u0009\u0009console.log(err)\n\u0009\u0009\u0009\u0009\u0009})\n\u0009\u0009\u0009\u0009}, false);\n\u0009\u0009\u0009\u0009Reader.readAsDataURL(file);\n\u0009\u0009\u0009}\n\u0009\u0009},\n```\n\n![](https://blog.mcloudhub.com/static/images/uploads/20190115/20190115013734_e042013051b4aa177efc66a557e13969.png?w=1162\u0026h=756)\n\n\n* node代码\n\n```\nrouter.post('/adv/picture/upload', (req, res, next) =\u003e {\n\u0009// console.log(req.body)\n\u0009let uid = req.body.uid;\n\u0009let name = req.body.name;\n\u0009let type = req.body.type;\n\u0009let size = req.body.size;\n\u0009let base_data = req.body.base_data;\n\u0009let ext = type.split('/')[1];\n\u0009let data = base_data.replace(/^data:image\\/\\w+;base64,/, '');\n\u0009let dataBuffer = Buffer.from(data, 'base64');\n\u0009// Linux\n\u0009let path = '/home/wwwroot/node/blog.mcloudhub.com/app/public/images/adv';\n\u0009// Window\n\u0009// let path = 'C:/web/www/node/blog.mcloudhub.com/app/public/images/adv';\n\u0009Users.findById(uid).then(user =\u003e {\n\u0009\u0009// console.log(user)\n\u0009\u0009let dirname = path + '/' + user._id;\n\u0009\u0009fs.existsSync(dirname) || fs.mkdirSync(dirname); // 下载目录不存在创建目录\n\u0009\u0009let filename = md5(new Date().getTime()) + '.' + ext;\n\u0009\u0009fs.writeFile(dirname + '/' + filename, dataBuffer, function(err) {\n\u0009\u0009\u0009if (err) {\n\u0009\u0009\u0009\u0009console.log(err)\n\u0009\u0009\u0009} else {\n\u0009\u0009\u0009\u0009// 计算上传的图片宽度和高度\n\u0009\u0009\u0009\u0009let dimensions = imageSize(dirname + '/' + filename); // 使用绝对路径，也可以使用url，使用url要转换成buffer\n\u0009\u0009\u0009\u0009let width = dimensions.width;\n\u0009\u0009\u0009\u0009let height = dimensions.height;\n\u0009\u0009\u0009\u0009new Photos({\n\u0009\u0009\u0009\u0009\u0009user_id: user._id,\n\u0009\u0009\u0009\u0009\u0009author: user,\n\u0009\u0009\u0009\u0009\u0009originalname: name,\n\u0009\u0009\u0009\u0009\u0009filename: filename,\n\u0009\u0009\u0009\u0009\u0009path: dirname,\n\u0009\u0009\u0009\u0009\u0009fullpath: dirname + '/' + filename,\n\u0009\u0009\u0009\u0009\u0009encoding: '',\n\u0009\u0009\u0009\u0009\u0009mimetype: type,\n\u0009\u0009\u0009\u0009\u0009size: size,\n\u0009\u0009\u0009\u0009\u0009width: width,\n\u0009\u0009\u0009\u0009\u0009height: height,\n\u0009\u0009\u0009\u0009\u0009add_date: sillyDateTime.format(new Date(), 'YYYY-MM-DD HH:mm:ss'),\n\u0009\u0009\u0009\u0009\u0009isDel: 0\n\u0009\u0009\u0009\u0009}).save().then(insert =\u003e {\n\u0009\u0009\u0009\u0009\u0009if (!insert) throw console.log(insert);\n\u0009\u0009\u0009\u0009\u0009res.json({\n\u0009\u0009\u0009\u0009\u0009\u0009code: 1,\n\u0009\u0009\u0009\u0009\u0009\u0009message: '图片上传成功',\n\u0009\u0009\u0009\u0009\u0009\u0009ok: true,\n\u0009\u0009\u0009\u0009\u0009\u0009data: {\n\u0009\u0009\u0009\u0009\u0009\u0009\u0009url: 'https://blog.mcloudhub.com/public/images/adv/' + user._id + '/' + filename,\n\u0009\u0009\u0009\u0009\u0009\u0009\u0009width: width,\n\u0009\u0009\u0009\u0009\u0009\u0009\u0009height: height,\n\u0009\u0009\u0009\u0009\u0009\u0009\u0009size: width + 'x' + height\n\u0009\u0009\u0009\u0009\u0009\u0009}\n\u0009\u0009\u0009\u0009\u0009});\n\u0009\u0009\u0009\u0009});\n\u0009\u0009\u0009}\n\u0009\u0009});\n\u0009}).catch(err =\u003e {\n\u0009\u0009console.log(err)\n\u0009})\n});\n```","html":"\u003ch3 id=\"h3-node-\"\u003e\u003ca name=\"node服务器环境下上传文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enode服务器环境下上传文件\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在node服务器环境下上传文件，包括（图片、文件、视频、音乐），等文件。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3--\"\u003e\u003ca name=\"思路：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e思路：\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e1：前端将图片转换成base64格式的数据，然后发送到服务端。\u003c/li\u003e\u003cli\u003e2：服务端接收臵base64格式的数据，使用转换成Buffer格式的二进制数据，调用文件系统保存到服务器目录中。\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e提示：\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch6 id=\"h6--cpu-\"\u003e\u003ca name=\"在计算机中任何形式的文件想要让计算机处理，都要以二进制形式才能由中央处理器(CPU)识别并处理，返回计算机结果。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在计算机中任何形式的文件想要让计算机处理，都要以二进制形式才能由中央处理器(CPU)识别并处理，返回计算机结果。\u003c/h6\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"代码：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e代码：\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003ehtml:\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003ejavascript:\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003euploadPictures: function(e, index) {\n            let _this = this;\n            let file = e.target.files[0];\n            if(file){\n                let Reader = new FileReader();\n                Reader.addEventListener(\u0026#39;load\u0026#39;, function(e) {\n                    _this.$http.post(\u0026#39;/api/adv/picture/upload\u0026#39;, {\n                        uid: _this.users.uid,\n                        name: file.name,\n                        size: file.size,\n                        type: file.type,\n                        base_data: Reader.result\n                    }).then(res =\u0026gt; {\n                        if (res.body.code \u0026amp;\u0026amp; res.body.ok) {\n                            _this.adv.slides[index].url = res.body.data.url;\n                        }\n                    }).catch(err =\u0026gt; {\n                        console.log(err)\n                    })\n                }, false);\n                Reader.readAsDataURL(file);\n            }\n        },\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115013734_e042013051b4aa177efc66a557e13969.png?w=1162\u0026amp;h=756\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115013734_e042013051b4aa177efc66a557e13969.png?w=1162\u0026amp;h=756\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003enode代码\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003erouter.post(\u0026#39;/adv/picture/upload\u0026#39;, (req, res, next) =\u0026gt; {\n    // console.log(req.body)\n    let uid = req.body.uid;\n    let name = req.body.name;\n    let type = req.body.type;\n    let size = req.body.size;\n    let base_data = req.body.base_data;\n    let ext = type.split(\u0026#39;/\u0026#39;)[1];\n    let data = base_data.replace(/^data:image\\/\\w+;base64,/, \u0026#39;\u0026#39;);\n    let dataBuffer = Buffer.from(data, \u0026#39;base64\u0026#39;);\n    // Linux\n    let path = \u0026#39;/home/wwwroot/node/blog.mcloudhub.com/app/public/images/adv\u0026#39;;\n    // Window\n    // let path = \u0026#39;C:/web/www/node/blog.mcloudhub.com/app/public/images/adv\u0026#39;;\n    Users.findById(uid).then(user =\u0026gt; {\n        // console.log(user)\n        let dirname = path + \u0026#39;/\u0026#39; + user._id;\n        fs.existsSync(dirname) || fs.mkdirSync(dirname); // 下载目录不存在创建目录\n        let filename = md5(new Date().getTime()) + \u0026#39;.\u0026#39; + ext;\n        fs.writeFile(dirname + \u0026#39;/\u0026#39; + filename, dataBuffer, function(err) {\n            if (err) {\n                console.log(err)\n            } else {\n                // 计算上传的图片宽度和高度\n                let dimensions = imageSize(dirname + \u0026#39;/\u0026#39; + filename); // 使用绝对路径，也可以使用url，使用url要转换成buffer\n                let width = dimensions.width;\n                let height = dimensions.height;\n                new Photos({\n                    user_id: user._id,\n                    author: user,\n                    originalname: name,\n                    filename: filename,\n                    path: dirname,\n                    fullpath: dirname + \u0026#39;/\u0026#39; + filename,\n                    encoding: \u0026#39;\u0026#39;,\n                    mimetype: type,\n                    size: size,\n                    width: width,\n                    height: height,\n                    add_date: sillyDateTime.format(new Date(), \u0026#39;YYYY-MM-DD HH:mm:ss\u0026#39;),\n                    isDel: 0\n                }).save().then(insert =\u0026gt; {\n                    if (!insert) throw console.log(insert);\n                    res.json({\n                        code: 1,\n                        message: \u0026#39;图片上传成功\u0026#39;,\n                        ok: true,\n                        data: {\n                            url: \u0026#39;https://blog.mcloudhub.com/public/images/adv/\u0026#39; + user._id + \u0026#39;/\u0026#39; + filename,\n                            width: width,\n                            height: height,\n                            size: width + \u0026#39;x\u0026#39; + height\n                        }\n                    });\n                });\n            }\n        });\n    }).catch(err =\u0026gt; {\n        console.log(err)\n    })\n});\n\u003c/code\u003e\u003c/pre\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3cc64d70830e13d1bf35b9"},"heart":3,"follow":0,"collect":0,"share":0,"comment":3,"read":0,"KeyWords":23209,"virtualLink":"","trueLink":"","qrcode":"","type":1,"deleted":false,"date":{"$date":"2019-01-14T17:26:41.482Z"},"updateTime":{"$date":"2019-03-09T04:01:31.023Z"},"__v":6,"commentsOwn":[{"$oid":"5c3c910585710f035b21350c"},{"$oid":"5c3c910585710f035b21350c"},{"$oid":"5c3e2295fc56f30dec47c533"}]}
{"_id":{"$oid":"5c3e01972d528a03c074135f"},"hearts":[{"$oid":"5c3c910585710f035b21350c"}],"follows":[],"collects":[],"shares":[],"comments":[{"$oid":"5c44ae989f36130e386a426c"}],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3e01972d528a03c074135e","title":"Android加载MapBox地图","content":"\u003ch3 id=\"h3-android-mapbox-\"\u003e\u003ca name=\"Android加载MapBox地图\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eAndroid加载MapBox地图\u003c/h3\u003e\u003ch4 id=\"h4--code-access_token-code-\"\u003e\u003ca name=\"注册帐号，申请\u003ccode\u003eaccess_token\u003c/code\u003e。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注册帐号，申请\u003ccode\u003eaccess_token\u003c/code\u003e。\u003c/h4\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001428_57152d1c71aae9f8823a1896da54d34f.png?w=2432\u0026amp;h=1612\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001428_57152d1c71aae9f8823a1896da54d34f.png?w=2432\u0026amp;h=1612\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003ch5 id=\"h5-\"\u003e\u003ca name=\"\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e \u003c/h5\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115235535_90856df0c26562f0b40b1dd2ba04c3bd.png?w=1670\u0026amp;h=1100\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115235535_90856df0c26562f0b40b1dd2ba04c3bd.png?w=1670\u0026amp;h=1100\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003ch3 id=\"h3--android-sdk\"\u003e\u003ca name=\"选择Android SDK\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e选择Android SDK\u003c/h3\u003e\u003ch3 id=\"h3--code-build-gradle-code-android-sdk-\"\u003e\u003ca name=\"在\u003ccode\u003ebuild.gradle\u003c/code\u003e文件中添加Android SDK。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003ebuild.gradle\u003c/code\u003e文件中添加Android SDK。\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003erepositories {\nmavenCentral()\n}\n\ndependencies {\nimplementation \u0026#39;com.mapbox.mapboxsdk:mapbox-android-sdk:7.0.0\u0026#39;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--code-androidmanifest-xml-code-\"\u003e\u003ca name=\"在\u003ccode\u003eAndroidManifest.xml.\u003c/code\u003e添加权限。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003eAndroidManifest.xml.\u003c/code\u003e添加权限。\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt;\n\u0026lt;manifest\u0026gt;\n...\n\u0026lt;uses-permission android:name=\u0026quot;android.permission.ACCESS_FINE_LOCATION\u0026quot; /\u0026gt;\n...\n\u0026lt;/manifest\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--code-mainactivity-java-code-mapbox-\"\u003e\u003ca name=\"在\u003ccode\u003eMainActivity.java\u003c/code\u003e文件中添加mapBox类\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003eMainActivity.java\u003c/code\u003e文件中添加mapBox类\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003eimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport com.mapbox.mapboxsdk.Mapbox;\nimport com.mapbox.mapboxsdk.maps.MapView;\nimport com.mapbox.mapboxsdk.maps.Style;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private MapView mapView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // Mapbox.getInstance(this, \u0026quot;pk.eyJ1IjoiYmx1ZWxpZmUiLCJhIjoiY2puenNlMmg0MHB2OTNwcW91ejIxbzUxayJ9.rNj758FD0Gx23JuWS1wLDw\u0026quot;);\n        Mapbox.getInstance(this, getString(R.string.mapbox_access_token));\n        setContentView(R.layout.activity_main);\n        mapView = findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(new OnMapReadyCallback(){\n            @Override\n            public void onMapReady(final MapboxMap mapboxMap) {\n                // One way to add a marker view\n                mapboxMap.setStyle(Style.MAPBOX_STREETS, new Style.OnStyleLoaded() {\n                    @Override\n                    public void onStyleLoaded(@NonNull Style style) {\n                        // Map is set up and the style has loaded. Now you can add data or make other map adjustments.\n                        Toast.makeText(MainActivity.this, \u0026quot;MapBox loaded\u0026quot;, Toast.LENGTH_LONG).show();\n                    }\n                });\n            }\n        });\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mapView.onStart();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        mapView.onStop();\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n        }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        mapView.onDestroy();\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        mapView.onSaveInstanceState(outState);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--code-activity_main-xml-code-\"\u003e\u003ca name=\"在\u003ccode\u003eactivity_main.xml\u003c/code\u003e文件中添加布局容器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003eactivity_main.xml\u003c/code\u003e文件中添加布局容器\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt;\n\u0026lt;android.support.constraint.ConstraintLayout\nxmlns:android=\u0026quot;http://schemas.android.com/apk/res/android\u0026quot;\nxmlns:mapbox=\u0026quot;http://schemas.android.com/apk/res-auto\u0026quot;\nandroid:layout_width=\u0026quot;match_parent\u0026quot;\nandroid:layout_height=\u0026quot;match_parent\u0026quot;\u0026gt;\n\n\u0026lt;com.mapbox.mapboxsdk.maps.MapView\nandroid:id=\u0026quot;@+id/mapView\u0026quot;\nandroid:layout_width=\u0026quot;match_parent\u0026quot;\nandroid:layout_height=\u0026quot;match_parent\u0026quot;\nmapbox:mapbox_cameraTargetLat=\u0026quot;40.73581\u0026quot;\nmapbox:mapbox_cameraTargetLng=\u0026quot;-73.99155\u0026quot;\nmapbox:mapbox_cameraZoom=\u0026quot;11\u0026quot; /\u0026gt;\n\n\u0026lt;/android.support.constraint.ConstraintLayout\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001235_e737b7ca1950714a9d9b2cc487fba043.jpeg?w=1080\u0026amp;h=2280\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001235_e737b7ca1950714a9d9b2cc487fba043.jpeg?w=1080\u0026amp;h=2280\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u603Bu7ED3\"\u003e\u003ca name=\"总结\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e总结\u003c/h3\u003e\u003ch6 id=\"h6-android-res-gt-values-code-strings-xml-code-code-colors-xml-code-code-styles-xml-code-code-r-string-key-code-code-r-color-key-code-code-r-style-key-code-\"\u003e\u003ca name=\"Android应用的标题、颜色配置在res\u0026gt;values下面的\u003ccode\u003estrings.xml\u003c/code\u003e，\u003ccode\u003ecolors.xml\u003c/code\u003e,\u003ccode\u003estyles.xml\u003c/code\u003e文件中，使用\u003ccode\u003eR.string.key\u003c/code\u003e，\u003ccode\u003eR.color.key\u003c/code\u003e，\u003ccode\u003eR.style.key\u003c/code\u003e可以获取到值。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eAndroid应用的标题、颜色配置在res\u0026gt;values下面的\u003ccode\u003estrings.xml\u003c/code\u003e，\u003ccode\u003ecolors.xml\u003c/code\u003e,\u003ccode\u003estyles.xml\u003c/code\u003e文件中，使用\u003ccode\u003eR.string.key\u003c/code\u003e，\u003ccode\u003eR.color.key\u003c/code\u003e，\u003ccode\u003eR.style.key\u003c/code\u003e可以获取到值。\u003c/h6\u003e\u003cp\u003eaaaaaa\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3e01972d528a03c074135e"},"heart":1,"follow":0,"collect":0,"share":0,"comment":1,"read":0,"KeyWords":6923,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-01-15T15:51:51.137Z"},"updateTime":{"$date":"2019-01-22T17:21:00.287Z"},"__v":2,"html":"\u003ch3 id=\"h3-android-mapbox-\"\u003e\u003ca name=\"Android加载MapBox地图\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eAndroid加载MapBox地图\u003c/h3\u003e\u003ch4 id=\"h4--code-access_token-code-\"\u003e\u003ca name=\"注册帐号，申请\u003ccode\u003eaccess_token\u003c/code\u003e。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注册帐号，申请\u003ccode\u003eaccess_token\u003c/code\u003e。\u003c/h4\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001428_57152d1c71aae9f8823a1896da54d34f.png?w=2432\u0026amp;h=1612\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001428_57152d1c71aae9f8823a1896da54d34f.png?w=2432\u0026amp;h=1612\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003ch5 id=\"h5-\"\u003e\u003ca name=\"\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e \u003c/h5\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115235535_90856df0c26562f0b40b1dd2ba04c3bd.png?w=1670\u0026amp;h=1100\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190115/20190115235535_90856df0c26562f0b40b1dd2ba04c3bd.png?w=1670\u0026amp;h=1100\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003ch3 id=\"h3--android-sdk\"\u003e\u003ca name=\"选择Android SDK\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e选择Android SDK\u003c/h3\u003e\u003ch3 id=\"h3--code-build-gradle-code-android-sdk-\"\u003e\u003ca name=\"在\u003ccode\u003ebuild.gradle\u003c/code\u003e文件中添加Android SDK。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003ebuild.gradle\u003c/code\u003e文件中添加Android SDK。\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003erepositories {\nmavenCentral()\n}\n\ndependencies {\nimplementation \u0026#39;com.mapbox.mapboxsdk:mapbox-android-sdk:7.0.0\u0026#39;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--code-androidmanifest-xml-code-\"\u003e\u003ca name=\"在\u003ccode\u003eAndroidManifest.xml.\u003c/code\u003e添加权限。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003eAndroidManifest.xml.\u003c/code\u003e添加权限。\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt;\n\u0026lt;manifest\u0026gt;\n...\n\u0026lt;uses-permission android:name=\u0026quot;android.permission.ACCESS_FINE_LOCATION\u0026quot; /\u0026gt;\n...\n\u0026lt;/manifest\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--code-mainactivity-java-code-mapbox-\"\u003e\u003ca name=\"在\u003ccode\u003eMainActivity.java\u003c/code\u003e文件中添加mapBox类\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003eMainActivity.java\u003c/code\u003e文件中添加mapBox类\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003eimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport com.mapbox.mapboxsdk.Mapbox;\nimport com.mapbox.mapboxsdk.maps.MapView;\nimport com.mapbox.mapboxsdk.maps.Style;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private MapView mapView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // Mapbox.getInstance(this, \u0026quot;pk.eyJ1IjoiYmx1ZWxpZmUiLCJhIjoiY2puenNlMmg0MHB2OTNwcW91ejIxbzUxayJ9.rNj758FD0Gx23JuWS1wLDw\u0026quot;);\n        Mapbox.getInstance(this, getString(R.string.mapbox_access_token));\n        setContentView(R.layout.activity_main);\n        mapView = findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(new OnMapReadyCallback(){\n            @Override\n            public void onMapReady(final MapboxMap mapboxMap) {\n                // One way to add a marker view\n                mapboxMap.setStyle(Style.MAPBOX_STREETS, new Style.OnStyleLoaded() {\n                    @Override\n                    public void onStyleLoaded(@NonNull Style style) {\n                        // Map is set up and the style has loaded. Now you can add data or make other map adjustments.\n                        Toast.makeText(MainActivity.this, \u0026quot;MapBox loaded\u0026quot;, Toast.LENGTH_LONG).show();\n                    }\n                });\n            }\n        });\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mapView.onStart();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        mapView.onStop();\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n        }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        mapView.onDestroy();\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        mapView.onSaveInstanceState(outState);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--code-activity_main-xml-code-\"\u003e\u003ca name=\"在\u003ccode\u003eactivity_main.xml\u003c/code\u003e文件中添加布局容器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003eactivity_main.xml\u003c/code\u003e文件中添加布局容器\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt;\n\u0026lt;android.support.constraint.ConstraintLayout\nxmlns:android=\u0026quot;http://schemas.android.com/apk/res/android\u0026quot;\nxmlns:mapbox=\u0026quot;http://schemas.android.com/apk/res-auto\u0026quot;\nandroid:layout_width=\u0026quot;match_parent\u0026quot;\nandroid:layout_height=\u0026quot;match_parent\u0026quot;\u0026gt;\n\n\u0026lt;com.mapbox.mapboxsdk.maps.MapView\nandroid:id=\u0026quot;@+id/mapView\u0026quot;\nandroid:layout_width=\u0026quot;match_parent\u0026quot;\nandroid:layout_height=\u0026quot;match_parent\u0026quot;\nmapbox:mapbox_cameraTargetLat=\u0026quot;40.73581\u0026quot;\nmapbox:mapbox_cameraTargetLng=\u0026quot;-73.99155\u0026quot;\nmapbox:mapbox_cameraZoom=\u0026quot;11\u0026quot; /\u0026gt;\n\n\u0026lt;/android.support.constraint.ConstraintLayout\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001235_e737b7ca1950714a9d9b2cc487fba043.jpeg?w=1080\u0026amp;h=2280\" alt=\"\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001235_e737b7ca1950714a9d9b2cc487fba043.jpeg?w=1080\u0026amp;h=2280\"\u003ehttps://blog.mcloudhub.com/static/images/uploads/2...\u003c/span\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u603Bu7ED3\"\u003e\u003ca name=\"总结\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e总结\u003c/h3\u003e\u003ch6 id=\"h6-android-res-gt-values-code-strings-xml-code-code-colors-xml-code-code-styles-xml-code-code-r-string-key-code-code-r-color-key-code-code-r-style-key-code-\"\u003e\u003ca name=\"Android应用的标题、颜色配置在res\u0026gt;values下面的\u003ccode\u003estrings.xml\u003c/code\u003e，\u003ccode\u003ecolors.xml\u003c/code\u003e,\u003ccode\u003estyles.xml\u003c/code\u003e文件中，使用\u003ccode\u003eR.string.key\u003c/code\u003e，\u003ccode\u003eR.color.key\u003c/code\u003e，\u003ccode\u003eR.style.key\u003c/code\u003e可以获取到值。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eAndroid应用的标题、颜色配置在res\u0026gt;values下面的\u003ccode\u003estrings.xml\u003c/code\u003e，\u003ccode\u003ecolors.xml\u003c/code\u003e,\u003ccode\u003estyles.xml\u003c/code\u003e文件中，使用\u003ccode\u003eR.string.key\u003c/code\u003e，\u003ccode\u003eR.color.key\u003c/code\u003e，\u003ccode\u003eR.style.key\u003c/code\u003e可以获取到值。\u003c/h6\u003e\u003cp\u003eaaaaaa\u003c/p\u003e\n","markDown":"### Android加载MapBox地图\n\n#### 注册帐号，申请```access_token```。\n\n![](https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001428_57152d1c71aae9f8823a1896da54d34f.png?w=2432\u0026h=1612)\n\n##### \n\n![](https://blog.mcloudhub.com/static/images/uploads/20190115/20190115235535_90856df0c26562f0b40b1dd2ba04c3bd.png?w=1670\u0026h=1100)\n\n### 选择Android SDK\n\n### 在```build.gradle```文件中添加Android SDK。\n\n```\nrepositories {\nmavenCentral()\n}\n \ndependencies {\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:7.0.0'\n}\n```\n\n### 在```AndroidManifest.xml.```添加权限。\n\n```\n\u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e\n\u003cmanifest\u003e\n...\n\u003cuses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /\u003e\n...\n\u003c/manifest\u003e\n```\n\n### 在```MainActivity.java```文件中添加mapBox类\n\n```\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport com.mapbox.mapboxsdk.Mapbox;\nimport com.mapbox.mapboxsdk.maps.MapView;\nimport com.mapbox.mapboxsdk.maps.Style;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private MapView mapView;\n\n\u0009@Override\n\u0009protected void onCreate(Bundle savedInstanceState) {\n\u0009\u0009super.onCreate(savedInstanceState);\n\u0009\u0009// Mapbox.getInstance(this, \"pk.eyJ1IjoiYmx1ZWxpZmUiLCJhIjoiY2puenNlMmg0MHB2OTNwcW91ejIxbzUxayJ9.rNj758FD0Gx23JuWS1wLDw\");\n\u0009\u0009Mapbox.getInstance(this, getString(R.string.mapbox_access_token));\n\u0009\u0009setContentView(R.layout.activity_main);\n\u0009\u0009mapView = findViewById(R.id.mapView);\n\u0009\u0009mapView.onCreate(savedInstanceState);\n\u0009\u0009mapView.getMapAsync(new OnMapReadyCallback(){\n\u0009\u0009\u0009@Override\n\u0009\u0009\u0009public void onMapReady(final MapboxMap mapboxMap) {\n\u0009\u0009\u0009\u0009// One way to add a marker view\n\u0009\u0009\u0009\u0009mapboxMap.setStyle(Style.MAPBOX_STREETS, new Style.OnStyleLoaded() {\n\u0009\u0009\u0009\u0009\u0009@Override\n\u0009\u0009\u0009\u0009\u0009public void onStyleLoaded(@NonNull Style style) {\n\u0009\u0009\u0009\u0009\u0009\u0009// Map is set up and the style has loaded. Now you can add data or make other map adjustments.\n\u0009\u0009\u0009\u0009\u0009\u0009Toast.makeText(MainActivity.this, \"MapBox loaded\", Toast.LENGTH_LONG).show();\n\u0009\u0009\u0009\u0009\u0009}\n\u0009\u0009\u0009\u0009});\n\u0009\u0009\u0009}\n\u0009\u0009});\n\u0009}\n\u0009\n\u0009@Override\n\u0009public void onStart() {\n\u0009\u0009super.onStart();\n\u0009\u0009mapView.onStart();\n\u0009}\n\n\u0009@Override\n\u0009public void onResume() {\n\u0009\u0009super.onResume();\n\u0009\u0009mapView.onResume();\n\u0009}\n\n\u0009@Override\n\u0009public void onPause() {\n\u0009\u0009super.onPause();\n\u0009\u0009mapView.onPause();\n\u0009}\n\n\u0009@Override\n\u0009public void onStop() {\n\u0009\u0009super.onStop();\n\u0009\u0009mapView.onStop();\n\u0009}\n\n\u0009@Override\n\u0009public void onLowMemory() {\n\u0009\u0009super.onLowMemory();\n\u0009\u0009mapView.onLowMemory();\n\u0009\u0009}\n\n\u0009@Override\n\u0009protected void onDestroy() {\n\u0009\u0009super.onDestroy();\n\u0009\u0009mapView.onDestroy();\n\u0009}\n\n\u0009@Override\n\u0009protected void onSaveInstanceState(Bundle outState) {\n\u0009\u0009super.onSaveInstanceState(outState);\n\u0009\u0009mapView.onSaveInstanceState(outState);\n\u0009}\n}\n```\n\n### 在```activity_main.xml```文件中添加布局容器\n\n```\n\u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e\n\u003candroid.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:mapbox=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\u003e\n \n\u003ccom.mapbox.mapboxsdk.maps.MapView\nandroid:id=\"@+id/mapView\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nmapbox:mapbox_cameraTargetLat=\"40.73581\"\nmapbox:mapbox_cameraTargetLng=\"-73.99155\"\nmapbox:mapbox_cameraZoom=\"11\" /\u003e\n \n\u003c/android.support.constraint.ConstraintLayout\u003e\n```\n\n![](https://blog.mcloudhub.com/static/images/uploads/20190116/20190116001235_e737b7ca1950714a9d9b2cc487fba043.jpeg?w=1080\u0026h=2280)\n\n### 总结\n\n###### Android应用的标题、颜色配置在res\u003evalues下面的```strings.xml```，```colors.xml```,```styles.xml```文件中，使用```R.string.key```，```R.color.key```，```R.style.key```可以获取到值。\n\naaaaaa","commentsOwn":[{"$oid":"5c3c910585710f035b21350c"}]}
{"_id":{"$oid":"5c3e2295fc56f30dec47c535"},"hearts":[],"follows":[],"collects":[],"shares":[],"comments":[],"reads":[],"uid":"5c3e2295fc56f30dec47c533","labelId":"5c3e2295fc56f30dec47c534","title":"从前慢","content":"\u003ch3 id=\"h3-u4ECEu524Du6162\"\u003e\u003ca name=\"从前慢\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从前慢\u003c/h3\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"— 木心\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e— 木心\u003c/h6\u003e\u003ch4 id=\"h4-u8BB0u5F97u65E9u5148u5C11u5E74u65F6\"\u003e\u003ca name=\"记得早先少年时\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e记得早先少年时\u003c/h4\u003e\u003ch4 id=\"h4-u5927u5BB6u8BDAu8BDAu6073u6073\"\u003e\u003ca name=\"大家诚诚恳恳\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e大家诚诚恳恳\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"说一句 是一句\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e说一句 是一句\u003c/h4\u003e\u003ch4 id=\"h4-u6E05u65E9u4E0Au706Bu8F66u7AD9\"\u003e\u003ca name=\"清早上火车站\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e清早上火车站\u003c/h4\u003e\u003ch4 id=\"h4-u957Fu8857u9ED1u6697u65E0u884Cu4EBA\"\u003e\u003ca name=\"长街黑暗无行人\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e长街黑暗无行人\u003c/h4\u003e\u003ch4 id=\"h4-u5356u8C46u6D46u7684u5C0Fu5E97u5192u7740u70EDu6C14\"\u003e\u003ca name=\"卖豆浆的小店冒着热气\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e卖豆浆的小店冒着热气\u003c/h4\u003e\u003ch4 id=\"h4-u4ECEu524Du7684u65E5u8272u53D8u5F97u6162\"\u003e\u003ca name=\"从前的日色变得慢\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从前的日色变得慢\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"车，马，邮件都慢\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e车，马，邮件都慢\u003c/h4\u003e\u003ch4 id=\"h4-u4E00u751Fu53EAu591Fu7231u4E00u4E2Au4EBA\"\u003e\u003ca name=\"一生只够爱一个人\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e一生只够爱一个人\u003c/h4\u003e\u003ch4 id=\"h4-u4ECEu524Du7684u9501u4E5Fu597Du770B\"\u003e\u003ca name=\"从前的锁也好看\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从前的锁也好看\u003c/h4\u003e\u003ch4 id=\"h4-u94A5u5319u7CBEu7F8Eu6709u6837u5B50\"\u003e\u003ca name=\"钥匙精美有样子\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e钥匙精美有样子\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"你锁了 人家就懂了\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e你锁了 人家就懂了\u003c/h4\u003e","own":{"$oid":"5c3e2295fc56f30dec47c533"},"label":{"$oid":"5c3e2295fc56f30dec47c534"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":2083,"deleted":false,"date":{"$date":"2019-01-15T18:12:37.877Z"},"updateTime":{"$date":"2019-01-17T13:36:23.165Z"},"__v":0,"html":"\u003ch3 id=\"h3-u4ECEu524Du6162\"\u003e\u003ca name=\"从前慢\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从前慢\u003c/h3\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"— 木心\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e— 木心\u003c/h6\u003e\u003ch4 id=\"h4-u8BB0u5F97u65E9u5148u5C11u5E74u65F6\"\u003e\u003ca name=\"记得早先少年时\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e记得早先少年时\u003c/h4\u003e\u003ch4 id=\"h4-u5927u5BB6u8BDAu8BDAu6073u6073\"\u003e\u003ca name=\"大家诚诚恳恳\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e大家诚诚恳恳\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"说一句 是一句\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e说一句 是一句\u003c/h4\u003e\u003ch4 id=\"h4-u6E05u65E9u4E0Au706Bu8F66u7AD9\"\u003e\u003ca name=\"清早上火车站\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e清早上火车站\u003c/h4\u003e\u003ch4 id=\"h4-u957Fu8857u9ED1u6697u65E0u884Cu4EBA\"\u003e\u003ca name=\"长街黑暗无行人\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e长街黑暗无行人\u003c/h4\u003e\u003ch4 id=\"h4-u5356u8C46u6D46u7684u5C0Fu5E97u5192u7740u70EDu6C14\"\u003e\u003ca name=\"卖豆浆的小店冒着热气\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e卖豆浆的小店冒着热气\u003c/h4\u003e\u003ch4 id=\"h4-u4ECEu524Du7684u65E5u8272u53D8u5F97u6162\"\u003e\u003ca name=\"从前的日色变得慢\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从前的日色变得慢\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"车，马，邮件都慢\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e车，马，邮件都慢\u003c/h4\u003e\u003ch4 id=\"h4-u4E00u751Fu53EAu591Fu7231u4E00u4E2Au4EBA\"\u003e\u003ca name=\"一生只够爱一个人\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e一生只够爱一个人\u003c/h4\u003e\u003ch4 id=\"h4-u4ECEu524Du7684u9501u4E5Fu597Du770B\"\u003e\u003ca name=\"从前的锁也好看\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从前的锁也好看\u003c/h4\u003e\u003ch4 id=\"h4-u94A5u5319u7CBEu7F8Eu6709u6837u5B50\"\u003e\u003ca name=\"钥匙精美有样子\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e钥匙精美有样子\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"你锁了 人家就懂了\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e你锁了 人家就懂了\u003c/h4\u003e","markDown":"### 从前慢\n\n###### -- 木心\n\n#### 记得早先少年时 \n\n#### 大家诚诚恳恳 \n\n#### 说一句 是一句 \n\n\n\n#### 清早上火车站 \n#### 长街黑暗无行人 \n#### 卖豆浆的小店冒着热气 \n\n\n\n#### 从前的日色变得慢 \n\n#### 车，马，邮件都慢 \n\n#### 一生只够爱一个人 \n\n\n\n#### 从前的锁也好看 \n\n#### 钥匙精美有样子 \n\n#### 你锁了 人家就懂了 "}
{"_id":{"$oid":"5c3e22f0fc56f30dec47c538"},"hearts":[],"follows":[],"collects":[],"shares":[],"comments":[],"reads":[],"uid":"5c3e2295fc56f30dec47c533","labelId":"5c3e22f0fc56f30dec47c537","title":"{ MongoError: E11000 duplicate key error collection: blog.users index: username_1 dup key: { : null }","content":"\u003ch4 id=\"h4--mongodb-mongoerror-e11000-duplicate-key-error-collection-blog-users-index-username_1-dup-key-null-\"\u003e\u003ca name=\"使用MOngoDB数据库添加数据报错{ MongoError: E11000 duplicate key error collection: blog.users index: username_1 dup key: { : null }，原因是因为要添加的数据生成的索引在数据库中已经存在，发生冲突。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用MOngoDB数据库添加数据报错{ MongoError: E11000 duplicate key error collection: blog.users index: username_1 dup key: { : null }，原因是因为要添加的数据生成的索引在数据库中已经存在，发生冲突。\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h4\u003e\u003ch5 id=\"h5-u67E5u770Bu5F53u524Du7D22u5F15\"\u003e\u003ca name=\"查看当前索引\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看当前索引\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003edb.collection.getIndexs();\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u5220u9664u5DF2u7ECFu5B58u5728u7684u7D22u5F15\"\u003e\u003ca name=\"删除已经存在的索引\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e删除已经存在的索引\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003edb.collection.dropIndexs();\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"执行两步操作后，重新添加数据成功。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行两步操作后，重新添加数据成功。\u003c/h6\u003e","own":{"$oid":"5c3e2295fc56f30dec47c533"},"label":{"$oid":"5c3e22f0fc56f30dec47c537"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":1205,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-01-15T18:14:08.135Z"},"updateTime":{"$date":"2019-01-15T18:41:43.392Z"},"__v":0,"html":"\u003ch4 id=\"h4--mongodb-mongoerror-e11000-duplicate-key-error-collection-blog-users-index-username_1-dup-key-null-\"\u003e\u003ca name=\"使用MOngoDB数据库添加数据报错{ MongoError: E11000 duplicate key error collection: blog.users index: username_1 dup key: { : null }，原因是因为要添加的数据生成的索引在数据库中已经存在，发生冲突。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用MOngoDB数据库添加数据报错{ MongoError: E11000 duplicate key error collection: blog.users index: username_1 dup key: { : null }，原因是因为要添加的数据生成的索引在数据库中已经存在，发生冲突。\u003c/h4\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h4\u003e\u003ch5 id=\"h5-u67E5u770Bu5F53u524Du7D22u5F15\"\u003e\u003ca name=\"查看当前索引\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看当前索引\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003edb.collection.getIndexs();\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u5220u9664u5DF2u7ECFu5B58u5728u7684u7D22u5F15\"\u003e\u003ca name=\"删除已经存在的索引\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e删除已经存在的索引\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003edb.collection.dropIndexs();\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"执行两步操作后，重新添加数据成功。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行两步操作后，重新添加数据成功。\u003c/h6\u003e","markDown":"#### 使用MOngoDB数据库添加数据报错{ MongoError: E11000 duplicate key error collection: blog.users index: username_1 dup key: { : null }，原因是因为要添加的数据生成的索引在数据库中已经存在，发生冲突。\n\n#### 解决方法：\n\n##### 查看当前索引\n\n```\ndb.collection.getIndexs();\n```\n\n##### 删除已经存在的索引\n\n```\ndb.collection.dropIndexs();\n```\n\n###### 执行两步操作后，重新添加数据成功。"}
{"_id":{"$oid":"5c3e298a3851c10f7f4e4e11"},"hearts":[{"$oid":"5c3c910585710f035b21350c"},{"$oid":"5c3c910585710f035b21350c"}],"follows":[],"collects":[],"shares":[],"comments":[{"$oid":"5c3f7d310413812162b52a9e"}],"reads":[],"uid":"5c3e2295fc56f30dec47c533","labelId":"5c3e22f0fc56f30dec47c537","title":"mongoose使用","content":"\u003ch3 id=\"h3-mongoose-\"\u003e\u003ca name=\"mongoose使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003emongoose使用\u003c/h3\u003e\u003cp\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116031233_e0bf912188e1986f18e78401fad22809.png?w=1278\u0026amp;h=482\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch4 id=\"h4-u7B80u4ECB\"\u003e\u003ca name=\"简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e简介\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003emongoose是在node环境下操作mongooDB的一个优雅的建模工具，提供了一种简单的、基于模式的应用程序数据建模解决方案。它包括内置的类型转换、验证、查询构建、业务逻辑钩子等等。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"安装：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003enpm install mongoose\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：\u003c/h6\u003e\u003cblockquote\u003e\n\u003cp\u003emongoose是在node环境下操作mongooDB的简单化的一个工具，所以依赖node跟mongoDB，在安装mongoose要确保服务器上已经安装了node跟mongoDB，还要安装mongodb npm包，执行 \u003ccode\u003enpm install mongodb\u003c/code\u003e可安装。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003emongoose.connect(uri, options, callback);\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4-u53C2u6570\"\u003e\u003ca name=\"参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e1：uri                // 连接数据库的uri，如：mongodb://localhost:27017/test。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e2：options        // 连接数据的设置选项，如果：数据库管理员角色名称、密码、数据库、URI解析器等设置。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e3：callback        // 连接成功或失败的回调函数，如：(err, connect) =\u0026gt; {}。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"实例：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实例：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003econst mongoose = require(\u0026#39;mongoose);\n// 连接mongoDB数据库\nmongoose.connect(\u0026#39;mongodb://localhost:27017/blog\u0026#39;,{\n    useNewUrlParser: true        // 指定使用新的url解析器，解析连接url\n}, (err, connect) =\u0026gt; {\n    if (err) {\n        console.log(err);\n    } else {\n        console.log(\u0026#39;mongoDB connect success\u0026#39;)\n        console.log(connect);\n    }\n});\n\n// 获取数据库的游标\nconst db = mongoose.connection;\ndb.on(\u0026#39;error\u0026#39;, console.error.bind(console, \u0026#39;connection error:\u0026#39;));\ndb.once(\u0026#39;open\u0026#39;, function() {\n  // we\u0026#39;re connected!\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-schema\"\u003e\u003ca name=\"Schema\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eSchema\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003eSchema翻译为骨架，可以定义数据库的珍结构。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003econst userSchema = new mongoose.Schema({\n    name: String,\n    email: String,\n    sex: Number,\n    age: Number,\n    ....\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-model\"\u003e\u003ca name=\"Model\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eModel\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003emodel对Schema定义的表结构进行操作，如：CURD。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003econst userModel = mongoose.model(\u0026#39;User\u0026#39;, userSchema);\n\n// 增加一个用户\nnew userModel({\n    name: \u0026#39;admin\u0026#39;,\n    email: \u0026#39;admin.@admin.com\u0026#39;,\n    sex: 0,\n    age: 100\n}).save().then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err);\n})\n\n// 查看用户\nuserModel.findOne({name: name}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 通过id查找\nuserModel.findById({name: name}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 查找所有用户\nuserModel.find({}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 通过id更新\nuserModel.findByIdUpdate(id, {name: name}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 通过id删除\nuserModel.findByIdDelete(id).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6-u63D0u793A\"\u003e\u003ca name=\"提示\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示\u003c/h6\u003e\u003cblockquote\u003e\n\u003cp\u003e查找方法还可以设置一些选项，如要返回的字段：值，{name: true, email: true}.\u003cbr\u003e更新可以设置返回更新后的结果，如：{new:true}\u003c/p\u003e\n\u003c/blockquote\u003e\n","markDown":"### mongoose使用\n\n![](https://blog.mcloudhub.com/static/images/uploads/20190116/20190116031233_e0bf912188e1986f18e78401fad22809.png?w=1278\u0026h=482)\n\n#### 简介\n\n\u003e mongoose是在node环境下操作mongooDB的一个优雅的建模工具，提供了一种简单的、基于模式的应用程序数据建模解决方案。它包括内置的类型转换、验证、查询构建、业务逻辑钩子等等。\n\n#### 安装：\n\n```\nnpm install mongoose\n```\n\n###### 提示：\n\n\u003e mongoose是在node环境下操作mongooDB的简单化的一个工具，所以依赖node跟mongoDB，在安装mongoose要确保服务器上已经安装了node跟mongoDB，还要安装mongodb npm包，执行 ```npm install mongodb```可安装。\n\n#### 语法：\n\n```\nmongoose.connect(uri, options, callback);\n```\n\n* #### 参数\n* * 1：uri\u0009\u0009\u0009\u0009// 连接数据库的uri，如：mongodb://localhost:27017/test。\n* * 2：options\u0009\u0009// 连接数据的设置选项，如果：数据库管理员角色名称、密码、数据库、URI解析器等设置。\n* * 3：callback\u0009\u0009// 连接成功或失败的回调函数，如：(err, connect) =\u003e {}。\n\n#### 实例：\n\n```\nconst mongoose = require('mongoose);\n// 连接mongoDB数据库\nmongoose.connect('mongodb://localhost:27017/blog',{\n\u0009useNewUrlParser: true\u0009\u0009// 指定使用新的url解析器，解析连接url\n}, (err, connect) =\u003e {\n\u0009if (err) {\n        console.log(err);\n    } else {\n\u0009\u0009console.log('mongoDB connect success')\n        console.log(connect);\n    }\n});\n\n// 获取数据库的游标\nconst db = mongoose.connection;\ndb.on('error', console.error.bind(console, 'connection error:'));\ndb.once('open', function() {\n  // we're connected!\n});\n```\n\n#### Schema\n\n\u003e Schema翻译为骨架，可以定义数据库的珍结构。\n\n```\nconst userSchema = new mongoose.Schema({\n\u0009name: String,\n\u0009email: String,\n\u0009sex: Number,\n\u0009age: Number,\n\u0009....\n});\n```\n\n#### Model\n\n\u003e model对Schema定义的表结构进行操作，如：CURD。\n\n```\nconst userModel = mongoose.model('User', userSchema);\n\n// 增加一个用户\nnew userModel({\n\u0009name: 'admin',\n\u0009email: 'admin.@admin.com',\n\u0009sex: 0,\n\u0009age: 100\n}).save().then(user=\u003e{\n\u0009console.log(user)\n}).catch(err=\u003e{\n\u0009console.log(err);\n})\n\n// 查看用户\nuserModel.findOne({name: name}).then(user=\u003e{\n\u0009console.log(user)\n}).catch(err=\u003e{\n\u0009console.log(err)\n})\n\n// 通过id查找\nuserModel.findById({name: name}).then(user=\u003e{\n\u0009console.log(user)\n}).catch(err=\u003e{\n\u0009console.log(err)\n})\n\n// 查找所有用户\nuserModel.find({}).then(user=\u003e{\n\u0009console.log(user)\n}).catch(err=\u003e{\n\u0009console.log(err)\n})\n\n// 通过id更新\nuserModel.findByIdUpdate(id, {name: name}).then(user=\u003e{\n\u0009console.log(user)\n}).catch(err=\u003e{\n\u0009console.log(err)\n})\n\n// 通过id删除\nuserModel.findByIdDelete(id).then(user=\u003e{\n\u0009console.log(user)\n}).catch(err=\u003e{\n\u0009console.log(err)\n})\n```\n\n###### 提示\n\n\u003e 查找方法还可以设置一些选项，如要返回的字段：值，{name: true, email: true}.\n\u003e 更新可以设置返回更新后的结果，如：{new:true}\n\n\n","html":"\u003ch3 id=\"h3-mongoose-\"\u003e\u003ca name=\"mongoose使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003emongoose使用\u003c/h3\u003e\u003cp\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190116/20190116031233_e0bf912188e1986f18e78401fad22809.png?w=1278\u0026amp;h=482\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch4 id=\"h4-u7B80u4ECB\"\u003e\u003ca name=\"简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e简介\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003emongoose是在node环境下操作mongooDB的一个优雅的建模工具，提供了一种简单的、基于模式的应用程序数据建模解决方案。它包括内置的类型转换、验证、查询构建、业务逻辑钩子等等。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"安装：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003enpm install mongoose\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：\u003c/h6\u003e\u003cblockquote\u003e\n\u003cp\u003emongoose是在node环境下操作mongooDB的简单化的一个工具，所以依赖node跟mongoDB，在安装mongoose要确保服务器上已经安装了node跟mongoDB，还要安装mongodb npm包，执行 \u003ccode\u003enpm install mongodb\u003c/code\u003e可安装。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003emongoose.connect(uri, options, callback);\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4-u53C2u6570\"\u003e\u003ca name=\"参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e1：uri                // 连接数据库的uri，如：mongodb://localhost:27017/test。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e2：options        // 连接数据的设置选项，如果：数据库管理员角色名称、密码、数据库、URI解析器等设置。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e3：callback        // 连接成功或失败的回调函数，如：(err, connect) =\u0026gt; {}。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"实例：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实例：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003econst mongoose = require(\u0026#39;mongoose);\n// 连接mongoDB数据库\nmongoose.connect(\u0026#39;mongodb://localhost:27017/blog\u0026#39;,{\n    useNewUrlParser: true        // 指定使用新的url解析器，解析连接url\n}, (err, connect) =\u0026gt; {\n    if (err) {\n        console.log(err);\n    } else {\n        console.log(\u0026#39;mongoDB connect success\u0026#39;)\n        console.log(connect);\n    }\n});\n\n// 获取数据库的游标\nconst db = mongoose.connection;\ndb.on(\u0026#39;error\u0026#39;, console.error.bind(console, \u0026#39;connection error:\u0026#39;));\ndb.once(\u0026#39;open\u0026#39;, function() {\n  // we\u0026#39;re connected!\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-schema\"\u003e\u003ca name=\"Schema\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eSchema\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003eSchema翻译为骨架，可以定义数据库的珍结构。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003econst userSchema = new mongoose.Schema({\n    name: String,\n    email: String,\n    sex: Number,\n    age: Number,\n    ....\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-model\"\u003e\u003ca name=\"Model\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eModel\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003emodel对Schema定义的表结构进行操作，如：CURD。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003econst userModel = mongoose.model(\u0026#39;User\u0026#39;, userSchema);\n\n// 增加一个用户\nnew userModel({\n    name: \u0026#39;admin\u0026#39;,\n    email: \u0026#39;admin.@admin.com\u0026#39;,\n    sex: 0,\n    age: 100\n}).save().then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err);\n})\n\n// 查看用户\nuserModel.findOne({name: name}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 通过id查找\nuserModel.findById({name: name}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 查找所有用户\nuserModel.find({}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 通过id更新\nuserModel.findByIdUpdate(id, {name: name}).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\n// 通过id删除\nuserModel.findByIdDelete(id).then(user=\u0026gt;{\n    console.log(user)\n}).catch(err=\u0026gt;{\n    console.log(err)\n})\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6-u63D0u793A\"\u003e\u003ca name=\"提示\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示\u003c/h6\u003e\u003cblockquote\u003e\n\u003cp\u003e查找方法还可以设置一些选项，如要返回的字段：值，{name: true, email: true}.\u003cbr\u003e更新可以设置返回更新后的结果，如：{new:true}\u003c/p\u003e\n\u003c/blockquote\u003e\n","own":{"$oid":"5c3e2295fc56f30dec47c533"},"label":{"$oid":"5c3e22f0fc56f30dec47c537"},"heart":2,"follow":0,"collect":0,"share":0,"comment":1,"read":0,"KeyWords":3966,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-01-15T18:42:18.959Z"},"updateTime":{"$date":"2019-01-17T13:31:14.255Z"},"__v":3,"commentsOwn":[{"$oid":"5c3c910585710f035b21350c"}]}
{"_id":{"$oid":"5c40896e9ba4bb22d3072a9d"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3e2295fc56f30dec47c533","labelId":"5c40896e9ba4bb22d3072a9c","title":"ChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443","content":"\u003ch4 id=\"h4-chromedriver-installation-failed-error-with-http-s-request-error-connect-etimedout-172-217-24-16-443\"\u003e\u003ca name=\"ChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\u003c/h4\u003e\u003ch5 id=\"h5--vue-cli-chromedriver-goole-npm-\"\u003e\u003ca name=\"在使用vue-cli创建项目安装依赖时当安装到ChromeDriver时报错提示连接错误请求超时，期根本原因就是因为goole的服务器在国外，由于众所周知的原因，才导致请求超时，所以解决方法就是使用国内的npm源。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在使用vue-cli创建项目安装依赖时当安装到ChromeDriver时报错提示连接错误请求超时，期根本原因就是因为goole的服务器在国外，由于众所周知的原因，才导致请求超时，所以解决方法就是使用国内的npm源。\u003c/h5\u003e\u003ch5 id=\"h5-u63D0u793Au9519u8BEFu4FE1u606F\"\u003e\u003ca name=\"提示错误信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示错误信息\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003eCurrent existing ChromeDriver binary is unavailable, proceding with download and extraction.\nDownloading from file:  https://chromedriver.storage.googleapis.com/2.45/chromedriver_mac64.zip\nSaving to file: /var/folders/2f/w8tkrk8n54j2ngjj5zv9smk80000gn/T/chromedriver/chromedriver_mac64.zip\nChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.45.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.45.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/bluelifeleer/.npm/_logs/2019-01-17T13_54_39_854Z-debug.log\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190117/20190117220105_931479caf0bf282a71db40e1d7e4199a.png?w=1140\u0026amp;h=730\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch5 id=\"h5--npm-\"\u003e\u003ca name=\"解决方法使用淘宝npm源安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法使用淘宝npm源安装\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003enpm install chromedriver --chromedriver_cdnurl=http://cdn.npm.taobao.org/dist/chromedriver\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u6267u884Cu540Eu5B89u88C5u6210u529F\"\u003e\u003ca name=\"执行后安装成功\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行后安装成功\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003ebluelifes-MacBook-Pro:tools.mcloudhub.com-dev bluelifeleer$ npm install chromedriver --chromedriver_cdnurl=http://cdn.npm.taobao.org/dist/chromedriver\n\n\u0026gt; chromedriver@2.45.0 install /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver\n\u0026gt; node install.js\n\nCurrent existing ChromeDriver binary is unavailable, proceding with download and extraction.\nDownloading from file:  http://cdn.npm.taobao.org/dist/chromedriver/2.45/chromedriver_mac64.zip\nSaving to file: /var/folders/2f/w8tkrk8n54j2ngjj5zv9smk80000gn/T/chromedriver/chromedriver_mac64.zip\nReceived 781K...\nReceived 1565K...\nReceived 2346K...\nReceived 3177K...\nReceived 3969K...\nReceived 4752K...\nReceived 5535K...\nReceived 6317K...\nReceived 6789K total.\nExtracting zip contents\nCopying to target path /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver/lib/chromedriver\nFixing file permissions\nDone. ChromeDriver binary available at /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver/lib/chromedriver/chromedriver\n+ chromedriver@2.45.0\nadded 9 packages from 8 contributors, removed 6 packages, updated 36 packages, moved 1 package and audited 28435 packages in 28.9s\nfound 1 high severity vulnerability\n  run `npm audit fix` to fix them, or `npm audit` for details\nbluelifes-MacBook-Pro:tools.mcloudhub.com-dev bluelifeleer$\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190117/20190117220245_3af01dfdc8e505a424769b3e9d7d0e80.png?w=1140\u0026amp;h=1010\" alt=\"\"\u003e\u003c/p\u003e\n","own":{"$oid":"5c3e2295fc56f30dec47c533"},"label":{"$oid":"5c40896e9ba4bb22d3072a9c"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":3879,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-01-17T13:55:58.071Z"},"updateTime":{"$date":"2019-01-17T14:02:51.053Z"},"__v":0,"html":"\u003ch4 id=\"h4-chromedriver-installation-failed-error-with-http-s-request-error-connect-etimedout-172-217-24-16-443\"\u003e\u003ca name=\"ChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\u003c/h4\u003e\u003ch5 id=\"h5--vue-cli-chromedriver-goole-npm-\"\u003e\u003ca name=\"在使用vue-cli创建项目安装依赖时当安装到ChromeDriver时报错提示连接错误请求超时，期根本原因就是因为goole的服务器在国外，由于众所周知的原因，才导致请求超时，所以解决方法就是使用国内的npm源。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在使用vue-cli创建项目安装依赖时当安装到ChromeDriver时报错提示连接错误请求超时，期根本原因就是因为goole的服务器在国外，由于众所周知的原因，才导致请求超时，所以解决方法就是使用国内的npm源。\u003c/h5\u003e\u003ch5 id=\"h5-u63D0u793Au9519u8BEFu4FE1u606F\"\u003e\u003ca name=\"提示错误信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示错误信息\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003eCurrent existing ChromeDriver binary is unavailable, proceding with download and extraction.\nDownloading from file:  https://chromedriver.storage.googleapis.com/2.45/chromedriver_mac64.zip\nSaving to file: /var/folders/2f/w8tkrk8n54j2ngjj5zv9smk80000gn/T/chromedriver/chromedriver_mac64.zip\nChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.45.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.45.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/bluelifeleer/.npm/_logs/2019-01-17T13_54_39_854Z-debug.log\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190117/20190117220105_931479caf0bf282a71db40e1d7e4199a.png?w=1140\u0026amp;h=730\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch5 id=\"h5--npm-\"\u003e\u003ca name=\"解决方法使用淘宝npm源安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法使用淘宝npm源安装\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003enpm install chromedriver --chromedriver_cdnurl=http://cdn.npm.taobao.org/dist/chromedriver\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u6267u884Cu540Eu5B89u88C5u6210u529F\"\u003e\u003ca name=\"执行后安装成功\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行后安装成功\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003ebluelifes-MacBook-Pro:tools.mcloudhub.com-dev bluelifeleer$ npm install chromedriver --chromedriver_cdnurl=http://cdn.npm.taobao.org/dist/chromedriver\n\n\u0026gt; chromedriver@2.45.0 install /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver\n\u0026gt; node install.js\n\nCurrent existing ChromeDriver binary is unavailable, proceding with download and extraction.\nDownloading from file:  http://cdn.npm.taobao.org/dist/chromedriver/2.45/chromedriver_mac64.zip\nSaving to file: /var/folders/2f/w8tkrk8n54j2ngjj5zv9smk80000gn/T/chromedriver/chromedriver_mac64.zip\nReceived 781K...\nReceived 1565K...\nReceived 2346K...\nReceived 3177K...\nReceived 3969K...\nReceived 4752K...\nReceived 5535K...\nReceived 6317K...\nReceived 6789K total.\nExtracting zip contents\nCopying to target path /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver/lib/chromedriver\nFixing file permissions\nDone. ChromeDriver binary available at /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver/lib/chromedriver/chromedriver\n+ chromedriver@2.45.0\nadded 9 packages from 8 contributors, removed 6 packages, updated 36 packages, moved 1 package and audited 28435 packages in 28.9s\nfound 1 high severity vulnerability\n  run `npm audit fix` to fix them, or `npm audit` for details\nbluelifes-MacBook-Pro:tools.mcloudhub.com-dev bluelifeleer$\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190117/20190117220245_3af01dfdc8e505a424769b3e9d7d0e80.png?w=1140\u0026amp;h=1010\" alt=\"\"\u003e\u003c/p\u003e\n","markDown":"#### ChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\n\n##### 在使用vue-cli创建项目安装依赖时当安装到ChromeDriver时报错提示连接错误请求超时，期根本原因就是因为goole的服务器在国外，由于众所周知的原因，才导致请求超时，所以解决方法就是使用国内的npm源。\n\n##### 提示错误信息\n\n```\nCurrent existing ChromeDriver binary is unavailable, proceding with download and extraction.\nDownloading from file:  https://chromedriver.storage.googleapis.com/2.45/chromedriver_mac64.zip\nSaving to file: /var/folders/2f/w8tkrk8n54j2ngjj5zv9smk80000gn/T/chromedriver/chromedriver_mac64.zip\nChromeDriver installation failed Error with http(s) request: Error: connect ETIMEDOUT 172.217.24.16:443\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.45.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.45.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/bluelifeleer/.npm/_logs/2019-01-17T13_54_39_854Z-debug.log\n```\n\n![](https://blog.mcloudhub.com/static/images/uploads/20190117/20190117220105_931479caf0bf282a71db40e1d7e4199a.png?w=1140\u0026h=730)\n\n##### 解决方法使用淘宝npm源安装\n\n```\nnpm install chromedriver --chromedriver_cdnurl=http://cdn.npm.taobao.org/dist/chromedriver\n```\n\n##### 执行后安装成功\n\n```\nbluelifes-MacBook-Pro:tools.mcloudhub.com-dev bluelifeleer$ npm install chromedriver --chromedriver_cdnurl=http://cdn.npm.taobao.org/dist/chromedriver\n\n\u003e chromedriver@2.45.0 install /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver\n\u003e node install.js\n\nCurrent existing ChromeDriver binary is unavailable, proceding with download and extraction.\nDownloading from file:  http://cdn.npm.taobao.org/dist/chromedriver/2.45/chromedriver_mac64.zip\nSaving to file: /var/folders/2f/w8tkrk8n54j2ngjj5zv9smk80000gn/T/chromedriver/chromedriver_mac64.zip\nReceived 781K...\nReceived 1565K...\nReceived 2346K...\nReceived 3177K...\nReceived 3969K...\nReceived 4752K...\nReceived 5535K...\nReceived 6317K...\nReceived 6789K total.\nExtracting zip contents\nCopying to target path /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver/lib/chromedriver\nFixing file permissions\nDone. ChromeDriver binary available at /Users/bluelifeleer/www/node/tools.mcloudhub.com-dev/node_modules/chromedriver/lib/chromedriver/chromedriver\n+ chromedriver@2.45.0\nadded 9 packages from 8 contributors, removed 6 packages, updated 36 packages, moved 1 package and audited 28435 packages in 28.9s\nfound 1 high severity vulnerability\n  run `npm audit fix` to fix them, or `npm audit` for details\nbluelifes-MacBook-Pro:tools.mcloudhub.com-dev bluelifeleer$ \n```\n\n![](https://blog.mcloudhub.com/static/images/uploads/20190117/20190117220245_3af01dfdc8e505a424769b3e9d7d0e80.png?w=1140\u0026h=1010)"}
{"_id":{"$oid":"5c44b1b07c8b42103eb47da7"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3c910585710f035b21350d","title":"心事","content":"\u003cp\u003e而我们总在零星片段时感觉自己处于人生最低谷，其实也只不过因为我们淡忘了之前的伤痛，也还未尝到明天未来的苦。It can always be worse, if we don”t try to make it better. 同样的，人类历史上的每一代人，都感觉自己是最不幸的generation，都感觉自己生活在道德最败坏，人情最淡薄的时代。我们都忘记自省，都只盯着别人的缺点和社会的弊端，却往往忘记我们自己也是别人眼中的别人，我们每个人都是这社会的一员。\u003c/p\u003e\n","markDown":"而我们总在零星片段时感觉自己处于人生最低谷，其实也只不过因为我们淡忘了之前的伤痛，也还未尝到明天未来的苦。It can always be worse, if we don\"t try to make it better. 同样的，人类历史上的每一代人，都感觉自己是最不幸的generation，都感觉自己生活在道德最败坏，人情最淡薄的时代。我们都忘记自省，都只盯着别人的缺点和社会的弊端，却往往忘记我们自己也是别人眼中的别人，我们每个人都是这社会的一员。","html":"\u003cp\u003e而我们总在零星片段时感觉自己处于人生最低谷，其实也只不过因为我们淡忘了之前的伤痛，也还未尝到明天未来的苦。It can always be worse, if we don”t try to make it better. 同样的，人类历史上的每一代人，都感觉自己是最不幸的generation，都感觉自己生活在道德最败坏，人情最淡薄的时代。我们都忘记自省，都只盯着别人的缺点和社会的弊端，却往往忘记我们自己也是别人眼中的别人，我们每个人都是这社会的一员。\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3c910585710f035b21350d"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":236,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-01-20T17:36:48.486Z"},"updateTime":{"$date":"2019-03-04T16:16:11.046Z"},"__v":0}
{"_id":{"$oid":"5c4b37d17942cc042f5cbf69"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c4b37d17942cc042f5cbf68","title":"canvas学习使用","content":"\u003ch3 id=\"h3-canvas-\"\u003e\u003ca name=\"canvas学习使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ecanvas学习使用\u003c/h3\u003e\u003ch3 id=\"h3-u7B80u4ECB\"\u003e\u003ca name=\"简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003ecanvas是html5新增的一个标签，提供了绘图与处理图片的接口，\u0026lt;canvas\u0026gt; 看起来和 \u0026lt;img\u0026gt; 元素很相像，唯一的不同就是它并没有 src 和 alt 属性。实际上，\u0026lt;canvas\u0026gt; 标签只有两个属性—— width和height。这些都是可选的，并且同样利用 DOM properties 来设置。当没有设置宽度和高度的时候，canvas会初始化宽度为300像素和高度为150像素。该元素可以使用CSS来定义大小，但在绘制时图像会伸缩以适应它的框架尺寸：如果CSS的尺寸与初始画布的比例不一致，它会出现扭曲。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u6807u7B7Eu5B9Au4E49\"\u003e\u003ca name=\"标签定义\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e标签定义\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026lt;canvas id=\u0026quot;canvas\u0026quot;\u0026gt;\n    您的浏览器不支持canvas标签\n\u0026lt;/canvas\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-javascript-\"\u003e\u003ca name=\"javascript操作\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ejavascript操作\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e// 获取canvas元素\nlet canvas = document.getElementById(\u0026#39;canvas\u0026#39;);\n// 获取canvas 2d环境上下文\nlet ctx = null;\nif(canvas.getContext){\n    alert(\u0026#39;您的浏览器不支持canvas标签\u0026#39;);\n}\nctx = canvas.getContext(\u0026#39;2d\u0026#39;);\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u7ED8u5236u5F62u72B6\"\u003e\u003ca name=\"绘制形状\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制形状\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u77E9u5F62\"\u003e\u003ca name=\"绘制矩形\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制矩形\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u7EBFu6761\"\u003e\u003ca name=\"绘制线条\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制线条\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u5706u5F27\"\u003e\u003ca name=\"绘制圆弧\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制圆弧\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u6587u672C\"\u003e\u003ca name=\"绘制文本\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制文本\u003c/h4\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-u5C5Eu6027u4E0Eu65B9u6CD5\"\u003e\u003ca name=\"属性与方法\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e属性与方法\u003c/h3\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名称\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e值\u003c/th\u003e\n\u003cth\u003e默认值\u003c/th\u003e\n\u003cth\u003e备注\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003egetContext()\u003c/td\u003e\n\u003ctd\u003e获取上下文环境\u003c/td\u003e\n\u003ctd\u003e‘2d’,’3d’\u003c/td\u003e\n\u003ctd\u003e‘2d’\u003c/td\u003e\n\u003ctd\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efillRect(x, y, width, height)\u003c/td\u003e\n\u003ctd\u003e绘制矩形\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estrokeRect(x, y, width, height)\u003c/td\u003e\n\u003ctd\u003e绘制矩形边框\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eclearRect()\u003c/td\u003e\n\u003ctd\u003e清除指定矩形区域，让清除部分完全透明。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ebeginPath()\u003c/td\u003e\n\u003ctd\u003e新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e当前路径为空，即调用beginPath()之后，或者canvas刚建的时候，第一条路径构造命令通常被视为是moveTo（），无论实际上是什么。出于这个原因，你几乎总是要在设置路径之后专门指定你的起始位置。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eclosePath()\u003c/td\u003e\n\u003ctd\u003e闭合路径之后图形绘制命令又重新指向到上下文中。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estroke()\u003c/td\u003e\n\u003ctd\u003e通过线条来绘制图形轮廓。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efill()\u003c/td\u003e\n\u003ctd\u003e通过填充路径的内容区域生成实心的图形。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e当调用fill()函数时，所有没有闭合的形状都会自动闭合，所以你不需要调用closePath()函数。但是调用stroke()时不会自动闭合。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003emoveTo(x, y)\u003c/td\u003e\n\u003ctd\u003e将当前画笔移动到指定位置。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineTo(x, y)\u003c/td\u003e\n\u003ctd\u003e绘制一条从当前位置到指定x以及y位置的直线。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003earc(x, y, radius, startAngle, endAngle, anticlockwise)\u003c/td\u003e\n\u003ctd\u003e画一个以（x,y）为圆心的以radius为半径的圆弧（圆），从startAngle开始到endAngle结束，按照anticlockwise给定的方向（默认为顺时针）来生成。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e该方法有六个参数：x,y为绘制圆弧所在圆上的圆心坐标。radius为半径。startAngle以及endAngle参数用弧度定义了开始以及结束的弧度。这些都是以x轴为基准。参数anticlockwise为一个布尔值。为true时，是逆时针方向，否则顺时针方向。arc()函数中表示角的单位是弧度，不是角度。角度与弧度的js表达式:弧度=(Math.PI/180)*角度。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003erect(x, y, width, height)\u003c/td\u003e\n\u003ctd\u003e绘制一个左上角坐标为（x,y），宽高为width以及height的矩形。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e当该方法执行的时候，moveTo()方法自动设置坐标参数（0,0）。也就是说，当前笔触自动重置回默认坐标。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efillStyle\u003c/td\u003e\n\u003ctd\u003e为绘制的图形填充颜色\u003c/td\u003e\n\u003ctd\u003ecolor\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003ecolor的值可以是rgba的值，如：rgba(255,255,255,.5)，也可以是十六进制的值，如：#FFF，还可以是颜色的英文值，如：orange 。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estrockeStyle\u003c/td\u003e\n\u003ctd\u003e设置图形轮廓的颜色。\u003c/td\u003e\n\u003ctd\u003ecolor\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003ecolor的值可以是rgba的值，如：rgba(255,255,255,.5)，也可以是十六进制的值，如：#FFF，还可以是颜色的英文值，如：orange 。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eglobalAlpha\u003c/td\u003e\n\u003ctd\u003e设置canvas图形的透明度\u003c/td\u003e\n\u003ctd\u003etransparencyValue\u003c/td\u003e\n\u003ctd\u003e1.0\u003c/td\u003e\n\u003ctd\u003e这个属性影响到 canvas 里所有图形的透明度，有效的值范围是 0.0 （完全透明）到 1.0（完全不透明），默认是 1.0。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineWidth\u003c/td\u003e\n\u003ctd\u003e设置线条宽度。\u003c/td\u003e\n\u003ctd\u003evalue\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineCap\u003c/td\u003e\n\u003ctd\u003e设置线条末端样式。\u003c/td\u003e\n\u003ctd\u003e‘butt’,’round’.’square’\u003c/td\u003e\n\u003ctd\u003e‘butt’\u003c/td\u003e\n\u003ctd\u003ebutt:线段末端以方形结束。round:线段末端以圆形结束。square:线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一半的矩形区域。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineJoin\u003c/td\u003e\n\u003ctd\u003e设定线条与线条间接合处的样式。\u003c/td\u003e\n\u003ctd\u003e‘round’,’bevel’,’miter’\u003c/td\u003e\n\u003ctd\u003e‘miter’\u003c/td\u003e\n\u003ctd\u003e注意：如果2个相连部分在同一方向，那么lineJoin不会产生任何效果，因为在那种情况下不会出现连接区域。round:通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状。 圆角的半径是线段的宽度。bevel:在相连部分的末端填充一个额外的以三角形为底的区域， 每个部分都有各自独立的矩形拐角。miter:通过延伸相连部分的外边缘，使其相交于一点，形成一个额外的菱形区域。这个设置可以通过 miterLimit 属性看到效果。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003emiterLimit\u003c/td\u003e\n\u003ctd\u003e限制当两条线相交时交接处最大长度；所谓交接处长度（斜接长度）是指线条交接处内角顶点到外角顶点的长度。\u003c/td\u003e\n\u003ctd\u003evalue\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003egetLineDash()\u003c/td\u003e\n\u003ctd\u003e返回一个包含当前虚线样式，长度为非负偶数的数组。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esetLineDash(segments)\u003c/td\u003e\n\u003ctd\u003e设置当前虚线样式。\u003c/td\u003e\n\u003ctd\u003esegments是一个Array数组。一组描述交替绘制线段和间距（坐标空间单位）长度的数字。 如果数组元素的数量是奇数， 数组的元素会被复制并重复。例如， [5, 15, 25] 会变成 [5, 15, 25, 5, 15, 25]。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineDashOffset\u003c/td\u003e\n\u003ctd\u003e设置虚线样式的起始偏移量。\u003c/td\u003e\n\u003ctd\u003evalue\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efillText(text, x, y [, maxWidth])\u003c/td\u003e\n\u003ctd\u003e在指定的(x,y)位置填充指定的文本，绘制的最大宽度是可选的.\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estrokeText(text, x, y [, maxWidth])\u003c/td\u003e\n\u003ctd\u003e在指定的(x,y)位置绘制文本边框，绘制的最大宽度是可选的.\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003emeasureText()\u003c/td\u003e\n\u003ctd\u003e预获取文本宽度\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efont\u003c/td\u003e\n\u003ctd\u003e当前我们用来绘制文本的样式。\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003ctd\u003e10px sans-serif\u003c/td\u003e\n\u003ctd\u003e这个字符串使用和 CSS font 属性相同的语法. 默认的字体是 10px sans-serif。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etextAlign\u003c/td\u003e\n\u003ctd\u003e文本对齐选项。\u003c/td\u003e\n\u003ctd\u003estart, end, left, right or center\u003c/td\u003e\n\u003ctd\u003estart\u003c/td\u003e\n\u003ctd\u003e可选的值包括：start, end, left, right or center. 默认值是 start。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etextBaseline\u003c/td\u003e\n\u003ctd\u003e基线对齐选项。\u003c/td\u003e\n\u003ctd\u003etop, hanging, middle, alphabetic, ideographic, bottom\u003c/td\u003e\n\u003ctd\u003ealphabetic\u003c/td\u003e\n\u003ctd\u003e可选的值包括：top, hanging, middle, alphabetic, ideographic, bottom。默认值是 alphabetic。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003edirection\u003c/td\u003e\n\u003ctd\u003e文本方向。\u003c/td\u003e\n\u003ctd\u003eltr, rtl, inherit\u003c/td\u003e\n\u003ctd\u003einherit\u003c/td\u003e\n\u003ctd\u003e可能的值包括：ltr, rtl, inherit。默认值是 inherit。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"h3-u5B9Eu4F8B\"\u003e\u003ca name=\"实例\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实例\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e通过矩形绘制一个图表\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt;\n\u0026lt;head\u0026gt;\n    \u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;\n    \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width, initial-scale=1.0\u0026quot;\u0026gt;\n    \u0026lt;meta http-equiv=\u0026quot;X-UA-Compatible\u0026quot; content=\u0026quot;ie=edge\u0026quot;\u0026gt;\n    \u0026lt;title\u0026gt;{{title}}\u0026lt;/title\u0026gt;\n    \u0026lt;script type=\u0026quot;text/javascript\u0026quot;\u0026gt;\n        window.onload = () =\u0026gt;{\n           let canvas = document.getElementById(\u0026#39;canvas\u0026#39;);\n           if(!canvas.getContext){\n            alert(\u0026#39;您的浏览器不支持canvas\u0026#39;)\n           }\n           let ctx = canvas.getContext(\u0026#39;2d\u0026#39;);\n           console.log(ctx);\n           let items = {\n               title: \u0026#39;四天浏览数据\u0026#39;,\n               data: [{\n                label: \u0026#39;2019-01-21\u0026#39;,\n                value:100,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: \u0026#39;2019-01-22\u0026#39;,\n                value:110,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: \u0026#39;2019-01-23\u0026#39;,\n                value:150,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: \u0026#39;2019-01-24\u0026#39;,\n                value:380,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            }]\n           };\n\n           let titleTextMea = ctx.measureText(items.title);\n           ctx.fillStyle = \u0026quot;rgb(200,200,200)\u0026quot;;\n           ctx.textBaseline = \u0026#39;middle\u0026#39;;\n           ctx.fillText(items.title, parseInt((500-titleTextMea.width)/2), 10, titleTextMea.width);\n           items.data.forEach((item,index)=\u0026gt;{\n               // 预获取文本宽度信息\n               let text = ctx.measureText(item.label);\n               ctx.fillStyle = \u0026quot;rgb(200,200,200)\u0026quot;;\n               // ctx.font = \u0026#39;12px sans-serif\u0026#39;;\n               ctx.textBaseline = \u0026#39;middle\u0026#39;;\n               ctx.fillText(item.label, item.offsetLeft, (30*index)+30, text.width);\n               ctx.fillStyle = \u0026quot;rgb(\u0026quot;+Math.random()*255+\u0026quot;,\u0026quot;+Math.random()*255+\u0026quot;,\u0026quot;+Math.random()*255+\u0026quot;)\u0026quot;;\n               ctx.fillRect (item.offsetLeft+text.width+10, (30*index)+20, item.value, 20);\n               let valueMea = ctx.measureText(item.value)\n               ctx.fillStyle = \u0026quot;rgb(255,255,255)\u0026quot;;\n               ctx.textBaseline = \u0026#39;middle\u0026#39;;\n               console.log(parseInt((item.value-valueMea.width)/2))\n               ctx.fillText(item.value, parseInt(item.offsetLeft+text.width+10+parseInt((item.value-valueMea.width)/2)), (30*index)+30, text.width);\n           });\n        }\n    \u0026lt;/script\u0026gt;\n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \u0026lt;canvas id=\u0026quot;canvas\u0026quot; width=\u0026quot;500\u0026quot; height=\u0026quot;400\u0026quot;\u0026gt;\u0026lt;/canvas\u0026gt;\n\u0026lt;/body\u0026gt;\n\u0026lt;/html\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"效果图：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果图：\u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126011953_3c6ce112532bbf8cd791297058821e92.png?w=1016\u0026amp;h=306\" title=\"QQ20190126-011910\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126011953_3c6ce112532bbf8cd791297058821e92.png?w=1016\u0026amp;h=306\" alt=\"QQ20190126-011910\u0026#64;2x.png\" title=\"QQ20190126-011910\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190126-011910\u0026#64;2x.png\"\u003eQQ20190126-011910\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126012349_fd8283513f9cbcc1c2cedc0629020602.png?w=978\u0026amp;h=322\" title=\"QQ20190126-012254\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126012349_fd8283513f9cbcc1c2cedc0629020602.png?w=978\u0026amp;h=322\" alt=\"QQ20190126-012254\u0026#64;2x.png\" title=\"QQ20190126-012254\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190126-012254\u0026#64;2x.png\"\u003eQQ20190126-012254\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c4b37d17942cc042f5cbf68"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":10813,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-01-25T16:22:41.352Z"},"updateTime":{"$date":"2019-01-25T17:23:56.526Z"},"__v":0,"html":"\u003ch3 id=\"h3-canvas-\"\u003e\u003ca name=\"canvas学习使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ecanvas学习使用\u003c/h3\u003e\u003ch3 id=\"h3-u7B80u4ECB\"\u003e\u003ca name=\"简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003ecanvas是html5新增的一个标签，提供了绘图与处理图片的接口，\u0026lt;canvas\u0026gt; 看起来和 \u0026lt;img\u0026gt; 元素很相像，唯一的不同就是它并没有 src 和 alt 属性。实际上，\u0026lt;canvas\u0026gt; 标签只有两个属性—— width和height。这些都是可选的，并且同样利用 DOM properties 来设置。当没有设置宽度和高度的时候，canvas会初始化宽度为300像素和高度为150像素。该元素可以使用CSS来定义大小，但在绘制时图像会伸缩以适应它的框架尺寸：如果CSS的尺寸与初始画布的比例不一致，它会出现扭曲。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u6807u7B7Eu5B9Au4E49\"\u003e\u003ca name=\"标签定义\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e标签定义\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026lt;canvas id=\u0026quot;canvas\u0026quot;\u0026gt;\n    您的浏览器不支持canvas标签\n\u0026lt;/canvas\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-javascript-\"\u003e\u003ca name=\"javascript操作\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ejavascript操作\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e// 获取canvas元素\nlet canvas = document.getElementById(\u0026#39;canvas\u0026#39;);\n// 获取canvas 2d环境上下文\nlet ctx = null;\nif(canvas.getContext){\n    alert(\u0026#39;您的浏览器不支持canvas标签\u0026#39;);\n}\nctx = canvas.getContext(\u0026#39;2d\u0026#39;);\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u7ED8u5236u5F62u72B6\"\u003e\u003ca name=\"绘制形状\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制形状\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u77E9u5F62\"\u003e\u003ca name=\"绘制矩形\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制矩形\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u7EBFu6761\"\u003e\u003ca name=\"绘制线条\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制线条\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u5706u5F27\"\u003e\u003ca name=\"绘制圆弧\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制圆弧\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u7ED8u5236u6587u672C\"\u003e\u003ca name=\"绘制文本\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e绘制文本\u003c/h4\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-u5C5Eu6027u4E0Eu65B9u6CD5\"\u003e\u003ca name=\"属性与方法\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e属性与方法\u003c/h3\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名称\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e值\u003c/th\u003e\n\u003cth\u003e默认值\u003c/th\u003e\n\u003cth\u003e备注\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003egetContext()\u003c/td\u003e\n\u003ctd\u003e获取上下文环境\u003c/td\u003e\n\u003ctd\u003e‘2d’,’3d’\u003c/td\u003e\n\u003ctd\u003e‘2d’\u003c/td\u003e\n\u003ctd\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efillRect(x, y, width, height)\u003c/td\u003e\n\u003ctd\u003e绘制矩形\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estrokeRect(x, y, width, height)\u003c/td\u003e\n\u003ctd\u003e绘制矩形边框\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eclearRect()\u003c/td\u003e\n\u003ctd\u003e清除指定矩形区域，让清除部分完全透明。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ebeginPath()\u003c/td\u003e\n\u003ctd\u003e新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e当前路径为空，即调用beginPath()之后，或者canvas刚建的时候，第一条路径构造命令通常被视为是moveTo（），无论实际上是什么。出于这个原因，你几乎总是要在设置路径之后专门指定你的起始位置。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eclosePath()\u003c/td\u003e\n\u003ctd\u003e闭合路径之后图形绘制命令又重新指向到上下文中。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estroke()\u003c/td\u003e\n\u003ctd\u003e通过线条来绘制图形轮廓。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efill()\u003c/td\u003e\n\u003ctd\u003e通过填充路径的内容区域生成实心的图形。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e当调用fill()函数时，所有没有闭合的形状都会自动闭合，所以你不需要调用closePath()函数。但是调用stroke()时不会自动闭合。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003emoveTo(x, y)\u003c/td\u003e\n\u003ctd\u003e将当前画笔移动到指定位置。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineTo(x, y)\u003c/td\u003e\n\u003ctd\u003e绘制一条从当前位置到指定x以及y位置的直线。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003earc(x, y, radius, startAngle, endAngle, anticlockwise)\u003c/td\u003e\n\u003ctd\u003e画一个以（x,y）为圆心的以radius为半径的圆弧（圆），从startAngle开始到endAngle结束，按照anticlockwise给定的方向（默认为顺时针）来生成。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e该方法有六个参数：x,y为绘制圆弧所在圆上的圆心坐标。radius为半径。startAngle以及endAngle参数用弧度定义了开始以及结束的弧度。这些都是以x轴为基准。参数anticlockwise为一个布尔值。为true时，是逆时针方向，否则顺时针方向。arc()函数中表示角的单位是弧度，不是角度。角度与弧度的js表达式:弧度=(Math.PI/180)*角度。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003erect(x, y, width, height)\u003c/td\u003e\n\u003ctd\u003e绘制一个左上角坐标为（x,y），宽高为width以及height的矩形。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e当该方法执行的时候，moveTo()方法自动设置坐标参数（0,0）。也就是说，当前笔触自动重置回默认坐标。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efillStyle\u003c/td\u003e\n\u003ctd\u003e为绘制的图形填充颜色\u003c/td\u003e\n\u003ctd\u003ecolor\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003ecolor的值可以是rgba的值，如：rgba(255,255,255,.5)，也可以是十六进制的值，如：#FFF，还可以是颜色的英文值，如：orange 。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estrockeStyle\u003c/td\u003e\n\u003ctd\u003e设置图形轮廓的颜色。\u003c/td\u003e\n\u003ctd\u003ecolor\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003ecolor的值可以是rgba的值，如：rgba(255,255,255,.5)，也可以是十六进制的值，如：#FFF，还可以是颜色的英文值，如：orange 。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eglobalAlpha\u003c/td\u003e\n\u003ctd\u003e设置canvas图形的透明度\u003c/td\u003e\n\u003ctd\u003etransparencyValue\u003c/td\u003e\n\u003ctd\u003e1.0\u003c/td\u003e\n\u003ctd\u003e这个属性影响到 canvas 里所有图形的透明度，有效的值范围是 0.0 （完全透明）到 1.0（完全不透明），默认是 1.0。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineWidth\u003c/td\u003e\n\u003ctd\u003e设置线条宽度。\u003c/td\u003e\n\u003ctd\u003evalue\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineCap\u003c/td\u003e\n\u003ctd\u003e设置线条末端样式。\u003c/td\u003e\n\u003ctd\u003e‘butt’,’round’.’square’\u003c/td\u003e\n\u003ctd\u003e‘butt’\u003c/td\u003e\n\u003ctd\u003ebutt:线段末端以方形结束。round:线段末端以圆形结束。square:线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一半的矩形区域。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineJoin\u003c/td\u003e\n\u003ctd\u003e设定线条与线条间接合处的样式。\u003c/td\u003e\n\u003ctd\u003e‘round’,’bevel’,’miter’\u003c/td\u003e\n\u003ctd\u003e‘miter’\u003c/td\u003e\n\u003ctd\u003e注意：如果2个相连部分在同一方向，那么lineJoin不会产生任何效果，因为在那种情况下不会出现连接区域。round:通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状。 圆角的半径是线段的宽度。bevel:在相连部分的末端填充一个额外的以三角形为底的区域， 每个部分都有各自独立的矩形拐角。miter:通过延伸相连部分的外边缘，使其相交于一点，形成一个额外的菱形区域。这个设置可以通过 miterLimit 属性看到效果。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003emiterLimit\u003c/td\u003e\n\u003ctd\u003e限制当两条线相交时交接处最大长度；所谓交接处长度（斜接长度）是指线条交接处内角顶点到外角顶点的长度。\u003c/td\u003e\n\u003ctd\u003evalue\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003egetLineDash()\u003c/td\u003e\n\u003ctd\u003e返回一个包含当前虚线样式，长度为非负偶数的数组。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esetLineDash(segments)\u003c/td\u003e\n\u003ctd\u003e设置当前虚线样式。\u003c/td\u003e\n\u003ctd\u003esegments是一个Array数组。一组描述交替绘制线段和间距（坐标空间单位）长度的数字。 如果数组元素的数量是奇数， 数组的元素会被复制并重复。例如， [5, 15, 25] 会变成 [5, 15, 25, 5, 15, 25]。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elineDashOffset\u003c/td\u003e\n\u003ctd\u003e设置虚线样式的起始偏移量。\u003c/td\u003e\n\u003ctd\u003evalue\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efillText(text, x, y [, maxWidth])\u003c/td\u003e\n\u003ctd\u003e在指定的(x,y)位置填充指定的文本，绘制的最大宽度是可选的.\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003estrokeText(text, x, y [, maxWidth])\u003c/td\u003e\n\u003ctd\u003e在指定的(x,y)位置绘制文本边框，绘制的最大宽度是可选的.\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003emeasureText()\u003c/td\u003e\n\u003ctd\u003e预获取文本宽度\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efont\u003c/td\u003e\n\u003ctd\u003e当前我们用来绘制文本的样式。\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003ctd\u003e10px sans-serif\u003c/td\u003e\n\u003ctd\u003e这个字符串使用和 CSS font 属性相同的语法. 默认的字体是 10px sans-serif。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etextAlign\u003c/td\u003e\n\u003ctd\u003e文本对齐选项。\u003c/td\u003e\n\u003ctd\u003estart, end, left, right or center\u003c/td\u003e\n\u003ctd\u003estart\u003c/td\u003e\n\u003ctd\u003e可选的值包括：start, end, left, right or center. 默认值是 start。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etextBaseline\u003c/td\u003e\n\u003ctd\u003e基线对齐选项。\u003c/td\u003e\n\u003ctd\u003etop, hanging, middle, alphabetic, ideographic, bottom\u003c/td\u003e\n\u003ctd\u003ealphabetic\u003c/td\u003e\n\u003ctd\u003e可选的值包括：top, hanging, middle, alphabetic, ideographic, bottom。默认值是 alphabetic。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003edirection\u003c/td\u003e\n\u003ctd\u003e文本方向。\u003c/td\u003e\n\u003ctd\u003eltr, rtl, inherit\u003c/td\u003e\n\u003ctd\u003einherit\u003c/td\u003e\n\u003ctd\u003e可能的值包括：ltr, rtl, inherit。默认值是 inherit。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"h3-u5B9Eu4F8B\"\u003e\u003ca name=\"实例\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实例\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e通过矩形绘制一个图表\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt;\n\u0026lt;head\u0026gt;\n    \u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;\n    \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width, initial-scale=1.0\u0026quot;\u0026gt;\n    \u0026lt;meta http-equiv=\u0026quot;X-UA-Compatible\u0026quot; content=\u0026quot;ie=edge\u0026quot;\u0026gt;\n    \u0026lt;title\u0026gt;{{title}}\u0026lt;/title\u0026gt;\n    \u0026lt;script type=\u0026quot;text/javascript\u0026quot;\u0026gt;\n        window.onload = () =\u0026gt;{\n           let canvas = document.getElementById(\u0026#39;canvas\u0026#39;);\n           if(!canvas.getContext){\n            alert(\u0026#39;您的浏览器不支持canvas\u0026#39;)\n           }\n           let ctx = canvas.getContext(\u0026#39;2d\u0026#39;);\n           console.log(ctx);\n           let items = {\n               title: \u0026#39;四天浏览数据\u0026#39;,\n               data: [{\n                label: \u0026#39;2019-01-21\u0026#39;,\n                value:100,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: \u0026#39;2019-01-22\u0026#39;,\n                value:110,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: \u0026#39;2019-01-23\u0026#39;,\n                value:150,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: \u0026#39;2019-01-24\u0026#39;,\n                value:380,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            }]\n           };\n\n           let titleTextMea = ctx.measureText(items.title);\n           ctx.fillStyle = \u0026quot;rgb(200,200,200)\u0026quot;;\n           ctx.textBaseline = \u0026#39;middle\u0026#39;;\n           ctx.fillText(items.title, parseInt((500-titleTextMea.width)/2), 10, titleTextMea.width);\n           items.data.forEach((item,index)=\u0026gt;{\n               // 预获取文本宽度信息\n               let text = ctx.measureText(item.label);\n               ctx.fillStyle = \u0026quot;rgb(200,200,200)\u0026quot;;\n               // ctx.font = \u0026#39;12px sans-serif\u0026#39;;\n               ctx.textBaseline = \u0026#39;middle\u0026#39;;\n               ctx.fillText(item.label, item.offsetLeft, (30*index)+30, text.width);\n               ctx.fillStyle = \u0026quot;rgb(\u0026quot;+Math.random()*255+\u0026quot;,\u0026quot;+Math.random()*255+\u0026quot;,\u0026quot;+Math.random()*255+\u0026quot;)\u0026quot;;\n               ctx.fillRect (item.offsetLeft+text.width+10, (30*index)+20, item.value, 20);\n               let valueMea = ctx.measureText(item.value)\n               ctx.fillStyle = \u0026quot;rgb(255,255,255)\u0026quot;;\n               ctx.textBaseline = \u0026#39;middle\u0026#39;;\n               console.log(parseInt((item.value-valueMea.width)/2))\n               ctx.fillText(item.value, parseInt(item.offsetLeft+text.width+10+parseInt((item.value-valueMea.width)/2)), (30*index)+30, text.width);\n           });\n        }\n    \u0026lt;/script\u0026gt;\n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \u0026lt;canvas id=\u0026quot;canvas\u0026quot; width=\u0026quot;500\u0026quot; height=\u0026quot;400\u0026quot;\u0026gt;\u0026lt;/canvas\u0026gt;\n\u0026lt;/body\u0026gt;\n\u0026lt;/html\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"效果图：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果图：\u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126011953_3c6ce112532bbf8cd791297058821e92.png?w=1016\u0026amp;h=306\" title=\"QQ20190126-011910\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126011953_3c6ce112532bbf8cd791297058821e92.png?w=1016\u0026amp;h=306\" alt=\"QQ20190126-011910\u0026#64;2x.png\" title=\"QQ20190126-011910\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190126-011910\u0026#64;2x.png\"\u003eQQ20190126-011910\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126012349_fd8283513f9cbcc1c2cedc0629020602.png?w=978\u0026amp;h=322\" title=\"QQ20190126-012254\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"https://blog.mcloudhub.com/static/images/uploads/20190126/20190126012349_fd8283513f9cbcc1c2cedc0629020602.png?w=978\u0026amp;h=322\" alt=\"QQ20190126-012254\u0026#64;2x.png\" title=\"QQ20190126-012254\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190126-012254\u0026#64;2x.png\"\u003eQQ20190126-012254\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n","markDown":"### canvas学习使用\n\n### 简介\n\n\u003e canvas是html5新增的一个标签，提供了绘图与处理图片的接口，\u003ccanvas\u003e 看起来和 \u003cimg\u003e 元素很相像，唯一的不同就是它并没有 src 和 alt 属性。实际上，\u003ccanvas\u003e 标签只有两个属性—— width和height。这些都是可选的，并且同样利用 DOM properties 来设置。当没有设置宽度和高度的时候，canvas会初始化宽度为300像素和高度为150像素。该元素可以使用CSS来定义大小，但在绘制时图像会伸缩以适应它的框架尺寸：如果CSS的尺寸与初始画布的比例不一致，它会出现扭曲。\n\n### 标签定义\n\n```\n\u003ccanvas id=\"canvas\"\u003e\n\u0009您的浏览器不支持canvas标签\n\u003c/canvas\u003e\n```\n\n### javascript操作\n\n```\n// 获取canvas元素\nlet canvas = document.getElementById('canvas');\n// 获取canvas 2d环境上下文\nlet ctx = null;\nif(canvas.getContext){\n\u0009alert('您的浏览器不支持canvas标签');\n}\nctx = canvas.getContext('2d');\n```\n\n### 绘制形状\n\n* #### 绘制矩形\n* #### 绘制线条\n* #### 绘制圆弧\n* #### 绘制文本\n\n### 属性与方法\n\n|  名称  |  描述  |  值  |  默认值  |  备注  |\n|----|----|----|----|----|\n|  getContext()  |  获取上下文环境  |  '2d','3d'  |  '2d'  |  .  |\n|  fillRect(x, y, width, height)  |  绘制矩形  |    |    |    |\n|  strokeRect(x, y, width, height)  |  绘制矩形边框  |    |    |    |\n|  clearRect()  |  清除指定矩形区域，让清除部分完全透明。  |    |    |    |\n|  beginPath()  |  新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径。  |    |    |  当前路径为空，即调用beginPath()之后，或者canvas刚建的时候，第一条路径构造命令通常被视为是moveTo（），无论实际上是什么。出于这个原因，你几乎总是要在设置路径之后专门指定你的起始位置。  |\n|  closePath()  |  闭合路径之后图形绘制命令又重新指向到上下文中。  |    |    |    |\n|  stroke()  |  通过线条来绘制图形轮廓。  |    |    |    |\n|  fill()  |  通过填充路径的内容区域生成实心的图形。  |    |    |  当调用fill()函数时，所有没有闭合的形状都会自动闭合，所以你不需要调用closePath()函数。但是调用stroke()时不会自动闭合。  |\n|  moveTo(x, y)  |  将当前画笔移动到指定位置。  |    |    |    |\n|  lineTo(x, y)  |  绘制一条从当前位置到指定x以及y位置的直线。  |    |    |    |\n|  arc(x, y, radius, startAngle, endAngle, anticlockwise)  |  画一个以（x,y）为圆心的以radius为半径的圆弧（圆），从startAngle开始到endAngle结束，按照anticlockwise给定的方向（默认为顺时针）来生成。  |    |    |  该方法有六个参数：x,y为绘制圆弧所在圆上的圆心坐标。radius为半径。startAngle以及endAngle参数用弧度定义了开始以及结束的弧度。这些都是以x轴为基准。参数anticlockwise为一个布尔值。为true时，是逆时针方向，否则顺时针方向。arc()函数中表示角的单位是弧度，不是角度。角度与弧度的js表达式:弧度=(Math.PI/180)*角度。  |\n|  rect(x, y, width, height)  |  绘制一个左上角坐标为（x,y），宽高为width以及height的矩形。  |    |    |  当该方法执行的时候，moveTo()方法自动设置坐标参数（0,0）。也就是说，当前笔触自动重置回默认坐标。  |\n|  fillStyle  |  为绘制的图形填充颜色  |  color  |    |  color的值可以是rgba的值，如：rgba(255,255,255,.5)，也可以是十六进制的值，如：#FFF，还可以是颜色的英文值，如：orange 。  |\n|  strockeStyle  |  设置图形轮廓的颜色。  |  color  |    |   color的值可以是rgba的值，如：rgba(255,255,255,.5)，也可以是十六进制的值，如：#FFF，还可以是颜色的英文值，如：orange 。  |\n|  globalAlpha  |  设置canvas图形的透明度  |  transparencyValue  |  1.0  |  这个属性影响到 canvas 里所有图形的透明度，有效的值范围是 0.0 （完全透明）到 1.0（完全不透明），默认是 1.0。  |\n|  lineWidth  |  设置线条宽度。  |  value  |    |    |\n|  lineCap  |  设置线条末端样式。  |  'butt','round'.'square'  |  'butt'  |  butt:线段末端以方形结束。round:线段末端以圆形结束。square:线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一半的矩形区域。  |\n|  lineJoin  |  设定线条与线条间接合处的样式。  |  'round','bevel','miter'  |  'miter'  |  注意：如果2个相连部分在同一方向，那么lineJoin不会产生任何效果，因为在那种情况下不会出现连接区域。round:通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状。 圆角的半径是线段的宽度。bevel:在相连部分的末端填充一个额外的以三角形为底的区域， 每个部分都有各自独立的矩形拐角。miter:通过延伸相连部分的外边缘，使其相交于一点，形成一个额外的菱形区域。这个设置可以通过 miterLimit 属性看到效果。  |\n|  miterLimit  |  限制当两条线相交时交接处最大长度；所谓交接处长度（斜接长度）是指线条交接处内角顶点到外角顶点的长度。  |  value  |    |    |\n|  getLineDash()  |  返回一个包含当前虚线样式，长度为非负偶数的数组。  |    |    |    |\n|  setLineDash(segments)  |  设置当前虚线样式。  |  segments是一个Array数组。一组描述交替绘制线段和间距（坐标空间单位）长度的数字。 如果数组元素的数量是奇数， 数组的元素会被复制并重复。例如， [5, 15, 25] 会变成 [5, 15, 25, 5, 15, 25]。  |    |    |\n|  lineDashOffset  |  设置虚线样式的起始偏移量。  |  value  |    |    |\n|  fillText(text, x, y [, maxWidth])  |  在指定的(x,y)位置填充指定的文本，绘制的最大宽度是可选的.  |    |    |    |\n| strokeText(text, x, y [, maxWidth])  |  在指定的(x,y)位置绘制文本边框，绘制的最大宽度是可选的.  |    |    |    |\n|  measureText()  |  预获取文本宽度  |    |    |    |\n|  font  |  当前我们用来绘制文本的样式。  |  string  |  10px sans-serif  |  这个字符串使用和 CSS font 属性相同的语法. 默认的字体是 10px sans-serif。  |\n|  textAlign  |  文本对齐选项。  |  start, end, left, right or center  |  start  |  可选的值包括：start, end, left, right or center. 默认值是 start。  |\n|  textBaseline  |  基线对齐选项。  | top, hanging, middle, alphabetic, ideographic, bottom   |  alphabetic  |  可选的值包括：top, hanging, middle, alphabetic, ideographic, bottom。默认值是 alphabetic。  |\n|  direction  |  文本方向。  |  ltr, rtl, inherit  |  inherit  |  可能的值包括：ltr, rtl, inherit。默认值是 inherit。  |\n\n### 实例\n\n\u003e 通过矩形绘制一个图表\n\n```\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"\u003e\n    \u003ctitle\u003e{{title}}\u003c/title\u003e\n    \u003cscript type=\"text/javascript\"\u003e\n        window.onload = () =\u003e{\n           let canvas = document.getElementById('canvas');\n           if(!canvas.getContext){\n            alert('您的浏览器不支持canvas')\n           }\n           let ctx = canvas.getContext('2d');\n           console.log(ctx);\n           let items = {\n               title: '四天浏览数据',\n               data: [{\n                label: '2019-01-21',\n                value:100,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: '2019-01-22',\n                value:110,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: '2019-01-23',\n                value:150,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            },{\n                label: '2019-01-24',\n                value:380,\n                offsetLeft: 30,\n                offsetTop: 30,\n                marginLeft: 30\n            }]\n           };\n\n           let titleTextMea = ctx.measureText(items.title);\n           ctx.fillStyle = \"rgb(200,200,200)\";\n           ctx.textBaseline = 'middle';\n           ctx.fillText(items.title, parseInt((500-titleTextMea.width)/2), 10, titleTextMea.width);\n           items.data.forEach((item,index)=\u003e{\n               // 预获取文本宽度信息\n               let text = ctx.measureText(item.label);\n               ctx.fillStyle = \"rgb(200,200,200)\";\n               // ctx.font = '12px sans-serif';\n               ctx.textBaseline = 'middle';\n               ctx.fillText(item.label, item.offsetLeft, (30*index)+30, text.width);\n               ctx.fillStyle = \"rgb(\"+Math.random()*255+\",\"+Math.random()*255+\",\"+Math.random()*255+\")\";\n               ctx.fillRect (item.offsetLeft+text.width+10, (30*index)+20, item.value, 20);\n               let valueMea = ctx.measureText(item.value)\n               ctx.fillStyle = \"rgb(255,255,255)\";\n               ctx.textBaseline = 'middle';\n               console.log(parseInt((item.value-valueMea.width)/2))\n               ctx.fillText(item.value, parseInt(item.offsetLeft+text.width+10+parseInt((item.value-valueMea.width)/2)), (30*index)+30, text.width);\n           });\n        }\n    \u003c/script\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n    \u003ccanvas id=\"canvas\" width=\"500\" height=\"400\"\u003e\u003c/canvas\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n```\n\n### 效果图：\n\n[![QQ20190126-011910@2x.png](https://blog.mcloudhub.com/static/images/uploads/20190126/20190126011953_3c6ce112532bbf8cd791297058821e92.png?w=1016\u0026h=306 \"QQ20190126-011910@2x.png\")](https://blog.mcloudhub.com/static/images/uploads/20190126/20190126011953_3c6ce112532bbf8cd791297058821e92.png?w=1016\u0026h=306 \"QQ20190126-011910@2x.png\")\n\n[![QQ20190126-012254@2x.png](https://blog.mcloudhub.com/static/images/uploads/20190126/20190126012349_fd8283513f9cbcc1c2cedc0629020602.png?w=978\u0026h=322 \"QQ20190126-012254@2x.png\")](https://blog.mcloudhub.com/static/images/uploads/20190126/20190126012349_fd8283513f9cbcc1c2cedc0629020602.png?w=978\u0026h=322 \"QQ20190126-012254@2x.png\")"}
{"_id":{"$oid":"5c4b37d77942cc042f5cbf6c"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c4b37d77942cc042f5cbf6b","title":"window.postMessage使用","content":"\u003ch1 id=\"h1-window-postmessage-\"\u003e\u003ca name=\"window.postMessage使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ewindow.postMessage使用\u003c/h1\u003e\u003ch3 id=\"h3-postmessage-\"\u003e\u003ca name=\"postMessage简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003ewindow.postMessage() 方法可以安全地实现跨源通信。通常，对于两个不同页面的脚本，只有当执行它们的页面位于具有相同的协议（通常为https），端口号（443为https的默认值），以及主机  (两个页面的模数 Document.domain设置为相同的值) 时，这两个脚本才能相互通信。window.postMessage() 方法提供了一种受控机制来规避此限制，只要正确的使用，这种方法就很安全。\u003c/p\u003e\n\u003cp\u003ewindow.postMessage() 方法被调用时，会在所有页面脚本执行完毕之后（e.g., 在该方法之后设置的事件、之前设置的timeout 事件,etc.）向目标窗口派发一个  MessageEvent 消息。 该MessageEvent消息有四个属性需要注意： message 属性表示该message 的类型； data 属性为 window.postMessage 的第一个参数；origin 属性表示调用window.postMessage() 方法时调用页面的当前状态； source 属性记录调用 window.postMessage() 方法的窗口信息。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-postmessage-\"\u003e\u003ca name=\"postMessage语法\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage语法\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eotherWindow\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epostMessage\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003emessage\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e targetOrigin\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003etransfer\u003c/span\u003e\u003cspan class=\"pun\"\u003e]);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-postmessage-\"\u003e\u003ca name=\"postMessage参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage参数\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003eotherWindow 其他窗口的一个引用，比如iframe的contentWindow属性、执行window.open返回的窗口对象、或者是命名过或数值索引的window.frames。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003emessage 将要发送到其他 window的数据。它将会被结构化克隆算法序列化。这意味着你可以不受什么限制的将数据对象安全的传送给目标窗口而无需自己序列化。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003etargetOrigin 通过窗口的origin属性来指定哪些窗口能接收到消息事件，其值可以是字符串”\u003cem\u003e“（表示无限制）或者一个URI。在发送消息的时候，如果目标窗口的协议、主机地址或端口这三者的任意一项不匹配targetOrigin提供的值，那么消息就不会被发送；只有三者完全匹配，消息才会被发送。这个机制用来控制消息可以发送到哪些窗口；例如，当用postMessage传送密码时，这个参数就显得尤为重要，必须保证它的值与这条包含密码的信息的预期接受者的origin属性完全一致，来防止密码被恶意的第三方截获。如果你明确的知道消息应该发送到哪个窗口，那么请始终提供一个有确切值的targetOrigin，而不是\u003c/em\u003e。不提供确切的目标将导致数据泄露到任何对数据感兴趣的恶意站点。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003etransfer [可选]是一串和message 同时传递的 Transferable 对象. 这些对象的所有权将被转移给消息的接收方，而发送一方将不再保有所有权。\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-postmessage-\"\u003e\u003ca name=\"postMessage使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage使用\u003c/h3\u003e\u003ch5 id=\"h5--postmessage-\"\u003e\u003ca name=\"使用postMessage在两个窗口通信\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用postMessage在两个窗口通信\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewindow\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epostMessage\u003c/span\u003e\u003cspan class=\"pun\"\u003e({},\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'*'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--code-message-code-code-postmessage-code-\"\u003e\u003ca name=\"另一个窗口通过监听\u003ccode\u003emessage\u003c/code\u003e事件获取\u003ccode\u003epostMessage\u003c/code\u003e传递过来的数据\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e另一个窗口通过监听\u003ccode\u003emessage\u003c/code\u003e事件获取\u003ccode\u003epostMessage\u003c/code\u003e传递过来的数据\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewindow\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eaddEventListener\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'message'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efunction\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ee\u003c/span\u003e\u003cspan class=\"pun\"\u003e){\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    console\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ee\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e},\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efalse\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6-message-\"\u003e\u003ca name=\"message事件有以下几个属性：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003emessage事件有以下几个属性：\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003edata 从其他 window 中传递过来的对象。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003eorigin 调用 postMessage  时消息发送方窗口的 origin . 这个字符串由 协议、“://“、域名、“ : 端口号”拼接而成。例如 “\u003ca href=\"https://example.org\"\u003ehttps://example.org\u003c/a\u003e (隐含端口 443)”、“\u003ca href=\"http://example.net\"\u003ehttp://example.net\u003c/a\u003e (隐含端口 80)”、“\u003ca href=\"http://example.com:8080”。请注意，这个origin不能保证是该窗口的当前或未来origin，因为postMessage被调用后可能被导航到不同的位置。\"\u003ehttp://example.com:8080”。请注意，这个origin不能保证是该窗口的当前或未来origin，因为postMessage被调用后可能被导航到不同的位置。\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003esource 对发送消息的窗口对象的引用; 您可以使用此来在具有不同origin的两个窗口之间建立双向通信。\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e注意: 在 Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)之前， 参数 message 必须是一个字符串。 从 Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)开始，参数 message被使用结构化克隆算法进行序列化。这意味着您可以将各种各样的数据对象安全地传递到目标窗口，而不必自己序列化它们。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u5B89u5168\"\u003e\u003ca name=\"安全\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安全\u003c/h3\u003e\u003ch5 id=\"h5--message-message-\"\u003e\u003ca name=\"如果您不希望从其他网站接收message，请不要为message事件添加任何事件侦听器。 这是一个完全万无一失的方式来避免安全问题。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果您不希望从其他网站接收message，请不要为message事件添加任何事件侦听器。 这是一个完全万无一失的方式来避免安全问题。\u003c/h5\u003e\u003ch5 id=\"h5--message-origin-source-http-evil-example-com-\"\u003e\u003ca name=\"如果您确实希望从其他网站接收message，请始终使用origin和source属性验证发件人的身份。 任何窗口（包括例如  http://evil.example.com）都可以向任何其他窗口发送消息，并且您不能保证未知发件人不会发送恶意消息。  但是，验证身份后，您仍然应该始终验证接收到的消息的语法。 否则，您信任只发送受信任邮件的网站中的安全漏洞可能会在您的网站中打开跨网站脚本漏洞。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果您确实希望从其他网站接收message，请始终使用origin和source属性验证发件人的身份。 任何窗口（包括例如\u003ca href=\"http://evil.example.com）都可以向任何其他窗口发送消息，并且您不能保证未知发件人不会发送恶意消息。\"\u003ehttp://evil.example.com）都可以向任何其他窗口发送消息，并且您不能保证未知发件人不会发送恶意消息。\u003c/a\u003e 但是，验证身份后，您仍然应该始终验证接收到的消息的语法。 否则，您信任只发送受信任邮件的网站中的安全漏洞可能会在您的网站中打开跨网站脚本漏洞。\u003c/h5\u003e\u003ch5 id=\"h5--postmessage-origin-postmessage-\"\u003e\u003ca name=\"当您使用postMessage将数据发送到其他窗口时，始终指定精确的目标origin，而不是*。 恶意网站可以在您不知情的情况下更改窗口的位置，因此它可以拦截使用postMessage发送的数据。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e当您使用postMessage将数据发送到其他窗口时，始终指定精确的目标origin，而不是*。 恶意网站可以在您不知情的情况下更改窗口的位置，因此它可以拦截使用postMessage发送的数据。\u003c/h5\u003e\u003ch3 id=\"h3-u603Bu7ED3\"\u003e\u003ca name=\"总结\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e总结\u003c/h3\u003e\u003ch5 id=\"h5--code-iframe-code-code-postmessage-code-socket-cookiestorage-socket-cookiestorage-\"\u003e\u003ca name=\"如果在两个窗口之间进行通信，如：\u003ccode\u003eiframe\u003c/code\u003e使用\u003ccode\u003epostMessage\u003c/code\u003e是最好的方式，也可以通过socket、cookieStorage等多种方法间接实现，但是socket、cookieStorage都需要通过服务器做中转。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果在两个窗口之间进行通信，如：\u003ccode\u003eiframe\u003c/code\u003e使用\u003ccode\u003epostMessage\u003c/code\u003e是最好的方式，也可以通过socket、cookieStorage等多种方法间接实现，但是socket、cookieStorage都需要通过服务器做中转。\u003c/h5\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"安全上除了方法提供的安全限制，在代码中加入相应的判断，才是最安全的做法，主动进攻就是最好的防御。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安全上除了方法提供的安全限制，在代码中加入相应的判断，才是最安全的做法，主动进攻就是最好的防御。\u003c/h5\u003e\u003ch5 id=\"h5--json-json-stringify-json2-js-\"\u003e\u003ca name=\"数据传递，由于有些浏览器在之前的版本只支持字符串数据传递，所以在任何时候都将数据转换成字符串传递是最可靠的。如：对于JSON可以使用JSON.stringify(),对于之前的浏览器可以使用json2.js。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e数据传递，由于有些浏览器在之前的版本只支持字符串数据传递，所以在任何时候都将数据转换成字符串传递是最可靠的。如：对于JSON可以使用JSON.stringify(),对于之前的浏览器可以使用json2.js。\u003c/h5\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c4b37d77942cc042f5cbf6b"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":7439,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-01-25T16:22:47.051Z"},"updateTime":{"$date":"2019-03-05T17:35:00.514Z"},"__v":0,"html":"\u003ch1 id=\"h1-window-postmessage-\"\u003e\u003ca name=\"window.postMessage使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ewindow.postMessage使用\u003c/h1\u003e\u003ch3 id=\"h3-postmessage-\"\u003e\u003ca name=\"postMessage简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003ewindow.postMessage() 方法可以安全地实现跨源通信。通常，对于两个不同页面的脚本，只有当执行它们的页面位于具有相同的协议（通常为https），端口号（443为https的默认值），以及主机  (两个页面的模数 Document.domain设置为相同的值) 时，这两个脚本才能相互通信。window.postMessage() 方法提供了一种受控机制来规避此限制，只要正确的使用，这种方法就很安全。\u003c/p\u003e\n\u003cp\u003ewindow.postMessage() 方法被调用时，会在所有页面脚本执行完毕之后（e.g., 在该方法之后设置的事件、之前设置的timeout 事件,etc.）向目标窗口派发一个  MessageEvent 消息。 该MessageEvent消息有四个属性需要注意： message 属性表示该message 的类型； data 属性为 window.postMessage 的第一个参数；origin 属性表示调用window.postMessage() 方法时调用页面的当前状态； source 属性记录调用 window.postMessage() 方法的窗口信息。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-postmessage-\"\u003e\u003ca name=\"postMessage语法\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage语法\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003eotherWindow.postMessage(message, targetOrigin, [transfer]);\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-postmessage-\"\u003e\u003ca name=\"postMessage参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage参数\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003eotherWindow 其他窗口的一个引用，比如iframe的contentWindow属性、执行window.open返回的窗口对象、或者是命名过或数值索引的window.frames。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003emessage 将要发送到其他 window的数据。它将会被结构化克隆算法序列化。这意味着你可以不受什么限制的将数据对象安全的传送给目标窗口而无需自己序列化。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003etargetOrigin 通过窗口的origin属性来指定哪些窗口能接收到消息事件，其值可以是字符串”\u003cem\u003e“（表示无限制）或者一个URI。在发送消息的时候，如果目标窗口的协议、主机地址或端口这三者的任意一项不匹配targetOrigin提供的值，那么消息就不会被发送；只有三者完全匹配，消息才会被发送。这个机制用来控制消息可以发送到哪些窗口；例如，当用postMessage传送密码时，这个参数就显得尤为重要，必须保证它的值与这条包含密码的信息的预期接受者的origin属性完全一致，来防止密码被恶意的第三方截获。如果你明确的知道消息应该发送到哪个窗口，那么请始终提供一个有确切值的targetOrigin，而不是\u003c/em\u003e。不提供确切的目标将导致数据泄露到任何对数据感兴趣的恶意站点。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003etransfer [可选]是一串和message 同时传递的 Transferable 对象. 这些对象的所有权将被转移给消息的接收方，而发送一方将不再保有所有权。\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-postmessage-\"\u003e\u003ca name=\"postMessage使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epostMessage使用\u003c/h3\u003e\u003ch5 id=\"h5--postmessage-\"\u003e\u003ca name=\"使用postMessage在两个窗口通信\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用postMessage在两个窗口通信\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003ewindow.postMessage({}, \u0026#39;*\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--code-message-code-code-postmessage-code-\"\u003e\u003ca name=\"另一个窗口通过监听\u003ccode\u003emessage\u003c/code\u003e事件获取\u003ccode\u003epostMessage\u003c/code\u003e传递过来的数据\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e另一个窗口通过监听\u003ccode\u003emessage\u003c/code\u003e事件获取\u003ccode\u003epostMessage\u003c/code\u003e传递过来的数据\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003ewindow.addEventListener(\u0026#39;message\u0026#39;, function(e){\n    console.log(e)\n}, false)\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6-message-\"\u003e\u003ca name=\"message事件有以下几个属性：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003emessage事件有以下几个属性：\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003edata 从其他 window 中传递过来的对象。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003eorigin 调用 postMessage  时消息发送方窗口的 origin . 这个字符串由 协议、“://“、域名、“ : 端口号”拼接而成。例如 “\u003ca href=\"https://example.org\"\u003ehttps://example.org\u003c/a\u003e (隐含端口 443)”、“\u003ca href=\"http://example.net\"\u003ehttp://example.net\u003c/a\u003e (隐含端口 80)”、“\u003ca href=\"http://example.com:8080”。请注意，这个origin不能保证是该窗口的当前或未来origin，因为postMessage被调用后可能被导航到不同的位置。\"\u003ehttp://example.com:8080”。请注意，这个origin不能保证是该窗口的当前或未来origin，因为postMessage被调用后可能被导航到不同的位置。\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003esource 对发送消息的窗口对象的引用; 您可以使用此来在具有不同origin的两个窗口之间建立双向通信。\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e注意: 在 Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)之前， 参数 message 必须是一个字符串。 从 Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)开始，参数 message被使用结构化克隆算法进行序列化。这意味着您可以将各种各样的数据对象安全地传递到目标窗口，而不必自己序列化它们。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u5B89u5168\"\u003e\u003ca name=\"安全\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安全\u003c/h3\u003e\u003ch5 id=\"h5--message-message-\"\u003e\u003ca name=\"如果您不希望从其他网站接收message，请不要为message事件添加任何事件侦听器。 这是一个完全万无一失的方式来避免安全问题。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果您不希望从其他网站接收message，请不要为message事件添加任何事件侦听器。 这是一个完全万无一失的方式来避免安全问题。\u003c/h5\u003e\u003ch5 id=\"h5--message-origin-source-http-evil-example-com-\"\u003e\u003ca name=\"如果您确实希望从其他网站接收message，请始终使用origin和source属性验证发件人的身份。 任何窗口（包括例如  http://evil.example.com）都可以向任何其他窗口发送消息，并且您不能保证未知发件人不会发送恶意消息。  但是，验证身份后，您仍然应该始终验证接收到的消息的语法。 否则，您信任只发送受信任邮件的网站中的安全漏洞可能会在您的网站中打开跨网站脚本漏洞。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果您确实希望从其他网站接收message，请始终使用origin和source属性验证发件人的身份。 任何窗口（包括例如\u003ca href=\"http://evil.example.com）都可以向任何其他窗口发送消息，并且您不能保证未知发件人不会发送恶意消息。\"\u003ehttp://evil.example.com）都可以向任何其他窗口发送消息，并且您不能保证未知发件人不会发送恶意消息。\u003c/a\u003e 但是，验证身份后，您仍然应该始终验证接收到的消息的语法。 否则，您信任只发送受信任邮件的网站中的安全漏洞可能会在您的网站中打开跨网站脚本漏洞。\u003c/h5\u003e\u003ch5 id=\"h5--postmessage-origin-postmessage-\"\u003e\u003ca name=\"当您使用postMessage将数据发送到其他窗口时，始终指定精确的目标origin，而不是*。 恶意网站可以在您不知情的情况下更改窗口的位置，因此它可以拦截使用postMessage发送的数据。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e当您使用postMessage将数据发送到其他窗口时，始终指定精确的目标origin，而不是*。 恶意网站可以在您不知情的情况下更改窗口的位置，因此它可以拦截使用postMessage发送的数据。\u003c/h5\u003e\u003ch3 id=\"h3-u603Bu7ED3\"\u003e\u003ca name=\"总结\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e总结\u003c/h3\u003e\u003ch5 id=\"h5--code-iframe-code-code-postmessage-code-socket-cookiestorage-socket-cookiestorage-\"\u003e\u003ca name=\"如果在两个窗口之间进行通信，如：\u003ccode\u003eiframe\u003c/code\u003e使用\u003ccode\u003epostMessage\u003c/code\u003e是最好的方式，也可以通过socket、cookieStorage等多种方法间接实现，但是socket、cookieStorage都需要通过服务器做中转。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果在两个窗口之间进行通信，如：\u003ccode\u003eiframe\u003c/code\u003e使用\u003ccode\u003epostMessage\u003c/code\u003e是最好的方式，也可以通过socket、cookieStorage等多种方法间接实现，但是socket、cookieStorage都需要通过服务器做中转。\u003c/h5\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"安全上除了方法提供的安全限制，在代码中加入相应的判断，才是最安全的做法，主动进攻就是最好的防御。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安全上除了方法提供的安全限制，在代码中加入相应的判断，才是最安全的做法，主动进攻就是最好的防御。\u003c/h5\u003e\u003ch5 id=\"h5--json-json-stringify-json2-js-\"\u003e\u003ca name=\"数据传递，由于有些浏览器在之前的版本只支持字符串数据传递，所以在任何时候都将数据转换成字符串传递是最可靠的。如：对于JSON可以使用JSON.stringify(),对于之前的浏览器可以使用json2.js。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e数据传递，由于有些浏览器在之前的版本只支持字符串数据传递，所以在任何时候都将数据转换成字符串传递是最可靠的。如：对于JSON可以使用JSON.stringify(),对于之前的浏览器可以使用json2.js。\u003c/h5\u003e","markDown":"# window.postMessage使用\n\n### postMessage简介\n\n\u003e window.postMessage() 方法可以安全地实现跨源通信。通常，对于两个不同页面的脚本，只有当执行它们的页面位于具有相同的协议（通常为https），端口号（443为https的默认值），以及主机  (两个页面的模数 Document.domain设置为相同的值) 时，这两个脚本才能相互通信。window.postMessage() 方法提供了一种受控机制来规避此限制，只要正确的使用，这种方法就很安全。\n\n\u003e window.postMessage() 方法被调用时，会在所有页面脚本执行完毕之后（e.g., 在该方法之后设置的事件、之前设置的timeout 事件,etc.）向目标窗口派发一个  MessageEvent 消息。 该MessageEvent消息有四个属性需要注意： message 属性表示该message 的类型； data 属性为 window.postMessage 的第一个参数；origin 属性表示调用window.postMessage() 方法时调用页面的当前状态； source 属性记录调用 window.postMessage() 方法的窗口信息。\n\n### postMessage语法\n\n```\notherWindow.postMessage(message, targetOrigin, [transfer]);\n```\n\n#### postMessage参数\n\n* otherWindow 其他窗口的一个引用，比如iframe的contentWindow属性、执行window.open返回的窗口对象、或者是命名过或数值索引的window.frames。\n\n* message 将要发送到其他 window的数据。它将会被结构化克隆算法序列化。这意味着你可以不受什么限制的将数据对象安全的传送给目标窗口而无需自己序列化。\n\n* targetOrigin 通过窗口的origin属性来指定哪些窗口能接收到消息事件，其值可以是字符串\"*\"（表示无限制）或者一个URI。在发送消息的时候，如果目标窗口的协议、主机地址或端口这三者的任意一项不匹配targetOrigin提供的值，那么消息就不会被发送；只有三者完全匹配，消息才会被发送。这个机制用来控制消息可以发送到哪些窗口；例如，当用postMessage传送密码时，这个参数就显得尤为重要，必须保证它的值与这条包含密码的信息的预期接受者的origin属性完全一致，来防止密码被恶意的第三方截获。如果你明确的知道消息应该发送到哪个窗口，那么请始终提供一个有确切值的targetOrigin，而不是*。不提供确切的目标将导致数据泄露到任何对数据感兴趣的恶意站点。\n\n* transfer [可选]是一串和message 同时传递的 Transferable 对象. 这些对象的所有权将被转移给消息的接收方，而发送一方将不再保有所有权。\n\n### postMessage使用\n\n##### 使用postMessage在两个窗口通信\n\n```\nwindow.postMessage({}, '*')\n```\n\n##### 另一个窗口通过监听```message```事件获取```postMessage```传递过来的数据\n\n```\nwindow.addEventListener('message', function(e){\n\u0009console.log(e)\n}, false)\n```\n\n###### message事件有以下几个属性：\n\n* data 从其他 window 中传递过来的对象。\n\n* origin 调用 postMessage  时消息发送方窗口的 origin . 这个字符串由 协议、“://“、域名、“ : 端口号”拼接而成。例如 “https://example.org (隐含端口 443)”、“http://example.net (隐含端口 80)”、“http://example.com:8080”。请注意，这个origin不能保证是该窗口的当前或未来origin，因为postMessage被调用后可能被导航到不同的位置。\n\n* source 对发送消息的窗口对象的引用; 您可以使用此来在具有不同origin的两个窗口之间建立双向通信。\n\n\u003e 注意: 在 Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)之前， 参数 message 必须是一个字符串。 从 Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)开始，参数 message被使用结构化克隆算法进行序列化。这意味着您可以将各种各样的数据对象安全地传递到目标窗口，而不必自己序列化它们。\n\n### 安全\n\n##### 如果您不希望从其他网站接收message，请不要为message事件添加任何事件侦听器。 这是一个完全万无一失的方式来避免安全问题。\n\n##### 如果您确实希望从其他网站接收message，请始终使用origin和source属性验证发件人的身份。 任何窗口（包括例如http://evil.example.com）都可以向任何其他窗口发送消息，并且您不能保证未知发件人不会发送恶意消息。 但是，验证身份后，您仍然应该始终验证接收到的消息的语法。 否则，您信任只发送受信任邮件的网站中的安全漏洞可能会在您的网站中打开跨网站脚本漏洞。\n\n##### 当您使用postMessage将数据发送到其他窗口时，始终指定精确的目标origin，而不是*。 恶意网站可以在您不知情的情况下更改窗口的位置，因此它可以拦截使用postMessage发送的数据。\n\n### 总结\n\n##### 如果在两个窗口之间进行通信，如：```iframe```使用```postMessage```是最好的方式，也可以通过socket、cookieStorage等多种方法间接实现，但是socket、cookieStorage都需要通过服务器做中转。\n\n##### 安全上除了方法提供的安全限制，在代码中加入相应的判断，才是最安全的做法，主动进攻就是最好的防御。\n\n##### 数据传递，由于有些浏览器在之前的版本只支持字符串数据传递，所以在任何时候都将数据转换成字符串传递是最可靠的。如：对于JSON可以使用JSON.stringify(),对于之前的浏览器可以使用json2.js。"}
{"_id":{"$oid":"5c62d10e4c1a6008d89009aa"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"netstat详解","content":"\u003ch4 id=\"h4-netstat-\"\u003e\u003ca name=\"netstat详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enetstat详解\u003c/h4\u003e\u003ch3 id=\"h3-u7B80u4ECB\"\u003e\u003ca name=\"简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eNetstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u8F93u51FAu4FE1u606Fu542Bu4E49\"\u003e\u003ca name=\"输出信息含义\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e输出信息含义\u003c/h3\u003e\u003ch5 id=\"h5--netstat-\"\u003e\u003ca name=\"执行netstat后，其输出结果为\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行netstat后，其输出结果为\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003evagrant@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]\u003c/span\u003e\u003cspan class=\"pln\"\u003e$ netstat\u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003emore\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eActive\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eInternet\u003c/span\u003e\u003cspan class=\"pln\"\u003e connections \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ew\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eo servers\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eRecv\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eSend\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eLocal\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e               \u003c/span\u003e\u003cspan class=\"typ\"\u003eForeign\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e             \u003c/span\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003essh               \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e52091\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eActive\u003c/span\u003e\u003cspan class=\"pln\"\u003e UNIX domain sockets \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ew\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eo servers\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eRefCnt\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eFlags\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003cspan class=\"pln\"\u003e         I\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eNode\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003ePath\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e11\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         DGRAM                    \u003c/span\u003e\u003cspan class=\"lit\"\u003e11021\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         DGRAM                    \u003c/span\u003e\u003cspan class=\"lit\"\u003e11556\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e@\u003c/span\u003e\u003cspan class=\"str\"\u003e/org/\u003c/span\u003e\u003cspan class=\"pln\"\u003efreedesktop\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eudev_event\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         DGRAM                    \u003c/span\u003e\u003cspan class=\"lit\"\u003e8986\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"pun\"\u003e@\u003c/span\u003e\u003cspan class=\"str\"\u003e/org/\u003c/span\u003e\u003cspan class=\"pln\"\u003ekernel\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eudev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eudevd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         STREAM     CONNECTED     \u003c/span\u003e\u003cspan class=\"lit\"\u003e17777\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         STREAM     CONNECTED     \u003c/span\u003e\u003cspan class=\"lit\"\u003e17776\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--netstat-\"\u003e\u003ca name=\"从整体上看，netstat的输出结果可以分为两个部分：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从整体上看，netstat的输出结果可以分为两个部分：\u003c/h6\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eOUTPUT\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eActive\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eInternet\u003c/span\u003e\u003cspan class=\"pln\"\u003e connections \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eTCP\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e UDP\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e raw\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e protocol \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e udp\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e raw\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e used \u003c/span\u003e\u003cspan class=\"kwd\"\u003eby\u003c/span\u003e\u003cspan class=\"pln\"\u003e the socket\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eRecv\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e count of bytes \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e copied \u003c/span\u003e\u003cspan class=\"kwd\"\u003eby\u003c/span\u003e\u003cspan class=\"pln\"\u003e the user program connected to \u003c/span\u003e\u003cspan class=\"kwd\"\u003ethis\u003c/span\u003e\u003cspan class=\"pln\"\u003e socket\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eSend\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e count of bytes \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e acknowledged \u003c/span\u003e\u003cspan class=\"kwd\"\u003eby\u003c/span\u003e\u003cspan class=\"pln\"\u003e the remote host\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--active-internet-connections-tcp-recv-q-send-q-0-\"\u003e\u003ca name=\"一个是Active Internet connections，称为有源TCP连接，其中”Recv-Q”和”Send-Q”指的是接收队列和发送队列，这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积，这种情况非常少见。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e一个是Active Internet connections，称为有源TCP连接，其中”Recv-Q”和”Send-Q”指的是接收队列和发送队列，这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积，这种情况非常少见。\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eActive\u003c/span\u003e\u003cspan class=\"pln\"\u003e UNIX domain \u003c/span\u003e\u003cspan class=\"typ\"\u003eSockets\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e protocol \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eusually unix\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e used \u003c/span\u003e\u003cspan class=\"kwd\"\u003eby\u003c/span\u003e\u003cspan class=\"pln\"\u003e the socket\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eRefCnt\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e reference count \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ei\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ee\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e attached processes via \u003c/span\u003e\u003cspan class=\"kwd\"\u003ethis\u003c/span\u003e\u003cspan class=\"pln\"\u003e socket\u003c/span\u003e\u003cspan class=\"pun\"\u003e).\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eFlags\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e  flags  displayed  \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e  SO_ACCEPTON  \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003edisplayed \u003c/span\u003e\u003cspan class=\"kwd\"\u003eas\u003c/span\u003e\u003cspan class=\"pln\"\u003e ACC\u003c/span\u003e\u003cspan class=\"pun\"\u003e),\u003c/span\u003e\u003cspan class=\"pln\"\u003e SO_WAITDATA \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eW\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eor\u003c/span\u003e\u003cspan class=\"pln\"\u003e SO_NOSPACE \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eN\u003c/span\u003e\u003cspan class=\"pun\"\u003e).\u003c/span\u003e\u003cspan class=\"pln\"\u003e  SO_ACCECPTON \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e used on\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       unconnected sockets \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e their corresponding processes are waiting \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e a connect request\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e other flags are \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e of nor\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       mal interest\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eThere\u003c/span\u003e\u003cspan class=\"pln\"\u003e are several types of socket access\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       SOCK_DGRAM\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e              \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e socket \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e used \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eDatagram\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003econnectionless\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e mode\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       SOCK_STREAM\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e              \u003c/span\u003e\u003cspan class=\"typ\"\u003eThis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e a stream \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003econnection\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e socket\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e       SOCK_RAW\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e              \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e socket \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e used \u003c/span\u003e\u003cspan class=\"kwd\"\u003eas\u003c/span\u003e\u003cspan class=\"pln\"\u003e a raw socket\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--active-unix-domain-sockets-unix-\"\u003e\u003ca name=\"另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003cspan class=\"pun\"\u003e显示连接使用的协议，\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eRefCnt\u003c/span\u003e\u003cspan class=\"pun\"\u003e表示连接到本套接口上的进程数量，\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTypes\u003c/span\u003e\u003cspan class=\"pun\"\u003e显示套接口的类型，\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003cspan class=\"pun\"\u003e显示套接口当前的状态，\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003ePath\u003c/span\u003e\u003cspan class=\"pun\"\u003e表示连接到套接口的其它进程使用的路径名。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u5E38u89C1u53C2u6570\"\u003e\u003ca name=\"常见参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e常见参数\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ea \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eall\u003c/span\u003e\u003cspan class=\"pun\"\u003e)显示所有选项，\u003c/span\u003e\u003cspan class=\"pln\"\u003enetstat\u003c/span\u003e\u003cspan class=\"pun\"\u003e默认不显示\u003c/span\u003e\u003cspan class=\"pln\"\u003eLISTEN\u003c/span\u003e\u003cspan class=\"pun\"\u003e相关\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003et \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e)仅显示\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e相关选项\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eu \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eudp\u003c/span\u003e\u003cspan class=\"pun\"\u003e)仅显示\u003c/span\u003e\u003cspan class=\"pln\"\u003eudp\u003c/span\u003e\u003cspan class=\"pun\"\u003e相关选项\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"pun\"\u003e拒绝显示别名，能显示数字的全部转化成数字。(重要)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003el \u003c/span\u003e\u003cspan class=\"pun\"\u003e仅列出有在\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eListen\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(监听)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e的服務状态\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e显示建立相关链接的程序名(\u003c/span\u003e\u003cspan class=\"pln\"\u003emacOS\u003c/span\u003e\u003cspan class=\"pun\"\u003e中表示协议\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep protocol\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003er \u003c/span\u003e\u003cspan class=\"pun\"\u003e显示路由信息，路由表\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ee \u003c/span\u003e\u003cspan class=\"pun\"\u003e显示扩展信息，例如\u003c/span\u003e\u003cspan class=\"pln\"\u003euid\u003c/span\u003e\u003cspan class=\"pun\"\u003e等\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003es \u003c/span\u003e\u003cspan class=\"pun\"\u003e按各个协议进行统计\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(重要)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec \u003c/span\u003e\u003cspan class=\"pun\"\u003e每隔一个固定时间，执行该\u003c/span\u003e\u003cspan class=\"pln\"\u003enetstat\u003c/span\u003e\u003cspan class=\"pun\"\u003e命令。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--listen-listening-a-l-\"\u003e\u003ca name=\"提示：LISTEN和LISTENING的状态只有用-a或者-l才能看到\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：LISTEN和LISTENING的状态只有用-a或者-l才能看到\u003c/h6\u003e\u003ch3 id=\"h3-u5B9Eu7528u547Du4EE4u5B9Eu4F8B\"\u003e\u003ca name=\"实用命令实例\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实用命令实例\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003col\u003e\n\u003cli\u003e列出所有端口 (包括监听和未监听的)\u003c/li\u003e\u003c/ol\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e列出所有端口:\u003c/span\u003e\u003cspan class=\"pln\"\u003e     netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ea\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e列出所有\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e端口:\u003c/span\u003e\u003cspan class=\"pln\"\u003e  netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eat\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e列出所有\u003c/span\u003e\u003cspan class=\"pln\"\u003eudp\u003c/span\u003e\u003cspan class=\"pun\"\u003e端口:\u003c/span\u003e\u003cspan class=\"pln\"\u003e  netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eau\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003col\u003e\n\u003cli\u003e列出所有处于监听状态的 Sockets\u003c/li\u003e\u003c/ol\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e只显示监听端口:\u003c/span\u003e\u003cspan class=\"pln\"\u003e          netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003el\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e只列出所有监听\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e端口:\u003c/span\u003e\u003cspan class=\"pln\"\u003e   netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elt\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e只列出所有监听\u003c/span\u003e\u003cspan class=\"pln\"\u003eudp\u003c/span\u003e\u003cspan class=\"pun\"\u003e端口:\u003c/span\u003e\u003cspan class=\"pln\"\u003e   netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elu\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e只列出所有监听\u003c/span\u003e\u003cspan class=\"pln\"\u003eUNIX\u003c/span\u003e\u003cspan class=\"pun\"\u003e端口:\u003c/span\u003e\u003cspan class=\"pln\"\u003e  netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elx\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003col\u003e\n\u003cli\u003e显示每个协议的统计信息\u003c/li\u003e\u003c/ol\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e显示所有端口的统计信息\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003es\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003evagrant@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]\u003c/span\u003e\u003cspan class=\"pln\"\u003e$ netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003es\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eIp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e2081\u003c/span\u003e\u003cspan class=\"pln\"\u003e total packets received\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pln\"\u003e invalid addresses\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e forwarded\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e incoming packets discarded\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e2079\u003c/span\u003e\u003cspan class=\"pln\"\u003e incoming packets delivered\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e1319\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests sent \u003c/span\u003e\u003cspan class=\"kwd\"\u003eout\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eIcmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e ICMP messages received\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e input ICMP message failed\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ICMP input histogram\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e ICMP messages sent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e ICMP messages failed\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ICMP output histogram\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e active connections openings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pln\"\u003e passive connection openings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e failed connection attempts\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e connection resets received\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e connections established\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e1957\u003c/span\u003e\u003cspan class=\"pln\"\u003e segments received\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e1103\u003c/span\u003e\u003cspan class=\"pln\"\u003e segments send \u003c/span\u003e\u003cspan class=\"kwd\"\u003eout\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e segments retransmited\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e bad segments received\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e resets sent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUdp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e122\u003c/span\u003e\u003cspan class=\"pln\"\u003e packets received\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e packets to unknown port received\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e packet receive errors\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e216\u003c/span\u003e\u003cspan class=\"pln\"\u003e packets sent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUdpLite\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTcpExt\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e9\u003c/span\u003e\u003cspan class=\"pln\"\u003e delayed acks sent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e packets directly queued to recvmsg prequeue\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e730\u003c/span\u003e\u003cspan class=\"pln\"\u003e packets header predicted\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e5\u003c/span\u003e\u003cspan class=\"pln\"\u003e acknowledgments \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e containing data received\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e1036\u003c/span\u003e\u003cspan class=\"pln\"\u003e predicted acknowledgments\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e TCP data loss events\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eIpExt\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"typ\"\u003eInOctets\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e146500\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"typ\"\u003eOutOctets\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e132340\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--tcp-udp-netstat-st-su\"\u003e\u003ca name=\"显示 TCP 或 UDP 端口的统计信息 netstat -st 或 -su\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示 TCP 或 UDP 端口的统计信息 netstat -st 或 -su\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003est \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esu\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--pid-\"\u003e\u003ca name=\"显示 PID 和进程名称\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示 PID 和进程名称\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003enetstat -p 可以与其它开关一起使用，就可以添加 “PID/进程名称” 到 netstat 输出中，这样 debugging 的时候可以很方便的发现特定端口运行的程序。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ept\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eActive\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eInternet\u003c/span\u003e\u003cspan class=\"pln\"\u003e connections \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ew\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eo servers\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eRecv\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eSend\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eLocal\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e               \u003c/span\u003e\u003cspan class=\"typ\"\u003eForeign\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e             \u003c/span\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003cspan class=\"pln\"\u003e       PID\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"typ\"\u003eProgram\u003c/span\u003e\u003cspan class=\"pln\"\u003e name\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003essh               \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e52964\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED \u003c/span\u003e\u003cspan class=\"lit\"\u003e3008\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003essh               \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e52091\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED \u003c/span\u003e\u003cspan class=\"lit\"\u003e2813\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--host-port-or-user-\"\u003e\u003ca name=\"不显示主机，端口和用户名 (host, port or user)\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e不显示主机，端口和用户名 (host, port or user)\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003e当你不想让主机，端口和用户名显示，使用 netstat -n。将会使用数字代替那些名称。该参数可以加速output的输出，因为不用进行比对查询。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# netstat -an\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 如果只是不想让这三个名称中的一个被显示，使用以下命令\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# netsat -a --numeric-ports\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# netsat -a --numeric-hosts\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# netsat -a --numeric-users\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--netstat-\"\u003e\u003ca name=\"持续输出 netstat 信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e持续输出 netstat 信息\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003enetstat 将每隔一秒输出网络信息。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# netstat -t -c 2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--address-families-\"\u003e\u003ca name=\"显示系统不支持的地址族 (Address Families)\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示系统不支持的地址族 (Address Families)\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003everbose\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u663Eu793Au6838u5FC3u8DEFu7531u4FE1u606F\"\u003e\u003ca name=\"显示核心路由信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示核心路由信息\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ern\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eKernel\u003c/span\u003e\u003cspan class=\"pln\"\u003e IP routing table\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDestination\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"typ\"\u003eGateway\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"typ\"\u003eGenmask\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"typ\"\u003eFlags\u003c/span\u003e\u003cspan class=\"pln\"\u003e   MSS \u003c/span\u003e\u003cspan class=\"typ\"\u003eWindow\u003c/span\u003e\u003cspan class=\"pln\"\u003e  irtt \u003c/span\u003e\u003cspan class=\"typ\"\u003eIface\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"lit\"\u003e255.255\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e255.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e   U         \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e          \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e eth0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"lit\"\u003e169.254\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"lit\"\u003e255.255\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e     U         \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e          \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e eth0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e         UG        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e          \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e eth0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--netstat-rn-route-n\"\u003e\u003ca name=\"注意： 使用 netstat -rn 显示数字格式，不查询主机名称，效果等价于route -n\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注意： 使用 netstat -rn 显示数字格式，不查询主机名称，效果等价于route -n\u003c/h6\u003e\u003ch5 id=\"h5-u627Eu51FAu7A0Bu5E8Fu8FD0u884Cu7684u7AEFu53E3\"\u003e\u003ca name=\"找出程序运行的端口\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e找出程序运行的端口\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003e并不是所有的进程都能找到，没有权限的会不显示，使用 root 权限查看所有的信息。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eapn \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep ssh\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                  \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                   LISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e1438\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e52964\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED \u003c/span\u003e\u003cspan class=\"lit\"\u003e3008\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e52091\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED \u003c/span\u003e\u003cspan class=\"lit\"\u003e2813\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                       \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                        LISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e1438\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         STREAM     CONNECTED     \u003c/span\u003e\u003cspan class=\"lit\"\u003e18443\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3008\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         STREAM     CONNECTED     \u003c/span\u003e\u003cspan class=\"lit\"\u003e18442\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3011\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         DGRAM                    \u003c/span\u003e\u003cspan class=\"lit\"\u003e18439\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3008\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         STREAM     CONNECTED     \u003c/span\u003e\u003cspan class=\"lit\"\u003e17777\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e2813\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         STREAM     CONNECTED     \u003c/span\u003e\u003cspan class=\"lit\"\u003e17776\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e2816\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunix  \u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e         DGRAM                    \u003c/span\u003e\u003cspan class=\"lit\"\u003e17773\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e2813\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u627Eu51FAu8FD0u884Cu5728u6307u5B9Au7AEFu53E3u7684u8FDBu7A0B\"\u003e\u003ca name=\"找出运行在指定端口的进程\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e找出运行在指定端口的进程\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ean \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep \u003c/span\u003e\u003cspan class=\"str\"\u003e':22'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                  \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                   LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e52964\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e52091\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                       \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                        LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u663Eu793Au7F51u7EDCu63A5u53E3u5217u8868\"\u003e\u003ca name=\"显示网络接口列表\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示网络接口列表\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ei\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eKernel\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eInterface\u003c/span\u003e\u003cspan class=\"pln\"\u003e table\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eIface\u003c/span\u003e\u003cspan class=\"pln\"\u003e       MTU \u003c/span\u003e\u003cspan class=\"typ\"\u003eMet\u003c/span\u003e\u003cspan class=\"pln\"\u003e    RX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eOK RX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eERR RX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eDRP RX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eOVR    TX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eOK TX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eERR TX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eDRP TX\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eOVR \u003c/span\u003e\u003cspan class=\"typ\"\u003eFlg\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eeth0       \u003c/span\u003e\u003cspan class=\"lit\"\u003e1500\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e12125\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"lit\"\u003e5474\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e BMRU\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003elo        \u003c/span\u003e\u003cspan class=\"lit\"\u003e65536\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e LRU\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@centos6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eie\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eKernel\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eInterface\u003c/span\u003e\u003cspan class=\"pln\"\u003e table\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eeth0      \u003c/span\u003e\u003cspan class=\"typ\"\u003eLink\u003c/span\u003e\u003cspan class=\"pln\"\u003e encap\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003eEthernet\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eHWaddr\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e52\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e54\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e00\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e5D\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eA4\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eAF\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          inet addr\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eBcast\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.255\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eMask\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e255.255\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e255.0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          inet6 addr\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e fe80\u003c/span\u003e\u003cspan class=\"pun\"\u003e::\u003c/span\u003e\u003cspan class=\"lit\"\u003e5054\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eff\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003efe5d\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003ea4af\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e64\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eScope\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003eLink\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          UP BROADCAST RUNNING MULTICAST  MTU\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1500\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eMetric\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          RX packets\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e12131\u003c/span\u003e\u003cspan class=\"pln\"\u003e errors\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e dropped\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e overruns\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e frame\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          TX packets\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e5477\u003c/span\u003e\u003cspan class=\"pln\"\u003e errors\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e dropped\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e overruns\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e carrier\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          collisions\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e txqueuelen\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          RX bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e7474852\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMiB\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e  TX bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e580343\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e566.7\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eKiB\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003elo        \u003c/span\u003e\u003cspan class=\"typ\"\u003eLink\u003c/span\u003e\u003cspan class=\"pln\"\u003e encap\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003eLocal\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eLoopback\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          inet addr\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eMask\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e255.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          inet6 addr\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e::\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eScope\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003eHost\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          UP LOOPBACK RUNNING  MTU\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e65536\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eMetric\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          RX packets\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e errors\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e dropped\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e overruns\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e frame\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          TX packets\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e errors\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e dropped\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e overruns\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e carrier\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          collisions\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e txqueuelen\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e          RX bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e b\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e  TX bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pln\"\u003e b\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5-ip-tcp-\"\u003e\u003ca name=\"IP和TCP分析\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eIP和TCP分析\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003e查看连接某服务端口最多的的IP地址/TCP各种状态列表:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e统计TCP状态\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eant \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"str\"\u003e'NR\u0026gt;=3 {++State[$6]} END {for (key in State) print key,State[key]}'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                ss \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eant \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"str\"\u003e'NR\u0026gt;=2 {++State[$1]} END {for (key in State) print key,State[key]}'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e首先是\u003c/span\u003e\u003cspan class=\"pln\"\u003enetstat\u003c/span\u003e\u003cspan class=\"pun\"\u003e内容输出:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003evagrant@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]\u003c/span\u003e\u003cspan class=\"pln\"\u003e$ netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eant\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eActive\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eInternet\u003c/span\u003e\u003cspan class=\"pln\"\u003e connections \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eservers \u003c/span\u003e\u003cspan class=\"kwd\"\u003eand\u003c/span\u003e\u003cspan class=\"pln\"\u003e established\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eRecv\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eSend\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eLocal\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e               \u003c/span\u003e\u003cspan class=\"typ\"\u003eForeign\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e             \u003c/span\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e39198\u003c/span\u003e\u003cspan class=\"pln\"\u003e               \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                   LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e111\u003c/span\u003e\u003cspan class=\"pln\"\u003e                 \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                   LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                  \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                   LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e25\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                   LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e58263\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e51041\u003c/span\u003e\u003cspan class=\"pln\"\u003e                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                        LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e111\u003c/span\u003e\u003cspan class=\"pln\"\u003e                      \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                        LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                       \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                        LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e::\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e25\u003c/span\u003e\u003cspan class=\"pln\"\u003e                      \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003cspan class=\"pln\"\u003e                        LISTEN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e命令注释：\u003c/span\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"str\"\u003e'/^tcp/ {++state[$NF]} END {for(a in state) print a, state[a]}'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/^\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e滤出\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e开头的记录，屏蔽\u003c/span\u003e\u003cspan class=\"pln\"\u003eudp\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e socket\u003c/span\u003e\u003cspan class=\"pun\"\u003e等无关记录。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003cspan class=\"pun\"\u003e[]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e相当于定义了一个名叫\u003c/span\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003cspan class=\"pun\"\u003e的数组\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eNF\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e number of fields \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e the current input record\u003c/span\u003e\u003cspan class=\"pun\"\u003e.(表示输入数据的字段总数，如上所示的记录，\u003c/span\u003e\u003cspan class=\"pln\"\u003eNF\u003c/span\u003e\u003cspan class=\"pun\"\u003e等于\u003c/span\u003e\u003cspan class=\"lit\"\u003e6\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e$NF\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e表示某个字段的值，如上所示的记录，\u003c/span\u003e\u003cspan class=\"pln\"\u003e$NF\u003c/span\u003e\u003cspan class=\"pun\"\u003e也就是\u003c/span\u003e\u003cspan class=\"pln\"\u003e$6\u003c/span\u003e\u003cspan class=\"pun\"\u003e，表示第\u003c/span\u003e\u003cspan class=\"lit\"\u003e6\u003c/span\u003e\u003cspan class=\"pun\"\u003e个字段的值，也就是\u003c/span\u003e\u003cspan class=\"pln\"\u003eTIME_WAIT\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e$NF\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e表示数组元素的值，如上所示的记录，就是\u003c/span\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eTIME_WAIT\u003c/span\u003e\u003cspan class=\"pun\"\u003e]状态的连接数\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e++\u003c/span\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e$NF\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e表示把某个数加一，如上所示的记录，就是把\u003c/span\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eTIME_WAIT\u003c/span\u003e\u003cspan class=\"pun\"\u003e]状态的连接数加一\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eEND\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e表示在最后阶段要执行的命令\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ekey \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e state\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e遍历数组\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eprint\u003c/span\u003e\u003cspan class=\"pln\"\u003e key\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"str\"\u003e\"\\t\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003ekey\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e打印数组的键和值，中间可以用\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\t\u003c/span\u003e\u003cspan class=\"pun\"\u003e制表符分割，美化一下。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eNR\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;=\u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e total number of input records seen so far\u003c/span\u003e\u003cspan class=\"pun\"\u003e.(\u003c/span\u003e\u003cspan class=\"pln\"\u003eNR\u003c/span\u003e\u003cspan class=\"pun\"\u003e表示已输入数据行数目,即表示从第二行开始处理,\u003c/span\u003e\u003cspan class=\"pln\"\u003eNR\u003c/span\u003e\u003cspan class=\"pun\"\u003e和\u003c/span\u003e\u003cspan class=\"pln\"\u003eNF\u003c/span\u003e\u003cspan class=\"pun\"\u003e都是内建变量)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e同理\u003c/span\u003e\u003cspan class=\"pln\"\u003ess\u003c/span\u003e\u003cspan class=\"pun\"\u003e工具下的\u003c/span\u003e\u003cspan class=\"pln\"\u003eawk\u003c/span\u003e\u003cspan class=\"pun\"\u003e语句应该修改成：\u003c/span\u003e\u003cspan class=\"pln\"\u003ess \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eant \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"str\"\u003e'NR\u0026gt;=2 {++State[$1]} END {for (key in State) print key,State[key]}'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e ss \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eant\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eRecv\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eSend\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ                         \u003c/span\u003e\u003cspan class=\"typ\"\u003eLocal\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003ePort\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                        \u003c/span\u003e\u003cspan class=\"typ\"\u003ePeer\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003ePort\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e50\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                         \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:\u003c/span\u003e\u003cspan class=\"lit\"\u003e3306\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                   \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                        \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:\u003c/span\u003e\u003cspan class=\"lit\"\u003e6379\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                   \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                        \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:\u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                     \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                        \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                     \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                \u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e25\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                     \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eESTAB       \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                  \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                              \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e58352\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eESTAB       \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                  \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                              \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e57127\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                       \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e32\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                        \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e21\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                       \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                      \u003c/span\u003e\u003cspan class=\"pun\"\u003e::\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e25\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e:::*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e统计每个IP的连接数\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"str\"\u003e'/^tcp/ {print $5}'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eF\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'{print $1}'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e sort \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e uniq \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e sort \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ern\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                      ss \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"str\"\u003e'/^tcp/ {print $5}'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e awk \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eF\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'{print $1}'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e sort \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e uniq \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e sort \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ern\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e---------------------------------------------------(\u003c/span\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eCentOS6\u003c/span\u003e\u003cspan class=\"pun\"\u003e)----------------------------------------------------\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eRecv\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eSend\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eLocal\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e               \u003c/span\u003e\u003cspan class=\"typ\"\u003eForeign\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pln\"\u003e             \u003c/span\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e58262\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e58263\u003c/span\u003e\u003cspan class=\"pln\"\u003e              ESTABLISHED\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e---------------------------------------------------(\u003c/span\u003e\u003cspan class=\"pln\"\u003ess \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eCentOS7\u003c/span\u003e\u003cspan class=\"pun\"\u003e)---------------------------------------------------------\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eNetid\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eState\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"typ\"\u003eRecv\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ \u003c/span\u003e\u003cspan class=\"typ\"\u003eSend\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eQ                       \u003c/span\u003e\u003cspan class=\"typ\"\u003eLocal\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003ePort\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                      \u003c/span\u003e\u003cspan class=\"typ\"\u003ePeer\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAddress\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"typ\"\u003ePort\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp   ESTAB      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                            \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e58352\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp   ESTAB      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.15\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                            \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e57127\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enetstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en                  \u003c/span\u003e\u003cspan class=\"pun\"\u003e:以数字形式显示地址信息\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eawk \u003c/span\u003e\u003cspan class=\"str\"\u003e'/^tcp/ {print $5}'\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"pun\"\u003e:筛选以\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003cspan class=\"pun\"\u003e开头的行，并打印\u003c/span\u003e\u003cspan class=\"lit\"\u003e5th\u003c/span\u003e\u003cspan class=\"pln\"\u003e filed\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eawk \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eF\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'{print $1}'\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e:以冒号为字段分隔符，打印第一个字段(-\u003c/span\u003e\u003cspan class=\"pln\"\u003eF fs \u003c/span\u003e\u003cspan class=\"pun\"\u003e指定行中分隔数据字段的字段分隔符)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003euniq \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec                     \u003c/span\u003e\u003cspan class=\"pun\"\u003e:去除重复项目，-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec \u003c/span\u003e\u003cspan class=\"pun\"\u003e进行计数\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esort \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ern                    \u003c/span\u003e\u003cspan class=\"pun\"\u003e:进行排序，-\u003c/span\u003e\u003cspan class=\"pln\"\u003er \u003c/span\u003e\u003cspan class=\"pun\"\u003e反向排序\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"pun\"\u003e使用纯数字进行排序\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":71969,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T13:58:38.735Z"},"updateTime":{"$date":"2019-02-12T16:57:53.454Z"},"__v":0,"html":"\u003ch4 id=\"h4-netstat-\"\u003e\u003ca name=\"netstat详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enetstat详解\u003c/h4\u003e\u003ch3 id=\"h3-u7B80u4ECB\"\u003e\u003ca name=\"简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eNetstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u8F93u51FAu4FE1u606Fu542Bu4E49\"\u003e\u003ca name=\"输出信息含义\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e输出信息含义\u003c/h3\u003e\u003ch5 id=\"h5--netstat-\"\u003e\u003ca name=\"执行netstat后，其输出结果为\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行netstat后，其输出结果为\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003e[vagrant@centos6 ~]$ netstat|more\nActive Internet connections (w/o servers)\nProto Recv-Q Send-Q Local Address               Foreign Address             State\ntcp        0      0 10.0.2.15:ssh               10.0.2.2:52091              ESTABLISHED\nActive UNIX domain sockets (w/o servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  11     [ ]         DGRAM                    11021  /dev/log\nunix  2      [ ]         DGRAM                    11556  @/org/freedesktop/hal/udev_event\nunix  2      [ ]         DGRAM                    8986   @/org/kernel/udev/udevd\nunix  3      [ ]         STREAM     CONNECTED     17777\nunix  3      [ ]         STREAM     CONNECTED     17776\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--netstat-\"\u003e\u003ca name=\"从整体上看，netstat的输出结果可以分为两个部分：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e从整体上看，netstat的输出结果可以分为两个部分：\u003c/h6\u003e\u003cpre\u003e\u003ccode\u003eOUTPUT\n   Active Internet connections (TCP, UDP, raw)\n   Proto\n       The protocol (tcp, udp, raw) used by the socket.\n\n   Recv-Q\n       The count of bytes not copied by the user program connected to this socket.\n\n   Send-Q\n       The count of bytes not acknowledged by the remote host.\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--active-internet-connections-tcp-recv-q-send-q-0-\"\u003e\u003ca name=\"一个是Active Internet connections，称为有源TCP连接，其中”Recv-Q”和”Send-Q”指的是接收队列和发送队列，这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积，这种情况非常少见。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e一个是Active Internet connections，称为有源TCP连接，其中”Recv-Q”和”Send-Q”指的是接收队列和发送队列，这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积，这种情况非常少见。\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003e   Active UNIX domain Sockets\n   Proto\n       The protocol (usually unix) used by the socket.\n\n   RefCnt\n       The reference count (i.e. attached processes via this socket).\n\n   Flags\n       The  flags  displayed  is  SO_ACCEPTON  (displayed as ACC), SO_WAITDATA (W) or SO_NOSPACE (N).  SO_ACCECPTON is used on\n       unconnected sockets if their corresponding processes are waiting for a connect request. The other flags are not of nor-\n       mal interest.\n\n   Type\n       There are several types of socket access:\n\n       SOCK_DGRAM\n              The socket is used in Datagram (connectionless) mode.\n\n       SOCK_STREAM\n              This is a stream (connection) socket.\n\n       SOCK_RAW\n              The socket is used as a raw socket.\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--active-unix-domain-sockets-unix-\"\u003e\u003ca name=\"另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003eProto显示连接使用的协议，\nRefCnt表示连接到本套接口上的进程数量，\nTypes显示套接口的类型，\nState显示套接口当前的状态，\nPath表示连接到套接口的其它进程使用的路径名。\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u5E38u89C1u53C2u6570\"\u003e\u003ca name=\"常见参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e常见参数\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e-a (all)显示所有选项，netstat默认不显示LISTEN相关\n-t (tcp)仅显示tcp相关选项\n-u (udp)仅显示udp相关选项\n-n 拒绝显示别名，能显示数字的全部转化成数字。(重要)\n-l 仅列出有在 Listen (监听) 的服務状态\n\n-p 显示建立相关链接的程序名(macOS中表示协议 -p protocol)\n-r 显示路由信息，路由表\n-e 显示扩展信息，例如uid等\n-s 按各个协议进行统计 (重要)\n-c 每隔一个固定时间，执行该netstat命令。\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--listen-listening-a-l-\"\u003e\u003ca name=\"提示：LISTEN和LISTENING的状态只有用-a或者-l才能看到\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：LISTEN和LISTENING的状态只有用-a或者-l才能看到\u003c/h6\u003e\u003ch3 id=\"h3-u5B9Eu7528u547Du4EE4u5B9Eu4F8B\"\u003e\u003ca name=\"实用命令实例\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实用命令实例\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003col\u003e\n\u003cli\u003e列出所有端口 (包括监听和未监听的)\u003c/li\u003e\u003c/ol\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e列出所有端口:     netstat -a\n列出所有tcp端口:  netstat -at\n列出所有udp端口:  netstat -au\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003col\u003e\n\u003cli\u003e列出所有处于监听状态的 Sockets\u003c/li\u003e\u003c/ol\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e只显示监听端口:          netstat -l\n只列出所有监听tcp端口:   netstat -lt\n只列出所有监听udp端口:   netstat -lu\n只列出所有监听UNIX端口:  netstat -lx\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003col\u003e\n\u003cli\u003e显示每个协议的统计信息\u003c/li\u003e\u003c/ol\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e显示所有端口的统计信息 netstat -s\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode\u003e[vagrant@centos6 ~]$ netstat -s\nIp:\n    2081 total packets received\n    2 with invalid addresses\n    0 forwarded\n    0 incoming packets discarded\n    2079 incoming packets delivered\n    1319 requests sent out\nIcmp:\n    0 ICMP messages received\n    0 input ICMP message failed.\n    ICMP input histogram:\n    0 ICMP messages sent\n    0 ICMP messages failed\n    ICMP output histogram:\nTcp:\n    0 active connections openings\n    3 passive connection openings\n    0 failed connection attempts\n    0 connection resets received\n    1 connections established\n    1957 segments received\n    1103 segments send out\n    0 segments retransmited\n    0 bad segments received.\n    1 resets sent\nUdp:\n    122 packets received\n    0 packets to unknown port received.\n    0 packet receive errors\n    216 packets sent\nUdpLite:\nTcpExt:\n    9 delayed acks sent\n    1 packets directly queued to recvmsg prequeue.\n    730 packets header predicted\n    5 acknowledgments not containing data received\n    1036 predicted acknowledgments\n    0 TCP data loss events\nIpExt:\n    InOctets: 146500\n    OutOctets: 132340\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--tcp-udp-netstat-st-su\"\u003e\u003ca name=\"显示 TCP 或 UDP 端口的统计信息 netstat -st 或 -su\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示 TCP 或 UDP 端口的统计信息 netstat -st 或 -su\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003enetstat -st \nnetstat -su\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--pid-\"\u003e\u003ca name=\"显示 PID 和进程名称\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示 PID 和进程名称\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003enetstat -p 可以与其它开关一起使用，就可以添加 “PID/进程名称” 到 netstat 输出中，这样 debugging 的时候可以很方便的发现特定端口运行的程序。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@centos6 ~]# netstat -pt\nActive Internet connections (w/o servers)\nProto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name\ntcp        0      0 10.0.2.15:ssh               10.0.2.2:52964              ESTABLISHED 3008/sshd\ntcp        0      0 10.0.2.15:ssh               10.0.2.2:52091              ESTABLISHED 2813/sshd\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--host-port-or-user-\"\u003e\u003ca name=\"不显示主机，端口和用户名 (host, port or user)\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e不显示主机，端口和用户名 (host, port or user)\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003e当你不想让主机，端口和用户名显示，使用 netstat -n。将会使用数字代替那些名称。该参数可以加速output的输出，因为不用进行比对查询。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e# netstat -an\n\n# 如果只是不想让这三个名称中的一个被显示，使用以下命令\n# netsat -a --numeric-ports\n# netsat -a --numeric-hosts\n# netsat -a --numeric-users\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--netstat-\"\u003e\u003ca name=\"持续输出 netstat 信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e持续输出 netstat 信息\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003enetstat 将每隔一秒输出网络信息。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e# netstat -t -c 2\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--address-families-\"\u003e\u003ca name=\"显示系统不支持的地址族 (Address Families)\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示系统不支持的地址族 (Address Families)\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003enetstat --verbose\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u663Eu793Au6838u5FC3u8DEFu7531u4FE1u606F\"\u003e\u003ca name=\"显示核心路由信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示核心路由信息\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003e[root@centos6 ~]# netstat -rn\nKernel IP routing table\nDestination     Gateway         Genmask         Flags   MSS Window  irtt Iface\n10.0.2.0        0.0.0.0         255.255.255.0   U         0 0          0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U         0 0          0 eth0\n0.0.0.0         10.0.2.2        0.0.0.0         UG        0 0          0 eth0\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--netstat-rn-route-n\"\u003e\u003ca name=\"注意： 使用 netstat -rn 显示数字格式，不查询主机名称，效果等价于route -n\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注意： 使用 netstat -rn 显示数字格式，不查询主机名称，效果等价于route -n\u003c/h6\u003e\u003ch5 id=\"h5-u627Eu51FAu7A0Bu5E8Fu8FD0u884Cu7684u7AEFu53E3\"\u003e\u003ca name=\"找出程序运行的端口\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e找出程序运行的端口\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003e并不是所有的进程都能找到，没有权限的会不显示，使用 root 权限查看所有的信息。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@centos6 ~]# netstat -apn | grep ssh\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1438/sshd\ntcp        0      0 10.0.2.15:22                10.0.2.2:52964              ESTABLISHED 3008/sshd\ntcp        0      0 10.0.2.15:22                10.0.2.2:52091              ESTABLISHED 2813/sshd\ntcp        0      0 :::22                       :::*                        LISTEN      1438/sshd\nunix  3      [ ]         STREAM     CONNECTED     18443  3008/sshd\nunix  3      [ ]         STREAM     CONNECTED     18442  3011/sshd\nunix  2      [ ]         DGRAM                    18439  3008/sshd\nunix  3      [ ]         STREAM     CONNECTED     17777  2813/sshd\nunix  3      [ ]         STREAM     CONNECTED     17776  2816/sshd\nunix  2      [ ]         DGRAM                    17773  2813/sshd\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u627Eu51FAu8FD0u884Cu5728u6307u5B9Au7AEFu53E3u7684u8FDBu7A0B\"\u003e\u003ca name=\"找出运行在指定端口的进程\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e找出运行在指定端口的进程\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003e[root@centos6 ~]# netstat -an | grep \u0026#39;:22\u0026#39;\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN\ntcp        0      0 10.0.2.15:22                10.0.2.2:52964              ESTABLISHED\ntcp        0      0 10.0.2.15:22                10.0.2.2:52091              ESTABLISHED\ntcp        0      0 :::22                       :::*                        LISTEN\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-u663Eu793Au7F51u7EDCu63A5u53E3u5217u8868\"\u003e\u003ca name=\"显示网络接口列表\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e显示网络接口列表\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003e[root@centos6 ~]# netstat -i\nKernel Interface table\nIface       MTU Met    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg\neth0       1500   0    12125      0      0      0     5474      0      0      0 BMRU\nlo        65536   0        0      0      0      0        0      0      0      0 LRU\n\n[root@centos6 ~]# netstat -ie\nKernel Interface table\neth0      Link encap:Ethernet  HWaddr 52:54:00:5D:A4:AF\n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::5054:ff:fe5d:a4af/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:12131 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:5477 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:7474852 (7.1 MiB)  TX bytes:580343 (566.7 KiB)\n\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0\n          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-ip-tcp-\"\u003e\u003ca name=\"IP和TCP分析\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eIP和TCP分析\u003c/h5\u003e\u003cblockquote\u003e\n\u003cp\u003e查看连接某服务端口最多的的IP地址/TCP各种状态列表:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e统计TCP状态\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enetstat -ant | awk \u0026#39;NR\u0026gt;=3 {++State[$6]} END {for (key in State) print key,State[key]}\u0026#39;\n                ss -ant | awk \u0026#39;NR\u0026gt;=2 {++State[$1]} END {for (key in State) print key,State[key]}\u0026#39;\n\n首先是netstat内容输出:\n[vagrant@localhost ~]$ netstat -ant\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address               Foreign Address             State\ntcp        0      0 0.0.0.0:39198               0.0.0.0:*                   LISTEN\ntcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN\ntcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN\ntcp        0      0 10.0.2.15:22                10.0.2.2:58263              ESTABLISHED\ntcp        0      0 :::51041                    :::*                        LISTEN\ntcp        0      0 :::111                      :::*                        LISTEN\ntcp        0      0 :::22                       :::*                        LISTEN\ntcp        0      0 ::1:25                      :::*                        LISTEN\n\n\n命令注释：netstat -n | awk \u0026#39;/^tcp/ {++state[$NF]} END {for(a in state) print a, state[a]}\u0026#39;\n\n/^tcp/\n滤出tcp开头的记录，屏蔽udp, socket等无关记录。\n\nstate[]\n相当于定义了一个名叫state的数组\n\nNF\nThe number of fields in the current input record.(表示输入数据的字段总数，如上所示的记录，NF等于6)\n\n$NF\n表示某个字段的值，如上所示的记录，$NF也就是$6，表示第6个字段的值，也就是TIME_WAIT\n\nstate[$NF]\n表示数组元素的值，如上所示的记录，就是state[TIME_WAIT]状态的连接数\n\n++state[$NF]\n表示把某个数加一，如上所示的记录，就是把state[TIME_WAIT]状态的连接数加一\n\nEND\n表示在最后阶段要执行的命令\n\nfor(key in state)\n遍历数组\n\nprint key,\u0026quot;\\t\u0026quot;,state[key]\n打印数组的键和值，中间可以用\\t制表符分割，美化一下。\n\nNR\u0026gt;=3\nThe total number of input records seen so far.(NR表示已输入数据行数目,即表示从第二行开始处理,NR和NF都是内建变量)\n\n\n同理ss工具下的awk语句应该修改成：ss -ant | awk \u0026#39;NR\u0026gt;=2 {++State[$1]} END {for (key in State) print key,State[key]}\u0026#39;\n[root@localhost ~]# ss -ant\nState       Recv-Q Send-Q                         Local Address:Port                                        Peer Address:Port\nLISTEN      0      50                                         *:3306                                                   *:*\nLISTEN      0      128                                        *:6379                                                   *:*\nLISTEN      0      128                                        *:80                                                     *:*\nLISTEN      0      128                                        *:22                                                     *:*\nLISTEN      0      100                                127.0.0.1:25                                                     *:*\nESTAB       0      0                                  10.0.2.15:22                                              10.0.2.2:58352\nESTAB       0      0                                  10.0.2.15:22                                              10.0.2.2:57127\nLISTEN      0      128                                       :::80                                                    :::*\nLISTEN      0      32                                        :::21                                                    :::*\nLISTEN      0      128                                       :::22                                                    :::*\nLISTEN      0      100                                      ::1:25                                                    :::*\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e统计每个IP的连接数\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enetstat -n | awk \u0026#39;/^tcp/ {print $5}\u0026#39; | awk -F: \u0026#39;{print $1}\u0026#39; | sort | uniq -c| sort -rn\n                      ss -n | awk \u0026#39;/^tcp/ {print $5}\u0026#39; | awk -F: \u0026#39;{print $1}\u0026#39; | sort | uniq -c| sort -rn\n\n---------------------------------------------------(netstat -n in CentOS6)----------------------------------------------------\nProto Recv-Q Send-Q Local Address               Foreign Address             State\ntcp        0      0 10.0.2.15:22                10.0.2.2:58262              ESTABLISHED\ntcp        0      0 10.0.2.15:22                10.0.2.2:58263              ESTABLISHED\n\n---------------------------------------------------(ss -n in CentOS7)---------------------------------------------------------\nNetid State      Recv-Q Send-Q                       Local Address:Port                                      Peer Address:Port\ntcp   ESTAB      0      0                                10.0.2.15:22                                            10.0.2.2:58352\ntcp   ESTAB      0      0                                10.0.2.15:22                                            10.0.2.2:57127\n\n\nnetstat -n                  :以数字形式显示地址信息\nawk \u0026#39;/^tcp/ {print $5}\u0026#39;     :筛选以tcp开头的行，并打印5th filed.\nawk -F: \u0026#39;{print $1}\u0026#39;        :以冒号为字段分隔符，打印第一个字段(-F fs 指定行中分隔数据字段的字段分隔符)\nuniq -c                     :去除重复项目，-c 进行计数\nsort -rn                    :进行排序，-r 反向排序 -n 使用纯数字进行排序\n\u003c/code\u003e\u003c/pre\u003e","markDown":"#### netstat详解\n\n### 简介\n\n\u003e Netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。\n\n### 输出信息含义\n\n##### 执行netstat后，其输出结果为\n\n```\n[vagrant@centos6 ~]$ netstat|more\nActive Internet connections (w/o servers)\nProto Recv-Q Send-Q Local Address               Foreign Address             State\ntcp        0      0 10.0.2.15:ssh               10.0.2.2:52091              ESTABLISHED\nActive UNIX domain sockets (w/o servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  11     [ ]         DGRAM                    11021  /dev/log\nunix  2      [ ]         DGRAM                    11556  @/org/freedesktop/hal/udev_event\nunix  2      [ ]         DGRAM                    8986   @/org/kernel/udev/udevd\nunix  3      [ ]         STREAM     CONNECTED     17777\nunix  3      [ ]         STREAM     CONNECTED     17776\n```\n\n###### 从整体上看，netstat的输出结果可以分为两个部分：\n\n```\nOUTPUT\n   Active Internet connections (TCP, UDP, raw)\n   Proto\n       The protocol (tcp, udp, raw) used by the socket.\n\n   Recv-Q\n       The count of bytes not copied by the user program connected to this socket.\n\n   Send-Q\n       The count of bytes not acknowledged by the remote host.\n```\n\n##### 一个是Active Internet connections，称为有源TCP连接，其中\"Recv-Q\"和\"Send-Q\"指的是接收队列和发送队列，这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积，这种情况非常少见。\n\n```\n   Active UNIX domain Sockets\n   Proto\n       The protocol (usually unix) used by the socket.\n\n   RefCnt\n       The reference count (i.e. attached processes via this socket).\n\n   Flags\n       The  flags  displayed  is  SO_ACCEPTON  (displayed as ACC), SO_WAITDATA (W) or SO_NOSPACE (N).  SO_ACCECPTON is used on\n       unconnected sockets if their corresponding processes are waiting for a connect request. The other flags are not of nor-\n       mal interest.\n\n   Type\n       There are several types of socket access:\n\n       SOCK_DGRAM\n              The socket is used in Datagram (connectionless) mode.\n\n       SOCK_STREAM\n              This is a stream (connection) socket.\n\n       SOCK_RAW\n              The socket is used as a raw socket.\n```\n\n##### 另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。\n\n```\nProto显示连接使用的协议，\nRefCnt表示连接到本套接口上的进程数量，\nTypes显示套接口的类型，\nState显示套接口当前的状态，\nPath表示连接到套接口的其它进程使用的路径名。\n```\n\n### 常见参数\n\n```\n-a (all)显示所有选项，netstat默认不显示LISTEN相关\n-t (tcp)仅显示tcp相关选项\n-u (udp)仅显示udp相关选项\n-n 拒绝显示别名，能显示数字的全部转化成数字。(重要)\n-l 仅列出有在 Listen (监听) 的服務状态\n\n-p 显示建立相关链接的程序名(macOS中表示协议 -p protocol)\n-r 显示路由信息，路由表\n-e 显示扩展信息，例如uid等\n-s 按各个协议进行统计 (重要)\n-c 每隔一个固定时间，执行该netstat命令。\n```\n\n###### 提示：LISTEN和LISTENING的状态只有用-a或者-l才能看到 \n\n### 实用命令实例\n* 1. 列出所有端口 (包括监听和未监听的)\n\n```\n列出所有端口:     netstat -a\n列出所有tcp端口:  netstat -at\n列出所有udp端口:  netstat -au\n```\n\n* 2. 列出所有处于监听状态的 Sockets\n\n```\n只显示监听端口:          netstat -l\n只列出所有监听tcp端口:   netstat -lt\n只列出所有监听udp端口:   netstat -lu\n只列出所有监听UNIX端口:  netstat -lx\n```\n\n* 3. 显示每个协议的统计信息\n\n```\n显示所有端口的统计信息 netstat -s\n```\n\n```\n[vagrant@centos6 ~]$ netstat -s\nIp:\n    2081 total packets received\n    2 with invalid addresses\n    0 forwarded\n    0 incoming packets discarded\n    2079 incoming packets delivered\n    1319 requests sent out\nIcmp:\n    0 ICMP messages received\n    0 input ICMP message failed.\n    ICMP input histogram:\n    0 ICMP messages sent\n    0 ICMP messages failed\n    ICMP output histogram:\nTcp:\n    0 active connections openings\n    3 passive connection openings\n    0 failed connection attempts\n    0 connection resets received\n    1 connections established\n    1957 segments received\n    1103 segments send out\n    0 segments retransmited\n    0 bad segments received.\n    1 resets sent\nUdp:\n    122 packets received\n    0 packets to unknown port received.\n    0 packet receive errors\n    216 packets sent\nUdpLite:\nTcpExt:\n    9 delayed acks sent\n    1 packets directly queued to recvmsg prequeue.\n    730 packets header predicted\n    5 acknowledgments not containing data received\n    1036 predicted acknowledgments\n    0 TCP data loss events\nIpExt:\n    InOctets: 146500\n    OutOctets: 132340\n```\n\n#### 显示 TCP 或 UDP 端口的统计信息 netstat -st 或 -su\n\n```\nnetstat -st \nnetstat -su\n```\n\n##### 显示 PID 和进程名称\n\n\u003e netstat -p 可以与其它开关一起使用，就可以添加 “PID/进程名称” 到 netstat 输出中，这样 debugging 的时候可以很方便的发现特定端口运行的程序。\n\n```\n[root@centos6 ~]# netstat -pt\nActive Internet connections (w/o servers)\nProto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name\ntcp        0      0 10.0.2.15:ssh               10.0.2.2:52964              ESTABLISHED 3008/sshd\ntcp        0      0 10.0.2.15:ssh               10.0.2.2:52091              ESTABLISHED 2813/sshd\n```\n\n##### 不显示主机，端口和用户名 (host, port or user)\n\n\u003e 当你不想让主机，端口和用户名显示，使用 netstat -n。将会使用数字代替那些名称。该参数可以加速output的输出，因为不用进行比对查询。\n\n```\n# netstat -an\n\n# 如果只是不想让这三个名称中的一个被显示，使用以下命令\n# netsat -a --numeric-ports\n# netsat -a --numeric-hosts\n# netsat -a --numeric-users\n```\n\n##### 持续输出 netstat 信息\n\n\u003e netstat 将每隔一秒输出网络信息。\n\n```\n# netstat -t -c 2\n```\n\n##### 显示系统不支持的地址族 (Address Families)\n\n```\nnetstat --verbose\n```\n\n##### 显示核心路由信息\n\n```\n[root@centos6 ~]# netstat -rn\nKernel IP routing table\nDestination     Gateway         Genmask         Flags   MSS Window  irtt Iface\n10.0.2.0        0.0.0.0         255.255.255.0   U         0 0          0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U         0 0          0 eth0\n0.0.0.0         10.0.2.2        0.0.0.0         UG        0 0          0 eth0\n```\n\n###### 注意： 使用 netstat -rn 显示数字格式，不查询主机名称，效果等价于route -n\n\n##### 找出程序运行的端口\n\n\u003e 并不是所有的进程都能找到，没有权限的会不显示，使用 root 权限查看所有的信息。\n\n```\n[root@centos6 ~]# netstat -apn | grep ssh\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1438/sshd\ntcp        0      0 10.0.2.15:22                10.0.2.2:52964              ESTABLISHED 3008/sshd\ntcp        0      0 10.0.2.15:22                10.0.2.2:52091              ESTABLISHED 2813/sshd\ntcp        0      0 :::22                       :::*                        LISTEN      1438/sshd\nunix  3      [ ]         STREAM     CONNECTED     18443  3008/sshd\nunix  3      [ ]         STREAM     CONNECTED     18442  3011/sshd\nunix  2      [ ]         DGRAM                    18439  3008/sshd\nunix  3      [ ]         STREAM     CONNECTED     17777  2813/sshd\nunix  3      [ ]         STREAM     CONNECTED     17776  2816/sshd\nunix  2      [ ]         DGRAM                    17773  2813/sshd\n```\n\n##### 找出运行在指定端口的进程\n\n```\n[root@centos6 ~]# netstat -an | grep ':22'\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN\ntcp        0      0 10.0.2.15:22                10.0.2.2:52964              ESTABLISHED\ntcp        0      0 10.0.2.15:22                10.0.2.2:52091              ESTABLISHED\ntcp        0      0 :::22                       :::*                        LISTEN\n```\n\n##### 显示网络接口列表\n\n```\n[root@centos6 ~]# netstat -i\nKernel Interface table\nIface       MTU Met    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg\neth0       1500   0    12125      0      0      0     5474      0      0      0 BMRU\nlo        65536   0        0      0      0      0        0      0      0      0 LRU\n\n[root@centos6 ~]# netstat -ie\nKernel Interface table\neth0      Link encap:Ethernet  HWaddr 52:54:00:5D:A4:AF\n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::5054:ff:fe5d:a4af/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:12131 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:5477 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:7474852 (7.1 MiB)  TX bytes:580343 (566.7 KiB)\n\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0\n          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)\n```\n\n##### IP和TCP分析\n\n\u003e 查看连接某服务端口最多的的IP地址/TCP各种状态列表:\n\n* 统计TCP状态\n\n```\nnetstat -ant | awk 'NR\u003e=3 {++State[$6]} END {for (key in State) print key,State[key]}'\n                ss -ant | awk 'NR\u003e=2 {++State[$1]} END {for (key in State) print key,State[key]}'\n\n首先是netstat内容输出:\n[vagrant@localhost ~]$ netstat -ant\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address               Foreign Address             State\ntcp        0      0 0.0.0.0:39198               0.0.0.0:*                   LISTEN\ntcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN\ntcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN\ntcp        0      0 10.0.2.15:22                10.0.2.2:58263              ESTABLISHED\ntcp        0      0 :::51041                    :::*                        LISTEN\ntcp        0      0 :::111                      :::*                        LISTEN\ntcp        0      0 :::22                       :::*                        LISTEN\ntcp        0      0 ::1:25                      :::*                        LISTEN\n\n\n命令注释：netstat -n | awk '/^tcp/ {++state[$NF]} END {for(a in state) print a, state[a]}'\n\n/^tcp/\n滤出tcp开头的记录，屏蔽udp, socket等无关记录。\n\nstate[]\n相当于定义了一个名叫state的数组\n\nNF\nThe number of fields in the current input record.(表示输入数据的字段总数，如上所示的记录，NF等于6)\n\n$NF\n表示某个字段的值，如上所示的记录，$NF也就是$6，表示第6个字段的值，也就是TIME_WAIT\n\nstate[$NF]\n表示数组元素的值，如上所示的记录，就是state[TIME_WAIT]状态的连接数\n\n++state[$NF]\n表示把某个数加一，如上所示的记录，就是把state[TIME_WAIT]状态的连接数加一\n\nEND\n表示在最后阶段要执行的命令\n\nfor(key in state)\n遍历数组\n\nprint key,\"\\t\",state[key]\n打印数组的键和值，中间可以用\\t制表符分割，美化一下。\n\nNR\u003e=3\nThe total number of input records seen so far.(NR表示已输入数据行数目,即表示从第二行开始处理,NR和NF都是内建变量)\n\n\n同理ss工具下的awk语句应该修改成：ss -ant | awk 'NR\u003e=2 {++State[$1]} END {for (key in State) print key,State[key]}'\n[root@localhost ~]# ss -ant\nState       Recv-Q Send-Q                         Local Address:Port                                        Peer Address:Port\nLISTEN      0      50                                         *:3306                                                   *:*\nLISTEN      0      128                                        *:6379                                                   *:*\nLISTEN      0      128                                        *:80                                                     *:*\nLISTEN      0      128                                        *:22                                                     *:*\nLISTEN      0      100                                127.0.0.1:25                                                     *:*\nESTAB       0      0                                  10.0.2.15:22                                              10.0.2.2:58352\nESTAB       0      0                                  10.0.2.15:22                                              10.0.2.2:57127\nLISTEN      0      128                                       :::80                                                    :::*\nLISTEN      0      32                                        :::21                                                    :::*\nLISTEN      0      128                                       :::22                                                    :::*\nLISTEN      0      100                                      ::1:25                                                    :::*\n```\n\n* 统计每个IP的连接数\n\n```\nnetstat -n | awk '/^tcp/ {print $5}' | awk -F: '{print $1}' | sort | uniq -c| sort -rn\n                      ss -n | awk '/^tcp/ {print $5}' | awk -F: '{print $1}' | sort | uniq -c| sort -rn\n\n---------------------------------------------------(netstat -n in CentOS6)----------------------------------------------------\nProto Recv-Q Send-Q Local Address               Foreign Address             State\ntcp        0      0 10.0.2.15:22                10.0.2.2:58262              ESTABLISHED\ntcp        0      0 10.0.2.15:22                10.0.2.2:58263              ESTABLISHED\n\n---------------------------------------------------(ss -n in CentOS7)---------------------------------------------------------\nNetid State      Recv-Q Send-Q                       Local Address:Port                                      Peer Address:Port\ntcp   ESTAB      0      0                                10.0.2.15:22                                            10.0.2.2:58352\ntcp   ESTAB      0      0                                10.0.2.15:22                                            10.0.2.2:57127\n\n\nnetstat -n                  :以数字形式显示地址信息\nawk '/^tcp/ {print $5}'     :筛选以tcp开头的行，并打印5th filed.\nawk -F: '{print $1}'        :以冒号为字段分隔符，打印第一个字段(-F fs 指定行中分隔数据字段的字段分隔符)\nuniq -c                     :去除重复项目，-c 进行计数\nsort -rn                    :进行排序，-r 反向排序 -n 使用纯数字进行排序\n```"}
{"_id":{"$oid":"5c62d1204c1a6008d89009ad"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d1204c1a6008d89009ac","title":"window安装配置Nginx+php","content":"\u003ch3 id=\"h3-window-nginx-php\"\u003e\u003ca name=\"window安装配置Nginx+php\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ewindow安装配置Nginx+php\u003c/h3\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212224946_a38c42457e8390889de149789321c763.png?w=768\u0026amp;h=768\" title=\"Nginx-for-Windows-new-768x768.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212224946_a38c42457e8390889de149789321c763.png?w=768\u0026amp;h=768\" alt=\"Nginx-for-Windows-new-768x768.png\" title=\"Nginx-for-Windows-new-768x768.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"Nginx-for-Windows-new-768x768.png\"\u003eNginx-for-Windows-new-768x768.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在window下安装要比linux系统下安装要简单多，所有的软件都是编译好的可执行程序。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4-u4E0Bu8F7Du6240u6709u8F6Fu4EF6u5B89u88C5u5305\"\u003e\u003ca name=\"下载所有软件安装包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载所有软件安装包\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003eNginx下载\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ehttp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//nginx.org/download/nginx-1.14.2.zip\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ePhp下载\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ehttps\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//windows.php.net/download/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--php-64-\"\u003e\u003ca name=\"可以根据自己的需要下载相应的版本PHP，这里下载64位系统的安全线程的程序。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可以根据自己的需要下载相应的版本PHP，这里下载64位系统的安全线程的程序。\u003c/h5\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212220426_1701f2b2b50779ba95c1fc970c688242.png?w=1570\u0026amp;h=1596\" title=\"php_download_page.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212220426_1701f2b2b50779ba95c1fc970c688242.png?w=1570\u0026amp;h=1596\" alt=\"php_download_page.png\" title=\"php_download_page.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"php_download_page.png\"\u003ephp_download_page.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u5B89u88C5\"\u003e\u003ca name=\"安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装\u003c/h3\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"将对应的软件的安装包解压到对应的目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e将对应的软件的安装包解压到对应的目录下。\u003c/h4\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212220748_e129e9b779579ed301f66057b6dbb2ac.png?w=1371\u0026amp;h=419\" title=\"QQ20190212-0.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212220748_e129e9b779579ed301f66057b6dbb2ac.png?w=1371\u0026amp;h=419\" alt=\"QQ20190212-0.png\" title=\"QQ20190212-0.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190212-0.png\"\u003eQQ20190212-0.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u914Du7F6E\"\u003e\u003ca name=\"配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eNginx配置\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e修改./nginx/conf/nginx.cong文件将php脚本将由php程序处理。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eserver \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    listen \u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    server_name localhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    location \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        root C\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewww\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        index index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtm index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \\.php$ \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        root C\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewww\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        fastcgi_pass \u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e01\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e9000\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        fastcgi_index index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        fastcgi_params SCRIPT_FILENAME $document_root$fastcgi_scriot_name\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        include fastcgi_params\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6-nginx-https-www-nginx-com-resources-wiki-start-topics-examples-full-\"\u003e\u003ca name=\"nginx详细配置说明：  https://www.nginx.com/resources/wiki/start/topics/examples/full/ 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx详细配置说明：\u003ca href=\"https://www.nginx.com/resources/wiki/start/topics/examples/full/\" title=\"https://www.nginx.com/resources/wiki/start/topics/examples/full/\"\u003ehttps://www.nginx.com/resources/wiki/start/topics/examples/full/\u003c/a\u003e。\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003ePhp配置\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在./php/目录下有两个配置文件一个是开发配置(php.ini.devlopment)，一个是生产环境配置（php.ini.production）,将任意一个文件改成php.ini。修改php.ini设置时区、session、加载扩展目录等。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eOn\u003c/span\u003e\u003cspan class=\"pln\"\u003e windows\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension_dir\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e'path_dir/php/ext'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003ecurl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003egd2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003efileinfo\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003egettext\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqli\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo_mysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo_pgsql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo_sqlite\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003esockets\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003esqlite3\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eextension\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003exsl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003edate\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003edate\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etimezone\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"typ\"\u003eAsia\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"typ\"\u003eShanghai\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eauto_start\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u542Fu52A8\"\u003e\u003ca name=\"启动\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e启动\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eC\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep C\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eC\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecgi\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eb \u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e9000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--c-web-www-index-php-\"\u003e\u003ca name=\"验证配置，编写一个脚本验证安装配置是否成功。在C:/web/www下新建一个文本文件保存为index.php。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证配置，编写一个脚本验证安装配置是否成功。在C:/web/www下新建一个文本文件保存为index.php。\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;?\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// 使用著名的phpinfo函数来验证。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ephpinfo\u003c/span\u003e\u003cspan class=\"pun\"\u003e();\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--utf-8-\"\u003e\u003ca name=\"注意：文件编码格式必须为utf-8格式。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注意：文件编码格式必须为utf-8格式。\u003c/h6\u003e\u003ch3 id=\"h3--localhost-phpinfo\"\u003e\u003ca name=\"打开浏览器输入localhost，可以处到phpinfo\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e打开浏览器输入localhost，可以处到phpinfo\u003c/h3\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212223747_9b7b2fbf7ccf79c9032c3e42121e7a12.png?w=2306\u0026amp;h=1662\" title=\"1590D61801D7952CC71F14FF3AAF670E.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212223747_9b7b2fbf7ccf79c9032c3e42121e7a12.png?w=2306\u0026amp;h=1662\" alt=\"1590D61801D7952CC71F14FF3AAF670E.png\" title=\"1590D61801D7952CC71F14FF3AAF670E.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"1590D61801D7952CC71F14FF3AAF670E.png\"\u003e1590D61801D7952CC71F14FF3AAF670E.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3--nginx-php-cmd-runhiddenconse-\"\u003e\u003ca name=\"由于执行nginx程序跟php程序都要占用一个cmd窗口一关闭服务也跟着关闭，为了保持监听连接可以使用  RunHiddenConse 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e由于执行nginx程序跟php程序都要占用一个cmd窗口一关闭服务也跟着关闭，为了保持监听连接可以使用\u003ca href=\"http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip\" title=\"http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip\"\u003eRunHiddenConse\u003c/a\u003e。\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e编写启动批处理,startNginxPHP.bat\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"lit\"\u003e@ECHO\u003c/span\u003e\u003cspan class=\"pln\"\u003e OFF\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eECHO \u003c/span\u003e\u003cspan class=\"typ\"\u003eStarting\u003c/span\u003e\u003cspan class=\"pln\"\u003e PHP \u003c/span\u003e\u003cspan class=\"typ\"\u003eFastCGI\u003c/span\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eset\u003c/span\u003e\u003cspan class=\"pln\"\u003e PATH\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eC\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\PHP\u003c/span\u003e\u003cspan class=\"pun\"\u003e;%\u003c/span\u003e\u003cspan class=\"pln\"\u003ePATH\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\web\\nginx\\RunHiddenConsole\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe C\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\PHP\\php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecgi\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eb \u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e9000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eECHO \u003c/span\u003e\u003cspan class=\"typ\"\u003eStart\u003c/span\u003e\u003cspan class=\"pln\"\u003e nginx \u003c/span\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\web\\nginx\\RunHiddenConse\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe C\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\web\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\\nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep C\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\web\\nginx\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e编写停止批处理,stopNginxPHP.bat\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"lit\"\u003e@echo\u003c/span\u003e\u003cspan class=\"pln\"\u003e off\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eecho \u003c/span\u003e\u003cspan class=\"typ\"\u003eStoping\u003c/span\u003e\u003cspan class=\"pln\"\u003e nginx\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etaskkill \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eF \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eIM nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enull\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eecho \u003c/span\u003e\u003cspan class=\"typ\"\u003eStoping\u003c/span\u003e\u003cspan class=\"pln\"\u003e PHP \u003c/span\u003e\u003cspan class=\"typ\"\u003eFastCGI\u003c/span\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etaskkill \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eF \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eIM php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecgi\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexe \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enull\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d1204c1a6008d89009ac"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":14799,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T13:58:56.015Z"},"updateTime":{"$date":"2019-02-12T14:53:52.985Z"},"__v":0,"html":"\u003ch3 id=\"h3-window-nginx-php\"\u003e\u003ca name=\"window安装配置Nginx+php\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ewindow安装配置Nginx+php\u003c/h3\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212224946_a38c42457e8390889de149789321c763.png?w=768\u0026amp;h=768\" title=\"Nginx-for-Windows-new-768x768.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212224946_a38c42457e8390889de149789321c763.png?w=768\u0026amp;h=768\" alt=\"Nginx-for-Windows-new-768x768.png\" title=\"Nginx-for-Windows-new-768x768.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"Nginx-for-Windows-new-768x768.png\"\u003eNginx-for-Windows-new-768x768.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在window下安装要比linux系统下安装要简单多，所有的软件都是编译好的可执行程序。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4-u4E0Bu8F7Du6240u6709u8F6Fu4EF6u5B89u88C5u5305\"\u003e\u003ca name=\"下载所有软件安装包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载所有软件安装包\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003eNginx下载\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ehttp://nginx.org/download/nginx-1.14.2.zip\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ePhp下载\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ehttps://windows.php.net/download/\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--php-64-\"\u003e\u003ca name=\"可以根据自己的需要下载相应的版本PHP，这里下载64位系统的安全线程的程序。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可以根据自己的需要下载相应的版本PHP，这里下载64位系统的安全线程的程序。\u003c/h5\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212220426_1701f2b2b50779ba95c1fc970c688242.png?w=1570\u0026amp;h=1596\" title=\"php_download_page.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212220426_1701f2b2b50779ba95c1fc970c688242.png?w=1570\u0026amp;h=1596\" alt=\"php_download_page.png\" title=\"php_download_page.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"php_download_page.png\"\u003ephp_download_page.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u5B89u88C5\"\u003e\u003ca name=\"安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装\u003c/h3\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"将对应的软件的安装包解压到对应的目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e将对应的软件的安装包解压到对应的目录下。\u003c/h4\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212220748_e129e9b779579ed301f66057b6dbb2ac.png?w=1371\u0026amp;h=419\" title=\"QQ20190212-0.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212220748_e129e9b779579ed301f66057b6dbb2ac.png?w=1371\u0026amp;h=419\" alt=\"QQ20190212-0.png\" title=\"QQ20190212-0.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190212-0.png\"\u003eQQ20190212-0.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u914Du7F6E\"\u003e\u003ca name=\"配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eNginx配置\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e修改./nginx/conf/nginx.cong文件将php脚本将由php程序处理。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e...\nserver {\n    listen 80;\n    server_name localhost;\n    location / {\n        root C:/web/www;\n        index index.html index.htm index.php\n    }\n\n    location ~ \\.php$ {\n        root C:/web/www;\n        fastcgi_pass 127.0.01:9000;\n        fastcgi_index index.php;\n        fastcgi_params SCRIPT_FILENAME $document_root$fastcgi_scriot_name;\n        include fastcgi_params;\n    }\n}\n...\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6-nginx-https-www-nginx-com-resources-wiki-start-topics-examples-full-\"\u003e\u003ca name=\"nginx详细配置说明：  https://www.nginx.com/resources/wiki/start/topics/examples/full/ 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx详细配置说明：\u003ca href=\"https://www.nginx.com/resources/wiki/start/topics/examples/full/\" title=\"https://www.nginx.com/resources/wiki/start/topics/examples/full/\"\u003ehttps://www.nginx.com/resources/wiki/start/topics/examples/full/\u003c/a\u003e。\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003ePhp配置\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在./php/目录下有两个配置文件一个是开发配置(php.ini.devlopment)，一个是生产环境配置（php.ini.production）,将任意一个文件改成php.ini。修改php.ini设置时区、session、加载扩展目录等。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e; On windows;\nextension_dir=\u0026#39;path_dir/php/ext\u0026#39;\nextension=curl\nextension=gd2\nextension=fileinfo\nextension=gettext\nextension=openssl\nextension=mysqli\nextension=pdo_mysql\nextension=pdo_pgsql\nextension=pdo_sqlite\nextension=sockets\nextension=sqlite3\nextension=xsl\n[date]\ndate.timezone=Asia/Shanghai\n...\n[session]\n...\nsession.auto_start=1\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u542Fu52A8\"\u003e\u003ca name=\"启动\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e启动\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003eC:/web/nginx/nginx.exe -p C:/web/nginx\nC:/web/php/php-cgi.exe -b 127.0.0.1:9000\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--c-web-www-index-php-\"\u003e\u003ca name=\"验证配置，编写一个脚本验证安装配置是否成功。在C:/web/www下新建一个文本文件保存为index.php。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证配置，编写一个脚本验证安装配置是否成功。在C:/web/www下新建一个文本文件保存为index.php。\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026lt;?php\n// 使用著名的phpinfo函数来验证。\nphpinfo();\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--utf-8-\"\u003e\u003ca name=\"注意：文件编码格式必须为utf-8格式。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注意：文件编码格式必须为utf-8格式。\u003c/h6\u003e\u003ch3 id=\"h3--localhost-phpinfo\"\u003e\u003ca name=\"打开浏览器输入localhost，可以处到phpinfo\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e打开浏览器输入localhost，可以处到phpinfo\u003c/h3\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190212/20190212223747_9b7b2fbf7ccf79c9032c3e42121e7a12.png?w=2306\u0026amp;h=1662\" title=\"1590D61801D7952CC71F14FF3AAF670E.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190212/20190212223747_9b7b2fbf7ccf79c9032c3e42121e7a12.png?w=2306\u0026amp;h=1662\" alt=\"1590D61801D7952CC71F14FF3AAF670E.png\" title=\"1590D61801D7952CC71F14FF3AAF670E.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"1590D61801D7952CC71F14FF3AAF670E.png\"\u003e1590D61801D7952CC71F14FF3AAF670E.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3--nginx-php-cmd-runhiddenconse-\"\u003e\u003ca name=\"由于执行nginx程序跟php程序都要占用一个cmd窗口一关闭服务也跟着关闭，为了保持监听连接可以使用  RunHiddenConse 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e由于执行nginx程序跟php程序都要占用一个cmd窗口一关闭服务也跟着关闭，为了保持监听连接可以使用\u003ca href=\"http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip\" title=\"http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip\"\u003eRunHiddenConse\u003c/a\u003e。\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e编写启动批处理,startNginxPHP.bat\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e@ECHO OFF\nECHO Starting PHP FastCGI...\nset PATH=C:\\PHP;%PATH%\nc:\\web\\nginx\\RunHiddenConsole.exe C:\\PHP\\php-cgi.exe -b 127.0.0.1:9000\nECHO Start nginx ...\nc:\\web\\nginx\\RunHiddenConse.exe C:\\web/nginx\\nginx.exe -p C:\\web\\nginx\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e编写停止批处理,stopNginxPHP.bat\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e@echo off\necho Stoping nginx\ntaskkill /F /IM nginx.exe \u0026gt; null\necho Stoping PHP FastCGI...\ntaskkill /F /IM php-cgi.exe \u0026gt; null\n\u003c/code\u003e\u003c/pre\u003e","markDown":"### window安装配置Nginx+php\n\n[![Nginx-for-Windows-new-768x768.png](/static/images/uploads/20190212/20190212224946_a38c42457e8390889de149789321c763.png?w=768\u0026h=768 \"Nginx-for-Windows-new-768x768.png\")](/static/images/uploads/20190212/20190212224946_a38c42457e8390889de149789321c763.png?w=768\u0026h=768 \"Nginx-for-Windows-new-768x768.png\")\n\n\u003e 在window下安装要比linux系统下安装要简单多，所有的软件都是编译好的可执行程序。\n\n#### 下载所有软件安装包\n\n* Nginx下载\n\n```\nhttp://nginx.org/download/nginx-1.14.2.zip\n```\n\n* Php下载\n\n```\nhttps://windows.php.net/download/\n```\n\n##### 可以根据自己的需要下载相应的版本PHP，这里下载64位系统的安全线程的程序。\n\n[![php_download_page.png](/static/images/uploads/20190212/20190212220426_1701f2b2b50779ba95c1fc970c688242.png?w=1570\u0026h=1596 \"php_download_page.png\")](/static/images/uploads/20190212/20190212220426_1701f2b2b50779ba95c1fc970c688242.png?w=1570\u0026h=1596 \"php_download_page.png\")\n\n### 安装\n\n#### 将对应的软件的安装包解压到对应的目录下。\n\n[![QQ20190212-0.png](/static/images/uploads/20190212/20190212220748_e129e9b779579ed301f66057b6dbb2ac.png?w=1371\u0026h=419 \"QQ20190212-0.png\")](/static/images/uploads/20190212/20190212220748_e129e9b779579ed301f66057b6dbb2ac.png?w=1371\u0026h=419 \"QQ20190212-0.png\")\n\n### 配置\n\n* Nginx配置\n\n\u003e 修改./nginx/conf/nginx.cong文件将php脚本将由php程序处理。\n\n```\n...\nserver {\n\u0009listen 80;\n\u0009server_name localhost;\n\u0009location / {\n\u0009\u0009root C:/web/www;\n\u0009\u0009index index.html index.htm index.php\n\u0009}\n\u0009\n\u0009location ~ \\.php$ {\n\u0009\u0009root C:/web/www;\n\u0009\u0009fastcgi_pass 127.0.01:9000;\n\u0009\u0009fastcgi_index index.php;\n\u0009\u0009fastcgi_params SCRIPT_FILENAME $document_root$fastcgi_scriot_name;\n\u0009\u0009include fastcgi_params;\n\u0009}\n}\n...\n```\n\n###### nginx详细配置说明：[https://www.nginx.com/resources/wiki/start/topics/examples/full/](https://www.nginx.com/resources/wiki/start/topics/examples/full/ 'https://www.nginx.com/resources/wiki/start/topics/examples/full/')。\n\n* Php配置\n\n\u003e 在./php/目录下有两个配置文件一个是开发配置(php.ini.devlopment)，一个是生产环境配置（php.ini.production）,将任意一个文件改成php.ini。修改php.ini设置时区、session、加载扩展目录等。\n\n```\n; On windows;\nextension_dir='path_dir/php/ext'\nextension=curl\nextension=gd2\nextension=fileinfo\nextension=gettext\nextension=openssl\nextension=mysqli\nextension=pdo_mysql\nextension=pdo_pgsql\nextension=pdo_sqlite\nextension=sockets\nextension=sqlite3\nextension=xsl\n[date]\ndate.timezone=Asia/Shanghai\n...\n[session]\n...\nsession.auto_start=1\n```\n\n### 启动\n\n```\nC:/web/nginx/nginx.exe -p C:/web/nginx\nC:/web/php/php-cgi.exe -b 127.0.0.1:9000\n```\n\n### 验证配置，编写一个脚本验证安装配置是否成功。在C:/web/www下新建一个文本文件保存为index.php。\n\n```\n\u003c?php\n// 使用著名的phpinfo函数来验证。\nphpinfo();\n```\n\n###### 注意：文件编码格式必须为utf-8格式。\n\n### 打开浏览器输入localhost，可以处到phpinfo\n\n[![1590D61801D7952CC71F14FF3AAF670E.png](/static/images/uploads/20190212/20190212223747_9b7b2fbf7ccf79c9032c3e42121e7a12.png?w=2306\u0026h=1662 \"1590D61801D7952CC71F14FF3AAF670E.png\")](/static/images/uploads/20190212/20190212223747_9b7b2fbf7ccf79c9032c3e42121e7a12.png?w=2306\u0026h=1662 \"1590D61801D7952CC71F14FF3AAF670E.png\")\n\n### 由于执行nginx程序跟php程序都要占用一个cmd窗口一关闭服务也跟着关闭，为了保持监听连接可以使用[RunHiddenConse](http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip 'http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip')。\n\n* 编写启动批处理,startNginxPHP.bat\n\n```\n@ECHO OFF\nECHO Starting PHP FastCGI...\nset PATH=C:\\PHP;%PATH%\nc:\\web\\nginx\\RunHiddenConsole.exe C:\\PHP\\php-cgi.exe -b 127.0.0.1:9000\nECHO Start nginx ...\nc:\\web\\nginx\\RunHiddenConse.exe C:\\web/nginx\\nginx.exe -p C:\\web\\nginx\n```\n\n* 编写停止批处理,stopNginxPHP.bat\n\n```\n@echo off\necho Stoping nginx\ntaskkill /F /IM nginx.exe \u003e null\necho Stoping PHP FastCGI...\ntaskkill /F /IM php-cgi.exe \u003e null\n```\n"}
{"_id":{"$oid":"5c62de9b4c1a6008d89009b3"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d1204c1a6008d89009ac","title":"nginx添加虚拟主机","content":"\u003ch4 id=\"h4-nginx-\"\u003e\u003ca name=\"nginx添加虚拟主机\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx添加虚拟主机\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e上一篇介绍了如何在window系统下安装配置nginx+php开发环境，这篇文章介绍如何在nginx中添加虚拟机，我们知道一个网站对应一个域名，一台服务器不可能只提供一个域名网站供用户访问，这样会造成服务器资源跟财力的浪费，如果要想在一台服务器放置多个网站、提供多个域名供用户访问，就要使用nginx配置多个虚拟主机对应不同的域名。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--nginx-\"\u003e\u003ca name=\"下面介绍如何在nginx中添加虚拟主机\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面介绍如何在nginx中添加虚拟主机\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e1：新建目录vhost用于存放虚拟主机配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecd \u003c/span\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003econf \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkdir vhost\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：添加虚拟主机配置,以blog.mcloudhub.com为例：\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003elog_format   blog \u003c/span\u003e\u003cspan class=\"str\"\u003e'$remote_addr - $remote_user [$time_local]  $status '\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"str\"\u003e'\"$request\" $body_bytes_sent \"$http_referer\" '\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"str\"\u003e'\"$http_user_agent\" \"$http_x_forwarded_for\"'\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    access_log   logs\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog  blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    sendfile     on\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    tcp_nopush   on\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    server_names_hash_bucket_size \u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e# this seems to be required for some vhosts\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    server \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        listen       \u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        server_name  blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        access_log   logs\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog  blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        location \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            root \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            index index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtm index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \\.php$ \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            root \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            fastcgi_pass \u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e01\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e9000\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            fastcgi_index index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            fastcgi_params SCRIPT_FILENAME $document_root$fastcgi_scriot_name\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            include fastcgi_params\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--server-\"\u003e\u003ca name=\"提示：多个虚拟主机可以添加多个server{}块。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：多个虚拟主机可以添加多个server{}块。\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e3：在nginx配置中导入虚拟主机配置\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003einclude \u003c/span\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003evhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e*.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e4：检测配置是否成功\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003et\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e5：在浏览器中输入虚拟机域名访问。\u003c/li\u003e\u003c/ul\u003e\n","markDown":"#### nginx添加虚拟主机\n\n\u003e 上一篇介绍了如何在window系统下安装配置nginx+php开发环境，这篇文章介绍如何在nginx中添加虚拟机，我们知道一个网站对应一个域名，一台服务器不可能只提供一个域名网站供用户访问，这样会造成服务器资源跟财力的浪费，如果要想在一台服务器放置多个网站、提供多个域名供用户访问，就要使用nginx配置多个虚拟主机对应不同的域名。\n\n#### 下面介绍如何在nginx中添加虚拟主机\n\n* 1：新建目录vhost用于存放虚拟主机配置文件\n\n```\ncd ./nginx/conf \u0026\u0026 mkdir vhost\n```\n\n* 2：添加虚拟主机配置,以blog.mcloudhub.com为例：\n\n```\nvim blog.mcloudhub.com.conf\n\nlog_format   blog '$remote_addr - $remote_user [$time_local]  $status '\n    '\"$request\" $body_bytes_sent \"$http_referer\" '\n    '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\u0009access_log   logs/blog.mcloudhub.com.log  blog;\n\u0009sendfile     on;\n\u0009tcp_nopush   on;\n\u0009server_names_hash_bucket_size 128; # this seems to be required for some vhosts\n\n\u0009server {\n\u0009\u0009listen       80;\n\u0009\u0009server_name  blog.mcloudhub.com;\n\u0009\u0009access_log   logs/blog.mcloudhub.com.log  blog;\n\n\u0009\u0009location / {\n\u0009\u0009\u0009root /home/wwwroot/blog.mcloudhub.com;\n\u0009\u0009\u0009index index.html index.htm index.php\n\u0009\u0009}\n\n\u0009\u0009location ~ \\.php$ {\n\u0009\u0009\u0009root /home/wwwroot/blog.mcloudhub.com\n\u0009\u0009\u0009fastcgi_pass 127.0.01:9000;\n\u0009\u0009\u0009fastcgi_index index.php;\n\u0009\u0009\u0009fastcgi_params SCRIPT_FILENAME $document_root$fastcgi_scriot_name;\n\u0009\u0009\u0009include fastcgi_params;\n\u0009\u0009}\n\u0009}\n```\n\n###### 提示：多个虚拟主机可以添加多个server{}块。\n\n* 3：在nginx配置中导入虚拟主机配置\n\n```\ninclude ./conf/vhost*.conf;\n```\n\n* 4：检测配置是否成功\n\n```\n/usr/local/nginx/nginx -t\n```\n\n* 5：在浏览器中输入虚拟机域名访问。","html":"\u003ch4 id=\"h4-nginx-\"\u003e\u003ca name=\"nginx添加虚拟主机\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx添加虚拟主机\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e上一篇介绍了如何在window系统下安装配置nginx+php开发环境，这篇文章介绍如何在nginx中添加虚拟机，我们知道一个网站对应一个域名，一台服务器不可能只提供一个域名网站供用户访问，这样会造成服务器资源跟财力的浪费，如果要想在一台服务器放置多个网站、提供多个域名供用户访问，就要使用nginx配置多个虚拟主机对应不同的域名。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--nginx-\"\u003e\u003ca name=\"下面介绍如何在nginx中添加虚拟主机\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面介绍如何在nginx中添加虚拟主机\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e1：新建目录vhost用于存放虚拟主机配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ecd ./nginx/conf \u0026amp;\u0026amp; mkdir vhost\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：添加虚拟主机配置,以blog.mcloudhub.com为例：\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003evim blog.mcloudhub.com.conf\n\nlog_format   blog \u0026#39;$remote_addr - $remote_user [$time_local]  $status \u0026#39;\n    \u0026#39;\u0026quot;$request\u0026quot; $body_bytes_sent \u0026quot;$http_referer\u0026quot; \u0026#39;\n    \u0026#39;\u0026quot;$http_user_agent\u0026quot; \u0026quot;$http_x_forwarded_for\u0026quot;\u0026#39;;\n    access_log   logs/blog.mcloudhub.com.log  blog;\n    sendfile     on;\n    tcp_nopush   on;\n    server_names_hash_bucket_size 128; # this seems to be required for some vhosts\n\n    server {\n        listen       80;\n        server_name  blog.mcloudhub.com;\n        access_log   logs/blog.mcloudhub.com.log  blog;\n\n        location / {\n            root /home/wwwroot/blog.mcloudhub.com;\n            index index.html index.htm index.php\n        }\n\n        location ~ \\.php$ {\n            root /home/wwwroot/blog.mcloudhub.com\n            fastcgi_pass 127.0.01:9000;\n            fastcgi_index index.php;\n            fastcgi_params SCRIPT_FILENAME $document_root$fastcgi_scriot_name;\n            include fastcgi_params;\n        }\n    }\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--server-\"\u003e\u003ca name=\"提示：多个虚拟主机可以添加多个server{}块。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：多个虚拟主机可以添加多个server{}块。\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e3：在nginx配置中导入虚拟主机配置\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003einclude ./conf/vhost*.conf;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e4：检测配置是否成功\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e/usr/local/nginx/nginx -t\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e5：在浏览器中输入虚拟机域名访问。\u003c/li\u003e\u003c/ul\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d1204c1a6008d89009ac"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":6639,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T14:56:27.946Z"},"updateTime":{"$date":"2019-02-12T16:41:37.205Z"},"__v":0}
{"_id":{"$oid":"5c62decf4c1a6008d89009b4"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d1204c1a6008d89009ac","title":"nginx配置https+http2","content":"\u003ch3 id=\"h3-nginx-https-http2\"\u003e\u003ca name=\"nginx配置https+http2\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx配置https+http2\u003c/h3\u003e\u003ch3 id=\"h3-https-\"\u003e\u003ca name=\"https简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ehttps简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eHTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer 或 Hypertext Transfer Protocol Secure，超文本传输安全协议），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 它是一个URI scheme（抽象标识符体系），句法类同http:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认端口及一个加密/身份验证层（在HTTP与TCP之间）。这个系统的最初研发由网景公司(Netscape)进行，并内置于其浏览器Netscape Navigator中，提供了身份验证与加密通讯方法。现在它被广泛用于万维网上安全敏感的通讯，例如交易支付方面。现在浏览器、云服务商都强制网站用户升级到https协议。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-http2-\"\u003e\u003ca name=\"http2简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ehttp2简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eHTTP/2 （原名HTTP/2.0）即超文本传输协议 2.0，是下一代HTTP协议。是由互联网工程任务组（IETF）的Hypertext Transfer Protocol Bis (httpbis)工作小组进行开发。是自1999年http1.1发布后的首个更新。HTTP 2.0在2013年8月进行首次合作共事性测试。在开放互联网上HTTP 2.0将只用于\u003ca href=\"https://网址，而\"\u003ehttps://网址，而\u003c/a\u003e \u003ca href=\"http://网址将继续使用HTTP/1，目的是在开放互联网上增加使用加密技术，以提供强有力的保护去遏制主动攻击。DANE\"\u003ehttp://网址将继续使用HTTP/1，目的是在开放互联网上增加使用加密技术，以提供强有力的保护去遏制主动攻击。DANE\u003c/a\u003e RFC6698允许域名管理员不通过第三方CA自行发行证书。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：以上内容来自  百度 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：以上内容来自\u003ca href=\"https://www.baidu.com\" title=\"https://www.baidu.com\"\u003e百度\u003c/a\u003e。\u003c/h6\u003e\u003ch3 id=\"h3--nginx-https\"\u003e\u003ca name=\"下面介绍在nginx下配置https\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面介绍在nginx下配置https\u003c/h3\u003e\u003ch4 id=\"h4--https-nginx-ssl-\"\u003e\u003ca name=\"配置https需要域名证书，可以到提供域名的云服务商处购买，编译nginx时要指定开启支持ssl选项。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置https需要域名证书，可以到提供域名的云服务商处购买，编译nginx时要指定开启支持ssl选项。\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_ssl_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003email_ssl_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream_ssl_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream_ssl_preread_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eDIR \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopt\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eOPTIONS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx-conf-ssl-\"\u003e\u003ca name=\"配置nginx.conf添加安全证书对ssl支持。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置nginx.conf添加安全证书对ssl支持。\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eserver \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    listen              \u003c/span\u003e\u003cspan class=\"lit\"\u003e443\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e### https协议监听443端口\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    server_name         www\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_certificate     www\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecrt\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_certificate_key www\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ekey\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_protocols       \u003c/span\u003e\u003cspan class=\"typ\"\u003eTLSv1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTLSv1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTLSv1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# 指定加密版本\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_ciphers         HIGH\u003c/span\u003e\u003cspan class=\"pun\"\u003e:!\u003c/span\u003e\u003cspan class=\"pln\"\u003eaNULL\u003c/span\u003e\u003cspan class=\"pun\"\u003e:!\u003c/span\u003e\u003cspan class=\"pln\"\u003eMD5\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# 指定加密方式\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    location \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \\.php \u003c/span\u003e\u003cspan class=\"pun\"\u003e{}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx-ssl-\"\u003e\u003ca name=\"查看nginx是否支持ssl的支持\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看nginx是否支持ssl的支持\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enginx \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eV\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eTLS SNI support enabled\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u9A8Cu8BC1u914Du7F6E\"\u003e\u003ca name=\"验证配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证配置\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eopenssl s_client \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econnect blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e443\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190214/20190214013747_9f490dfd7fd49ef2711d6033ef3a8196.png?w=1140\u0026amp;h=730\" title=\"QQ20190214-013657@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214013747_9f490dfd7fd49ef2711d6033ef3a8196.png?w=1140\u0026amp;h=730\" alt=\"QQ20190214-013657@2x.png\" title=\"QQ20190214-013657@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-013657@2x.png\"\u003eQQ20190214-013657@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3--nginx-http2\"\u003e\u003ca name=\"配置nginx支持http2\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置nginx支持http2\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e配置nginx支持http2需要安装nghttp2库，编译时要指定支持http2选项。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e1：下载并安装nghttp2库\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\" title=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\"\u003ehttps://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e2：指定nginx编译参数\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_v2_module\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e3：配置nginx支持http2\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eserver \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    listen              \u003c/span\u003e\u003cspan class=\"lit\"\u003e443\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssl http2\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e### https协议监听443端口,添加http2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    server_name         www\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_certificate     www\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecrt\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_certificate_key www\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ekey\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_protocols       \u003c/span\u003e\u003cspan class=\"typ\"\u003eTLSv1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTLSv1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTLSv1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# 指定加密版本\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl_ciphers         HIGH\u003c/span\u003e\u003cspan class=\"pun\"\u003e:!\u003c/span\u003e\u003cspan class=\"pln\"\u003eaNULL\u003c/span\u003e\u003cspan class=\"pun\"\u003e:!\u003c/span\u003e\u003cspan class=\"pln\"\u003eMD5\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# 指定加密方式\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    location \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \\.php \u003c/span\u003e\u003cspan class=\"pun\"\u003e{}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--http2-\"\u003e\u003ca name=\"验证http2是否成功\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证http2是否成功\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eChrome：安装Chrome插件\u003ca href=\"https://chrome.google.com/webstore/detail/http2-and-spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin/related?spm=5176.100239.blogcont7171.8.pGuc8C\" title=\"https://chrome.google.com/webstore/detail/http2-and-spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin/related?spm=5176.100239.blogcont7171.8.pGuc8C\"\u003eHTTP/2 and SPDY indicator\u003c/a\u003e，安装完毕后访问启用HTTP2的站点，如果地址栏出现蓝色的闪电，说明站点已启用HTTP2。\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190214/20190214015049_fab72c9b7c43fe8363c5647ddae38e22.png?w=2968\u0026amp;h=1536\" title=\"QQ20190214-014834@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214015049_fab72c9b7c43fe8363c5647ddae38e22.png?w=2968\u0026amp;h=1536\" alt=\"QQ20190214-014834@2x.png\" title=\"QQ20190214-014834@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-014834@2x.png\"\u003eQQ20190214-014834@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFirefox：在firefox浏览器中输入域名，打开debug开发工具找到网络查看hraders面板可以看到是version是http2.0\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190214/20190214015356_d7bea3427e692bb6b0cb50f820923c4a.png?w=3346\u0026amp;h=1680\" title=\"QQ20190214-015202@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214015356_d7bea3427e692bb6b0cb50f820923c4a.png?w=3346\u0026amp;h=1680\" alt=\"QQ20190214-015202@2x.png\" title=\"QQ20190214-015202@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-015202@2x.png\"\u003eQQ20190214-015202@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e参考连接\u003ca href=\"http://nginx.org/en/docs/http/configuring_https_servers.html\" title=\"http://nginx.org/en/docs/http/configuring_https_servers.html\"\u003ehttp://nginx.org/en/docs/http/configuring_https_servers.html\u003c/a\u003e\u003c/p\u003e\n","markDown":"### nginx配置https+http2\n\n### https简介\n\n\u003e HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer 或 Hypertext Transfer Protocol Secure，超文本传输安全协议），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 它是一个URI scheme（抽象标识符体系），句法类同http:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认端口及一个加密/身份验证层（在HTTP与TCP之间）。这个系统的最初研发由网景公司(Netscape)进行，并内置于其浏览器Netscape Navigator中，提供了身份验证与加密通讯方法。现在它被广泛用于万维网上安全敏感的通讯，例如交易支付方面。现在浏览器、云服务商都强制网站用户升级到https协议。\n\n### http2简介\n\n\u003e HTTP/2 （原名HTTP/2.0）即超文本传输协议 2.0，是下一代HTTP协议。是由互联网工程任务组（IETF）的Hypertext Transfer Protocol Bis (httpbis)工作小组进行开发。是自1999年http1.1发布后的首个更新。HTTP 2.0在2013年8月进行首次合作共事性测试。在开放互联网上HTTP 2.0将只用于https://网址，而 http://网址将继续使用HTTP/1，目的是在开放互联网上增加使用加密技术，以提供强有力的保护去遏制主动攻击。DANE RFC6698允许域名管理员不通过第三方CA自行发行证书。\n\n###### 提示：以上内容来自[百度](https://www.baidu.com 'https://www.baidu.com')。\n\n### 下面介绍在nginx下配置https\n\n#### 配置https需要域名证书，可以到提供域名的云服务商处购买，编译nginx时要指定开启支持ssl选项。\n\n```\n./configure --with-http_ssl_module --with-mail_ssl_module --with-stream_ssl_module --with-stream_ssl_preread_module --with-openssl=DIR --with-openssl-opt=OPTIONS\n```\n\n### 配置nginx.conf添加安全证书对ssl支持。\n\n```\nserver {\n    listen              443 ssl;\u0009### https协议监听443端口\n    server_name         www.example.com;\n    ssl_certificate     www.example.com.crt;\n    ssl_certificate_key www.example.com.key;\n    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\u0009\u0009# 指定加密版本\n    ssl_ciphers         HIGH:!aNULL:!MD5;\u0009\u0009# 指定加密方式\n    ...\n\u0009location / {}\n\u0009location ~ \\.php {}\n}\n```\n\n### 查看nginx是否支持ssl的支持\n\n```\nnginx -V\n...\nTLS SNI support enabled\n...\n```\n\n### 验证配置\n\n```\nopenssl s_client -connect blog.mcloudhub.com:443\n```\n\n[![QQ20190214-013657@2x.png](/static/images/uploads/20190214/20190214013747_9f490dfd7fd49ef2711d6033ef3a8196.png?w=1140\u0026h=730 \"QQ20190214-013657@2x.png\")](/static/images/uploads/20190214/20190214013747_9f490dfd7fd49ef2711d6033ef3a8196.png?w=1140\u0026h=730 \"QQ20190214-013657@2x.png\")\n\n### 配置nginx支持http2\n\n\u003e 配置nginx支持http2需要安装nghttp2库，编译时要指定支持http2选项。\n\n* 1：下载并安装nghttp2库\n\n[https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz](https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz 'https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz')\n\n* 2：指定nginx编译参数\n\n```\n./configure --with-http_v2_module\n```\n\n* 3：配置nginx支持http2\n\n```\nserver {\n    listen              443 ssl http2;\u0009### https协议监听443端口,添加http2\n    server_name         www.example.com;\n    ssl_certificate     www.example.com.crt;\n    ssl_certificate_key www.example.com.key;\n    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\u0009\u0009# 指定加密版本\n    ssl_ciphers         HIGH:!aNULL:!MD5;\u0009\u0009# 指定加密方式\n    ...\n\u0009location / {}\n\u0009location ~ \\.php {}\n}\n```\n\n### 验证http2是否成功\n\n* Chrome：安装Chrome插件[HTTP/2 and SPDY indicator](https://chrome.google.com/webstore/detail/http2-and-spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin/related?spm=5176.100239.blogcont7171.8.pGuc8C 'https://chrome.google.com/webstore/detail/http2-and-spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin/related?spm=5176.100239.blogcont7171.8.pGuc8C')，安装完毕后访问启用HTTP2的站点，如果地址栏出现蓝色的闪电，说明站点已启用HTTP2。\n\n[![QQ20190214-014834@2x.png](/static/images/uploads/20190214/20190214015049_fab72c9b7c43fe8363c5647ddae38e22.png?w=2968\u0026h=1536 \"QQ20190214-014834@2x.png\")](/static/images/uploads/20190214/20190214015049_fab72c9b7c43fe8363c5647ddae38e22.png?w=2968\u0026h=1536 \"QQ20190214-014834@2x.png\")\n\n* Firefox：在firefox浏览器中输入域名，打开debug开发工具找到网络查看hraders面板可以看到是version是http2.0\n\n[![QQ20190214-015202@2x.png](/static/images/uploads/20190214/20190214015356_d7bea3427e692bb6b0cb50f820923c4a.png?w=3346\u0026h=1680 \"QQ20190214-015202@2x.png\")](/static/images/uploads/20190214/20190214015356_d7bea3427e692bb6b0cb50f820923c4a.png?w=3346\u0026h=1680 \"QQ20190214-015202@2x.png\")\n\n参考连接[http://nginx.org/en/docs/http/configuring_https_servers.html](http://nginx.org/en/docs/http/configuring_https_servers.html 'http://nginx.org/en/docs/http/configuring_https_servers.html')","html":"\u003ch3 id=\"h3-nginx-https-http2\"\u003e\u003ca name=\"nginx配置https+http2\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx配置https+http2\u003c/h3\u003e\u003ch3 id=\"h3-https-\"\u003e\u003ca name=\"https简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ehttps简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eHTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer 或 Hypertext Transfer Protocol Secure，超文本传输安全协议），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 它是一个URI scheme（抽象标识符体系），句法类同http:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认端口及一个加密/身份验证层（在HTTP与TCP之间）。这个系统的最初研发由网景公司(Netscape)进行，并内置于其浏览器Netscape Navigator中，提供了身份验证与加密通讯方法。现在它被广泛用于万维网上安全敏感的通讯，例如交易支付方面。现在浏览器、云服务商都强制网站用户升级到https协议。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-http2-\"\u003e\u003ca name=\"http2简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ehttp2简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eHTTP/2 （原名HTTP/2.0）即超文本传输协议 2.0，是下一代HTTP协议。是由互联网工程任务组（IETF）的Hypertext Transfer Protocol Bis (httpbis)工作小组进行开发。是自1999年http1.1发布后的首个更新。HTTP 2.0在2013年8月进行首次合作共事性测试。在开放互联网上HTTP 2.0将只用于\u003ca href=\"https://网址，而\"\u003ehttps://网址，而\u003c/a\u003e \u003ca href=\"http://网址将继续使用HTTP/1，目的是在开放互联网上增加使用加密技术，以提供强有力的保护去遏制主动攻击。DANE\"\u003ehttp://网址将继续使用HTTP/1，目的是在开放互联网上增加使用加密技术，以提供强有力的保护去遏制主动攻击。DANE\u003c/a\u003e RFC6698允许域名管理员不通过第三方CA自行发行证书。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：以上内容来自  百度 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：以上内容来自\u003ca href=\"https://www.baidu.com\" title=\"https://www.baidu.com\"\u003e百度\u003c/a\u003e。\u003c/h6\u003e\u003ch3 id=\"h3--nginx-https\"\u003e\u003ca name=\"下面介绍在nginx下配置https\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面介绍在nginx下配置https\u003c/h3\u003e\u003ch4 id=\"h4--https-nginx-ssl-\"\u003e\u003ca name=\"配置https需要域名证书，可以到提供域名的云服务商处购买，编译nginx时要指定开启支持ssl选项。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置https需要域名证书，可以到提供域名的云服务商处购买，编译nginx时要指定开启支持ssl选项。\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003e./configure --with-http_ssl_module --with-mail_ssl_module --with-stream_ssl_module --with-stream_ssl_preread_module --with-openssl=DIR --with-openssl-opt=OPTIONS\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx-conf-ssl-\"\u003e\u003ca name=\"配置nginx.conf添加安全证书对ssl支持。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置nginx.conf添加安全证书对ssl支持。\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003eserver {\n    listen              443 ssl;    ### https协议监听443端口\n    server_name         www.example.com;\n    ssl_certificate     www.example.com.crt;\n    ssl_certificate_key www.example.com.key;\n    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;        # 指定加密版本\n    ssl_ciphers         HIGH:!aNULL:!MD5;        # 指定加密方式\n    ...\n    location / {}\n    location ~ \\.php {}\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx-ssl-\"\u003e\u003ca name=\"查看nginx是否支持ssl的支持\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看nginx是否支持ssl的支持\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003enginx -V\n...\nTLS SNI support enabled\n...\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u9A8Cu8BC1u914Du7F6E\"\u003e\u003ca name=\"验证配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证配置\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003eopenssl s_client -connect blog.mcloudhub.com:443\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190214/20190214013747_9f490dfd7fd49ef2711d6033ef3a8196.png?w=1140\u0026amp;h=730\" title=\"QQ20190214-013657\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214013747_9f490dfd7fd49ef2711d6033ef3a8196.png?w=1140\u0026amp;h=730\" alt=\"QQ20190214-013657\u0026#64;2x.png\" title=\"QQ20190214-013657\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-013657\u0026#64;2x.png\"\u003eQQ20190214-013657\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3--nginx-http2\"\u003e\u003ca name=\"配置nginx支持http2\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置nginx支持http2\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e配置nginx支持http2需要安装nghttp2库，编译时要指定支持http2选项。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e1：下载并安装nghttp2库\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\" title=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\"\u003ehttps://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e2：指定nginx编译参数\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e./configure --with-http_v2_module\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e3：配置nginx支持http2\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eserver {\n    listen              443 ssl http2;    ### https协议监听443端口,添加http2\n    server_name         www.example.com;\n    ssl_certificate     www.example.com.crt;\n    ssl_certificate_key www.example.com.key;\n    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;        # 指定加密版本\n    ssl_ciphers         HIGH:!aNULL:!MD5;        # 指定加密方式\n    ...\n    location / {}\n    location ~ \\.php {}\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--http2-\"\u003e\u003ca name=\"验证http2是否成功\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证http2是否成功\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eChrome：安装Chrome插件\u003ca href=\"https://chrome.google.com/webstore/detail/http2-and-spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin/related?spm=5176.100239.blogcont7171.8.pGuc8C\" title=\"https://chrome.google.com/webstore/detail/http2-and-spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin/related?spm=5176.100239.blogcont7171.8.pGuc8C\"\u003eHTTP/2 and SPDY indicator\u003c/a\u003e，安装完毕后访问启用HTTP2的站点，如果地址栏出现蓝色的闪电，说明站点已启用HTTP2。\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190214/20190214015049_fab72c9b7c43fe8363c5647ddae38e22.png?w=2968\u0026amp;h=1536\" title=\"QQ20190214-014834\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214015049_fab72c9b7c43fe8363c5647ddae38e22.png?w=2968\u0026amp;h=1536\" alt=\"QQ20190214-014834\u0026#64;2x.png\" title=\"QQ20190214-014834\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-014834\u0026#64;2x.png\"\u003eQQ20190214-014834\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFirefox：在firefox浏览器中输入域名，打开debug开发工具找到网络查看hraders面板可以看到是version是http2.0\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190214/20190214015356_d7bea3427e692bb6b0cb50f820923c4a.png?w=3346\u0026amp;h=1680\" title=\"QQ20190214-015202\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214015356_d7bea3427e692bb6b0cb50f820923c4a.png?w=3346\u0026amp;h=1680\" alt=\"QQ20190214-015202\u0026#64;2x.png\" title=\"QQ20190214-015202\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-015202\u0026#64;2x.png\"\u003eQQ20190214-015202\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e参考连接\u003ca href=\"http://nginx.org/en/docs/http/configuring_https_servers.html\" title=\"http://nginx.org/en/docs/http/configuring_https_servers.html\"\u003ehttp://nginx.org/en/docs/http/configuring_https_servers.html\u003c/a\u003e\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d1204c1a6008d89009ac"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":12129,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T14:57:19.964Z"},"updateTime":{"$date":"2019-02-13T17:56:54.230Z"},"__v":0}
{"_id":{"$oid":"5c62dee54c1a6008d89009b5"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d1204c1a6008d89009ac","title":"nginx配置详解","content":"\u003ch3 id=\"h3-nginx-\"\u003e\u003ca name=\"nginx配置详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx配置详解\u003c/h3\u003e","markDown":"### nginx配置详解","html":"\u003ch3 id=\"h3-nginx-\"\u003e\u003ca name=\"nginx配置详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003enginx配置详解\u003c/h3\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d1204c1a6008d89009ac"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":134,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T14:57:41.093Z"},"updateTime":{"$date":"2019-02-13T17:59:21.856Z"},"__v":0}
{"_id":{"$oid":"5c62def24c1a6008d89009b6"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d1204c1a6008d89009ac","title":"linux(centos)系统下编译安装nginx+php","content":"\u003ch1 id=\"h1-linux-centos-nginx-php\"\u003e\u003ca name=\"linux(centos)系统下编译安装nginx+php\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003elinux(centos)系统下编译安装nginx+php\u003c/h1\u003e\u003ch3 id=\"h3-u4E0Bu8F7Du8F6Fu4EF6u6E90u7801u5305\"\u003e\u003ca name=\"下载软件源码包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载软件源码包\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eNginx：\u003ca href=\"http://nginx.org/download/nginx-1.14.2.tar.gz\" title=\"http://nginx.org/download/nginx-1.14.2.tar.gz\"\u003ehttp://nginx.org/download/nginx-1.14.2.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003ePhp：\u003ca href=\"http://php.net/distributions/php-7.3.2.tar.gz\" title=\"http://php.net/distributions/php-7.3.2.tar.gz\"\u003ehttp://php.net/distributions/php-7.3.2.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003eopenssl：\u003ca href=\"https://www.openssl.org/source/openssl-1.1.1b.tar.gz\" title=\"https://www.openssl.org/source/openssl-1.1.1b.tar.gz\"\u003ehttps://www.openssl.org/source/openssl-1.1.1b.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003epcre：\u003ca href=\"ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\" title=\"ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\"\u003eftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\u003c/a\u003e  pcre有两个版本nginx支持pcre-8*\u003c/li\u003e\u003cli\u003ezlib：\u003ca href=\"http://www.zlib.net/zlib-1.2.11.tar.gz\" title=\"http://www.zlib.net/zlib-1.2.11.tar.gz\"\u003ehttp://www.zlib.net/zlib-1.2.11.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003enghttp2：\u003ca href=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\" title=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\"\u003ehttps://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\u003c/a\u003e                nginx支持http2\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3--nginx\"\u003e\u003ca name=\"安装nginx\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装nginx\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e解压软件包\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e tar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.14\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e tar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf openssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1b\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e tar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf pcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e8.43\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e tar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf zlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e11.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e tar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建nginx用户\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003euseradd www\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装PHP、Nginx依赖\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eyum \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey install wget vim pcre pcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel openssl openssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libicu\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel gcc gcc\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e++\u003c/span\u003e\u003cspan class=\"pln\"\u003e autoconf libjpeg libjpeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libpng libpng\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel freetype freetype\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libxml2 libxml2\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel zlib zlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel glibc glibc\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel glib2 glib2\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel ncurses ncurses\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel curl curl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel krb5\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libidn libidn\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel openldap openldap\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel nss_ldap jemalloc\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel cmake boost\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel bison automake libevent libevent\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel gd gd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libtool\u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e libmcrypt libmcrypt\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel mcrypt mhash libxslt libxslt\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel readline readline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel gmp gmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libcurl libcurl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel openjpeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emcrypt  libmcrypt  libmcrypt\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e编译并安装nginx\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003enginx依赖\u003ccode\u003eopenssl\u003c/code\u003e、\u003ccode\u003epcre\u003c/code\u003e、\u003ccode\u003ezlib\u003c/code\u003e会自己编译，所以直接指定源码目录。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.14\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.14\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eprefix\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eselect_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epoll_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ethreads \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eaio \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_ssl_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_v2_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_realip_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_addition_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_xslt_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_xslt_module\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003edynamic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_image_filter_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_image_filter_module\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003edynamic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_geoip_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_geoip_module\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003edynamic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_sub_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_dav_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_flv_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_mp4_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_gunzip_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_gzip_static_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_auth_request_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_random_index_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_secure_link_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_degradation_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_slice_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_stub_status_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_perl_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp_perl_module\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003edynamic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003email \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003email\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003edynamic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003email_ssl_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003edynamic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream_ssl_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream_realip_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream_geoip_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream_geoip_module\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003edynamic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream_ssl_preread_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecpp_test_module \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/home/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebluelife\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e8.43\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/home/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebluelife\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ezlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e11\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/home/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebluelife\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1a\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edebug\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.14\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e make\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.14\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e make install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.14\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esbin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enginx version\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e nginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.14\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx\"\u003e\u003ca name=\"配置nginx\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置nginx\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e将/usr/local/nginx/config/nginx.conf.default重全名为nginx.conf，将/usr/local/nginx/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cp \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003edefault\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx-\"\u003e\u003ca name=\"修改nginx配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e修改nginx配置\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e vim \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#user  nobody;  # nginc启动用户\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eworker_processes  \u003c/span\u003e\u003cspan class=\"kwd\"\u003eauto\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e# nginx进程数，auto根据系统内核，num指定进程数\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#error_log  logs/error.log;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#error_log  logs/error.log  notice;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#error_log  logs/error.log  info;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#pid        logs/nginx.pid;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eevents \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    worker_connections  \u003c/span\u003e\u003cspan class=\"lit\"\u003e1024\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ehttp \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    include       mime\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etypes\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    default_type  application\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eoctet\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estream\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#                  '$status $body_bytes_sent \"$http_referer\" '\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#access_log  logs/access.log  main;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    sendfile        on\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#tcp_nopush     on;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#keepalive_timeout  0;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    keepalive_timeout  \u003c/span\u003e\u003cspan class=\"lit\"\u003e65\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    gzip  on\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e# 开启nginx请求压缩选项\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    server \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        listen       \u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        server_name  localhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#charset koi8-r;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#access_log  logs/host.access.log  main;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        location \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            root   \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            index  index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtm index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#error_page  404              /404.html;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# redirect server error pages to the static page /50x.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        error_page   \u003c/span\u003e\u003cspan class=\"lit\"\u003e500\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e502\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e503\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e504\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e50x\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        location \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e50x\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            root   html\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# proxy the PHP scripts to Apache listening on 127.0.0.1:80\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#location ~ \\.php$ {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#    proxy_pass   http://127.0.0.1;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \\.php$ \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            root           \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            fastcgi_pass   \u003c/span\u003e\u003cspan class=\"lit\"\u003e127.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e9000\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            fastcgi_index  index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            include        fastcgi_params\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# deny access to .htaccess files, if Apache's document root\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e# concurs with nginx's one\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#location ~ /\\.ht {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#    deny  all;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e#}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# another virtual host using mix of IP-, name-, and port-based configuration\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#server {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    listen       8000;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    listen       somename:8080;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    server_name  somename  alias  another.alias;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    location / {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#        root   html;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#        index  index.html index.htm;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# HTTPS server\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#server {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    listen       443 ssl;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    server_name  localhost;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    ssl_certificate      cert.pem;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    ssl_certificate_key  cert.key;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    ssl_session_cache    shared:SSL:1m;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    ssl_session_timeout  5m;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    ssl_ciphers  HIGH:!aNULL:!MD5;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    ssl_prefer_server_ciphers  on;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    location / {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#        root   html;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#        index  index.html index.htm;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#    }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--php\"\u003e\u003ca name=\"安装PHP\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装PHP\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eprefix\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econfig\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epath\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efpm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efpm\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003ewww \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efpm\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003egroup\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003ewww \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003einline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimization \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edisable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edebug \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edisable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erpath \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eshared \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esoap \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003exmlrpc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eregex \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esqlite3 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezlib \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebcmath \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eiconv \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebz2 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecalendar \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecurl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecdb \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edom \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexif \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efileinfo \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eftp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejpeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epng\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efreetype\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econv \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egettext \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egmp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emhash \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejson \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003embstring \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003embregex \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003embregex\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebacktrack \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eonig \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqli\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqlnd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqlnd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esqlite \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ereadline \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eshmop \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esimplexml \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esockets \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esysvmsg \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esysvsem \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esysvshm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ewddx \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibxml\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003exsl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezip \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqlnd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecompression\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esupport \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epear \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopcache\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e make\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e make test\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e make install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ePHP \u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ecli\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuilt\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eFeb\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e27\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e2019\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e01\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e33\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e08\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003e NTS \u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCopyright\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1997\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e2018\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e PHP \u003c/span\u003e\u003cspan class=\"typ\"\u003eGroup\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eZend\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eEngine\u003c/span\u003e\u003cspan class=\"pln\"\u003e v3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e3.2\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eCopyright\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1998\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e2018\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eZend\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTechnologies\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e","markDown":"# linux(centos)系统下编译安装nginx+php\n\n### 下载软件源码包\n\n* Nginx：[http://nginx.org/download/nginx-1.14.2.tar.gz](http://nginx.org/download/nginx-1.14.2.tar.gz 'http://nginx.org/download/nginx-1.14.2.tar.gz')\n* Php：[http://php.net/distributions/php-7.3.2.tar.gz](http://php.net/distributions/php-7.3.2.tar.gz 'http://php.net/distributions/php-7.3.2.tar.gz')\n* openssl：[https://www.openssl.org/source/openssl-1.1.1b.tar.gz](https://www.openssl.org/source/openssl-1.1.1b.tar.gz 'https://www.openssl.org/source/openssl-1.1.1b.tar.gz')\n* pcre：[ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz](ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz 'ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz')  pcre有两个版本nginx支持pcre-8*\n* zlib：[http://www.zlib.net/zlib-1.2.11.tar.gz](http://www.zlib.net/zlib-1.2.11.tar.gz 'http://www.zlib.net/zlib-1.2.11.tar.gz')\n* nghttp2：[https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz](https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz 'https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz')\u0009\u0009\u0009\u0009nginx支持http2\n\n### 安装nginx\n\n* 解压软件包\n\n```\n[root@localhost ~]# tar -zxvf nginx-1.14.2.tar.gz\n[root@localhost ~]# tar -zxvf openssl-1.1.1b.tar.gz\n[root@localhost ~]# tar -zxvf pcre-8.43.tar.gz\n[root@localhost ~]# tar -zxvf zlib-1.2.11.tar.gz\n[root@localhost ~]# tar -zxvf php-7.3.2.tar.gz\n```\n\n* 创建nginx用户\n\n```\nuseradd www\n```\n\n* 安装PHP、Nginx依赖\n\n```\nyum -y install wget vim pcre pcre-devel openssl openssl-devel libicu-devel gcc gcc-c++ autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel ncurses ncurses-devel curl curl-devel krb5-devel libidn libidn-devel openldap openldap-devel nss_ldap jemalloc-devel cmake boost-devel bison automake libevent libevent-devel gd gd-devel libtool* libmcrypt libmcrypt-devel mcrypt mhash libxslt libxslt-devel readline readline-devel gmp gmp-devel libcurl libcurl-devel openjpeg-devel php-mcrypt  libmcrypt  libmcrypt-devel\n```\n\n* 编译并安装nginx\n\n\u003e nginx依赖```openssl```、```pcre```、```zlib```会自己编译，所以直接指定源码目录。\n\n```\n[root@localhost ~]# cd nginx-1.14.2\n[root@localhost nginx-1.14.2]# ./configure --prefix=/usr/local/nginx --with-select_module --with-poll_module --with-threads --with-file-aio --with-http_ssl_module --with-http_v2_module --with-http_realip_module --with-http_addition_module --with-http_xslt_module --with-http_xslt_module=dynamic --with-http_image_filter_module --with-http_image_filter_module=dynamic --with-http_geoip_module --with-http_geoip_module=dynamic --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_auth_request_module --with-http_random_index_module --with-http_secure_link_module --with-http_degradation_module --with-http_slice_module --with-http_stub_status_module --with-http_perl_module --with-http_perl_module=dynamic --with-mail --with-mail=dynamic --with-mail_ssl_module --with-stream --with-stream=dynamic --with-stream_ssl_module --with-stream_realip_module --with-stream_geoip_module --with-stream_geoip_module=dynamic --with-stream_ssl_preread_module --with-cpp_test_module --with-pcre --with-pcre=/home/bluelife/tmp/pcre-8.43 --with-zlib=/home/bluelife/tmp/zlib-1.2.11 --with-openssl=/home/bluelife/tmp/openssl-1.1.1a --with-debug\n[root@localhost nginx-1.14.2]# make\n[root@localhost nginx-1.14.2]# make install\n[root@localhost nginx-1.14.2]# /usr/local/nginx/sbin/nginx -v\nnginx version: nginx/1.14.2\n```\n\n### 配置nginx\n\n\u003e 将/usr/local/nginx/config/nginx.conf.default重全名为nginx.conf，将/usr/local/nginx/\n\n```\n[root@localhost ~]# cp /usr/local/nginx/conf/nginx.conf.default /usr/local/nginx/conf/nginx.conf\n```\n### 修改nginx配置\n\n```\n[root@localhost ~]# vim /usr/local/nginx/conf/nginx.conf\n#user  nobody;  # nginc启动用户\nworker_processes  auto; # nginx进程数，auto根据系统内核，num指定进程数\n\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    #log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n    #                  '$status $body_bytes_sent \"$http_referer\" '\n    #                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    #access_log  logs/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    gzip  on; # 开启nginx请求压缩选项\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   /home/wwwroot;\n            index  index.html index.htm index.php;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        location ~ \\.php$ {\n            root           /home/wwwroot;\n            fastcgi_pass   127.0.0.1:9000;\n            fastcgi_index  index.php;\n            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n            include        fastcgi_params;\n        }\n\n        # deny access to .htaccess files, if Apache's document root\n        # concurs with nginx's one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n\n\n    # another virtual host using mix of IP-, name-, and port-based configuration\n    #\n    #server {\n    #    listen       8000;\n    #    listen       somename:8080;\n    #    server_name  somename  alias  another.alias;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n\n    # HTTPS server\n    #\n    #server {\n    #    listen       443 ssl;\n    #    server_name  localhost;\n\n    #    ssl_certificate      cert.pem;\n    #    ssl_certificate_key  cert.key;\n\n    #    ssl_session_cache    shared:SSL:1m;\n    #    ssl_session_timeout  5m;\n\n    #    ssl_ciphers  HIGH:!aNULL:!MD5;\n    #    ssl_prefer_server_ciphers  on;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n}\n```\n\n### 安装PHP\n\n```\n[root@localhost ~]# cd php-7.3.2\n[root@localhost php-7.3.2]# ./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --enable-fpm --with-fpm-user=www --with-fpm-group=www --enable-inline-optimization --disable-debug --disable-rpath --enable-shared --enable-soap --with-xmlrpc --with-openssl --with-pcre-regex --with-sqlite3 --with-zlib --enable-bcmath --with-iconv --with-bz2 --enable-calendar --with-curl --with-cdb --enable-dom --enable-exif --enable-fileinfo --enable-filter --with-pcre-dir --enable-ftp --with-gd --with-openssl-dir --with-jpeg-dir --with-png-dir --with-freetype-dir --enable-gd-jis-conv --with-gettext --with-gmp --with-mhash --enable-json --enable-mbstring --enable-mbregex --enable-mbregex-backtrack --with-onig --enable-pdo --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-zlib-dir --with-pdo-sqlite --with-readline --enable-session --enable-shmop --enable-simplexml --enable-sockets --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-wddx --with-libxml-dir --with-xsl --enable-zip --enable-mysqlnd-compression-support --with-pear --enable-opcache\n[root@localhost php-7.3.2]# make\n[root@localhost php-7.3.2]# make test\n[root@localhost php-7.3.2]# make install\n[root@localhost php-7.3.2]# /usr/local/php/bin/php -v\nPHP 7.3.2 (cli) (built: Feb 27 2019 01:33:08) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.3.2, Copyright (c) 1998-2018 Zend Technologies\n```","html":"\u003ch1 id=\"h1-linux-centos-nginx-php\"\u003e\u003ca name=\"linux(centos)系统下编译安装nginx+php\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003elinux(centos)系统下编译安装nginx+php\u003c/h1\u003e\u003ch3 id=\"h3-u4E0Bu8F7Du8F6Fu4EF6u6E90u7801u5305\"\u003e\u003ca name=\"下载软件源码包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载软件源码包\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eNginx：\u003ca href=\"http://nginx.org/download/nginx-1.14.2.tar.gz\" title=\"http://nginx.org/download/nginx-1.14.2.tar.gz\"\u003ehttp://nginx.org/download/nginx-1.14.2.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003ePhp：\u003ca href=\"http://php.net/distributions/php-7.3.2.tar.gz\" title=\"http://php.net/distributions/php-7.3.2.tar.gz\"\u003ehttp://php.net/distributions/php-7.3.2.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003eopenssl：\u003ca href=\"https://www.openssl.org/source/openssl-1.1.1b.tar.gz\" title=\"https://www.openssl.org/source/openssl-1.1.1b.tar.gz\"\u003ehttps://www.openssl.org/source/openssl-1.1.1b.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003epcre：\u003ca href=\"ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\" title=\"ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\"\u003eftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\u003c/a\u003e  pcre有两个版本nginx支持pcre-8*\u003c/li\u003e\u003cli\u003ezlib：\u003ca href=\"http://www.zlib.net/zlib-1.2.11.tar.gz\" title=\"http://www.zlib.net/zlib-1.2.11.tar.gz\"\u003ehttp://www.zlib.net/zlib-1.2.11.tar.gz\u003c/a\u003e\u003c/li\u003e\u003cli\u003enghttp2：\u003ca href=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\" title=\"https://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\"\u003ehttps://github.com/nghttp2/nghttp2/releases/download/v1.36.0/nghttp2-1.36.0.tar.gz\u003c/a\u003e                nginx支持http2\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3--nginx\"\u003e\u003ca name=\"安装nginx\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装nginx\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e解压软件包\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# tar -zxvf nginx-1.14.2.tar.gz\n[root@localhost ~]# tar -zxvf openssl-1.1.1b.tar.gz\n[root@localhost ~]# tar -zxvf pcre-8.43.tar.gz\n[root@localhost ~]# tar -zxvf zlib-1.2.11.tar.gz\n[root@localhost ~]# tar -zxvf php-7.3.2.tar.gz\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建nginx用户\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003euseradd www\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装PHP、Nginx依赖\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eyum -y install wget vim pcre pcre-devel openssl openssl-devel libicu-devel gcc gcc-c++ autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel ncurses ncurses-devel curl curl-devel krb5-devel libidn libidn-devel openldap openldap-devel nss_ldap jemalloc-devel cmake boost-devel bison automake libevent libevent-devel gd gd-devel libtool* libmcrypt libmcrypt-devel mcrypt mhash libxslt libxslt-devel readline readline-devel gmp gmp-devel libcurl libcurl-devel openjpeg-devel php-mcrypt  libmcrypt  libmcrypt-devel\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e编译并安装nginx\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003enginx依赖\u003ccode\u003eopenssl\u003c/code\u003e、\u003ccode\u003epcre\u003c/code\u003e、\u003ccode\u003ezlib\u003c/code\u003e会自己编译，所以直接指定源码目录。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# cd nginx-1.14.2\n[root@localhost nginx-1.14.2]# ./configure --prefix=/usr/local/nginx --with-select_module --with-poll_module --with-threads --with-file-aio --with-http_ssl_module --with-http_v2_module --with-http_realip_module --with-http_addition_module --with-http_xslt_module --with-http_xslt_module=dynamic --with-http_image_filter_module --with-http_image_filter_module=dynamic --with-http_geoip_module --with-http_geoip_module=dynamic --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_auth_request_module --with-http_random_index_module --with-http_secure_link_module --with-http_degradation_module --with-http_slice_module --with-http_stub_status_module --with-http_perl_module --with-http_perl_module=dynamic --with-mail --with-mail=dynamic --with-mail_ssl_module --with-stream --with-stream=dynamic --with-stream_ssl_module --with-stream_realip_module --with-stream_geoip_module --with-stream_geoip_module=dynamic --with-stream_ssl_preread_module --with-cpp_test_module --with-pcre --with-pcre=/home/bluelife/tmp/pcre-8.43 --with-zlib=/home/bluelife/tmp/zlib-1.2.11 --with-openssl=/home/bluelife/tmp/openssl-1.1.1a --with-debug\n[root@localhost nginx-1.14.2]# make\n[root@localhost nginx-1.14.2]# make install\n[root@localhost nginx-1.14.2]# /usr/local/nginx/sbin/nginx -v\nnginx version: nginx/1.14.2\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx\"\u003e\u003ca name=\"配置nginx\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置nginx\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e将/usr/local/nginx/config/nginx.conf.default重全名为nginx.conf，将/usr/local/nginx/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# cp /usr/local/nginx/conf/nginx.conf.default /usr/local/nginx/conf/nginx.conf\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--nginx-\"\u003e\u003ca name=\"修改nginx配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e修改nginx配置\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# vim /usr/local/nginx/conf/nginx.conf\n#user  nobody;  # nginc启动用户\nworker_processes  auto; # nginx进程数，auto根据系统内核，num指定进程数\n\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    #log_format  main  \u0026#39;$remote_addr - $remote_user [$time_local] \u0026quot;$request\u0026quot; \u0026#39;\n    #                  \u0026#39;$status $body_bytes_sent \u0026quot;$http_referer\u0026quot; \u0026#39;\n    #                  \u0026#39;\u0026quot;$http_user_agent\u0026quot; \u0026quot;$http_x_forwarded_for\u0026quot;\u0026#39;;\n\n    #access_log  logs/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    gzip  on; # 开启nginx请求压缩选项\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   /home/wwwroot;\n            index  index.html index.htm index.php;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        location ~ \\.php$ {\n            root           /home/wwwroot;\n            fastcgi_pass   127.0.0.1:9000;\n            fastcgi_index  index.php;\n            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n            include        fastcgi_params;\n        }\n\n        # deny access to .htaccess files, if Apache\u0026#39;s document root\n        # concurs with nginx\u0026#39;s one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n\n\n    # another virtual host using mix of IP-, name-, and port-based configuration\n    #\n    #server {\n    #    listen       8000;\n    #    listen       somename:8080;\n    #    server_name  somename  alias  another.alias;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n\n    # HTTPS server\n    #\n    #server {\n    #    listen       443 ssl;\n    #    server_name  localhost;\n\n    #    ssl_certificate      cert.pem;\n    #    ssl_certificate_key  cert.key;\n\n    #    ssl_session_cache    shared:SSL:1m;\n    #    ssl_session_timeout  5m;\n\n    #    ssl_ciphers  HIGH:!aNULL:!MD5;\n    #    ssl_prefer_server_ciphers  on;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--php\"\u003e\u003ca name=\"安装PHP\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装PHP\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# cd php-7.3.2\n[root@localhost php-7.3.2]# ./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --enable-fpm --with-fpm-user=www --with-fpm-group=www --enable-inline-optimization --disable-debug --disable-rpath --enable-shared --enable-soap --with-xmlrpc --with-openssl --with-pcre-regex --with-sqlite3 --with-zlib --enable-bcmath --with-iconv --with-bz2 --enable-calendar --with-curl --with-cdb --enable-dom --enable-exif --enable-fileinfo --enable-filter --with-pcre-dir --enable-ftp --with-gd --with-openssl-dir --with-jpeg-dir --with-png-dir --with-freetype-dir --enable-gd-jis-conv --with-gettext --with-gmp --with-mhash --enable-json --enable-mbstring --enable-mbregex --enable-mbregex-backtrack --with-onig --enable-pdo --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-zlib-dir --with-pdo-sqlite --with-readline --enable-session --enable-shmop --enable-simplexml --enable-sockets --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-wddx --with-libxml-dir --with-xsl --enable-zip --enable-mysqlnd-compression-support --with-pear --enable-opcache\n[root@localhost php-7.3.2]# make\n[root@localhost php-7.3.2]# make test\n[root@localhost php-7.3.2]# make install\n[root@localhost php-7.3.2]# /usr/local/php/bin/php -v\nPHP 7.3.2 (cli) (built: Feb 27 2019 01:33:08) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.3.2, Copyright (c) 1998-2018 Zend Technologies\n\u003c/code\u003e\u003c/pre\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d1204c1a6008d89009ac"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":42311,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T14:57:54.696Z"},"updateTime":{"$date":"2019-02-28T17:53:53.908Z"},"__v":0}
{"_id":{"$oid":"5c62f7894c1a6008d89009b7"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"locate详解","content":"\u003ch4 id=\"h4-locate-\"\u003e\u003ca name=\"locate详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003elocate详解\u003c/h4\u003e\u003ch3 id=\"h3-1-\"\u003e\u003ca name=\"1、命令简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e1、命令简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003elocate(locate) 命令用来查找文件或目录。 locate命令要比find -name快得多，原因在于它不搜索具体目录，而是搜索一个数据库/var/lib/mlocate/mlocate.db 。这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，因此，我们在用whereis和locate 查找文件时，有时会找到已经被删除的数据，或者刚刚建立文件，却无法查找到，原因就是因为数据库文件没有被更新。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。整个locate工作其实是由四部分组成的:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e1：/usr/bin/updatedb   主要用来更新数据库，通过crontab自动完成的\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e2：/usr/bin/locate         查询文件位置\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e3：/etc/updatedb.conf   updatedb的配置文件\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e4：/var/lib/mlocate/mlocate.db  存放文件信息的文件\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-2-\"\u003e\u003ca name=\"2、用法\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e2、用法\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003elocate \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eOPTION\u003c/span\u003e\u003cspan class=\"pun\"\u003e]...\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003ePATTERN\u003c/span\u003e\u003cspan class=\"pun\"\u003e]...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-3-\"\u003e\u003ca name=\"3、选项\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e3、选项\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eb\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ebasename         match only the \u003c/span\u003e\u003cspan class=\"kwd\"\u003ebase\u003c/span\u003e\u003cspan class=\"pln\"\u003e name of path names\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ecount            \u003c/span\u003e\u003cspan class=\"pun\"\u003e只输出找到的数量\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edatabase DBPATH  \u003c/span\u003e\u003cspan class=\"pun\"\u003e使用\u003c/span\u003e\u003cspan class=\"pln\"\u003eDBPATH\u003c/span\u003e\u003cspan class=\"pun\"\u003e指定的数据库，而不是默认数据库\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003evar\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elib\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emlocate\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emlocate\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003edb\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ee\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eexisting         only \u003c/span\u003e\u003cspan class=\"kwd\"\u003eprint\u003c/span\u003e\u003cspan class=\"pln\"\u003e entries \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e currently existing files\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eL\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003efollow           follow trailing symbolic links \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewhen\u003c/span\u003e\u003cspan class=\"pln\"\u003e checking file existence \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"kwd\"\u003edefault\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eh\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ehelp             \u003c/span\u003e\u003cspan class=\"pun\"\u003e显示帮助\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ei\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eignore\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ecase\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e忽略大小写\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003el\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003elimit\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en LIMIT  limit output \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"kwd\"\u003eor\u003c/span\u003e\u003cspan class=\"pln\"\u003e counting\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e to LIMIT entries\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003em\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003emmap             ignored\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e backward compatibility\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eP\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003enofollow\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eH     don\u003c/span\u003e\u003cspan class=\"str\"\u003e't follow trailing symbolic links when checking file existence\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  -0, --null             separate entries with NUL on output\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  -S, --statistics       don'\u003c/span\u003e\u003cspan class=\"pln\"\u003et search \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e entries\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eprint\u003c/span\u003e\u003cspan class=\"pln\"\u003e statistics about eachused database\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eq\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003equiet            \u003c/span\u003e\u003cspan class=\"pun\"\u003e安静模式，不会显示任何错误讯息\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003er\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eregexp REGEXP    \u003c/span\u003e\u003cspan class=\"pun\"\u003e使用基本正则表达式\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eregex            \u003c/span\u003e\u003cspan class=\"pun\"\u003e使用扩展正则表达式\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003es\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003estdio            ignored\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e backward compatibility\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eV\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eversion          \u003c/span\u003e\u003cspan class=\"pun\"\u003e显示版本信息\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ew\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ewholename        match whole path name \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"kwd\"\u003edefault\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-4-\"\u003e\u003ca name=\"4、示例\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e4、示例\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e1：示例1： 搜索etc目录下所有以my开头的文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@cent6 lib\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e locate \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：示例2：新增的文件无法locate，使用updatedb\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@cent6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e touch \u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etxt\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@cent6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e locate \u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etxt\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@cent6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e updatedb\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@cent6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e locate \u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etxt\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003enew\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etxt\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--3-updatedb-etc-updatedb-conf\"\u003e\u003ca name=\"示例3：updatedb的配置文件/etc/updatedb.conf\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e示例3：updatedb的配置文件/etc/updatedb.conf\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@cent6 \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cat \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eupdatedb\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ePRUNE_BIND_MOUNTS \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"yes\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ePRUNEFS \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"9p afs anon_inodefs auto autofs bdev binfmt_misc cgroup cifs coda configfs cpuset debugfs devpts ecryptfs exofs fuse fusectl gfs gfs2 hugetlbfs inotifyfs iso9660 jffs2 lustre mqueue ncpfs nfs nfs4 nfsd pipefs proc ramfs rootfs rpc_pipefs securityfs selinuxfs sfs sockfs sysfs tmpfs ubifs udf usbfs\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ePRUNENAMES \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\".git .hg .svn\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ePRUNEPATHS \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/afs /media /net /sfs /tmp /udev /var/cache/ccache /var/spool/cups /var/spool/squid /var/tmp\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--prune_bind_mounts-yes-\"\u003e\u003ca name=\"第一行PRUNE_BIND_MOUNTS=”yes”的意思是：是否进行限制搜索。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第一行PRUNE_BIND_MOUNTS=”yes”的意思是：是否进行限制搜索。\u003c/h5\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"第二行是排除检索的文件系统类型，即列出的文件系统类型不进行检索。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第二行是排除检索的文件系统类型，即列出的文件系统类型不进行检索。\u003c/h5\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"第二行表示对哪些后缀的文件排除检索，也就是列在这里面的后缀的文件跳过不进行检索。不同后缀之间用空格隔开。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第二行表示对哪些后缀的文件排除检索，也就是列在这里面的后缀的文件跳过不进行检索。不同后缀之间用空格隔开。\u003c/h5\u003e\u003ch5 id=\"h5--updatedb-locate-\"\u003e\u003ca name=\"第四行是排除检索的路径，即列出的路径下的文件和子文件夹均跳过不进行检索。updatedb之后使用locate仍然找不到想要文件可以检查挂载的目录是否被忽略了\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第四行是排除检索的路径，即列出的路径下的文件和子文件夹均跳过不进行检索。updatedb之后使用locate仍然找不到想要文件可以检查挂载的目录是否被忽略了\u003c/h5\u003e","markDown":"#### locate详解\n\n### 1、命令简介\n\n\u003e locate(locate) 命令用来查找文件或目录。 locate命令要比find -name快得多，原因在于它不搜索具体目录，而是搜索一个数据库/var/lib/mlocate/mlocate.db 。这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，因此，我们在用whereis和locate 查找文件时，有时会找到已经被删除的数据，或者刚刚建立文件，却无法查找到，原因就是因为数据库文件没有被更新。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。整个locate工作其实是由四部分组成的:\n\n* 1：/usr/bin/updatedb   主要用来更新数据库，通过crontab自动完成的\n\n* 2：/usr/bin/locate         查询文件位置\n\n* 3：/etc/updatedb.conf   updatedb的配置文件\n\n* 4：/var/lib/mlocate/mlocate.db  存放文件信息的文件\n\n### 2、用法\n\n```\nlocate [OPTION]... [PATTERN]...\n```\n\n### 3、选项\n\n```\n  -b, --basename         match only the base name of path names\n  -c, --count            只输出找到的数量\n  -d, --database DBPATH  使用DBPATH指定的数据库，而不是默认数据库 /var/lib/mlocate/mlocate.db\n  -e, --existing         only print entries for currently existing files\n  -L, --follow           follow trailing symbolic links when checking file existence (default)\n  -h, --help             显示帮助\n  -i, --ignore-case      忽略大小写\n  -l, --limit, -n LIMIT  limit output (or counting) to LIMIT entries\n  -m, --mmap             ignored, for backward compatibility\n  -P, --nofollow, -H     don't follow trailing symbolic links when checking file existence\n  -0, --null             separate entries with NUL on output\n  -S, --statistics       don't search for entries, print statistics about eachused database\n  -q, --quiet            安静模式，不会显示任何错误讯息\n  -r, --regexp REGEXP    使用基本正则表达式\n      --regex            使用扩展正则表达式\n  -s, --stdio            ignored, for backward compatibility\n  -V, --version          显示版本信息\n  -w, --wholename        match whole path name (default)\n```\n\n### 4、示例\n\n* 1：示例1： 搜索etc目录下所有以my开头的文件\n\n```\n[root@cent6 lib]# locate /etc/my\n/etc/my.cnf\n```\n\n* 2：示例2：新增的文件无法locate，使用updatedb\n\n```\n[root@cent6 ~]# touch new.txt\n[root@cent6 ~]# locate new.txt\n[root@cent6 ~]# updatedb\n[root@cent6 ~]# locate new.txt\n/root/new.txt\n```\n\n### 示例3：updatedb的配置文件/etc/updatedb.conf\n\n```\n[root@cent6 ~]# cat /etc/updatedb.conf \nPRUNE_BIND_MOUNTS = \"yes\"\nPRUNEFS = \"9p afs anon_inodefs auto autofs bdev binfmt_misc cgroup cifs coda configfs cpuset debugfs devpts ecryptfs exofs fuse fusectl gfs gfs2 hugetlbfs inotifyfs iso9660 jffs2 lustre mqueue ncpfs nfs nfs4 nfsd pipefs proc ramfs rootfs rpc_pipefs securityfs selinuxfs sfs sockfs sysfs tmpfs ubifs udf usbfs\"\nPRUNENAMES = \".git .hg .svn\"\nPRUNEPATHS = \"/afs /media /net /sfs /tmp /udev /var/cache/ccache /var/spool/cups /var/spool/squid /var/tmp\"\n```\n\n##### 第一行PRUNE_BIND_MOUNTS=\"yes\"的意思是：是否进行限制搜索。\n\n##### 第二行是排除检索的文件系统类型，即列出的文件系统类型不进行检索。\n\n##### 第二行表示对哪些后缀的文件排除检索，也就是列在这里面的后缀的文件跳过不进行检索。不同后缀之间用空格隔开。\n\n##### 第四行是排除检索的路径，即列出的路径下的文件和子文件夹均跳过不进行检索。updatedb之后使用locate仍然找不到想要文件可以检查挂载的目录是否被忽略了","html":"\u003ch4 id=\"h4-locate-\"\u003e\u003ca name=\"locate详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003elocate详解\u003c/h4\u003e\u003ch3 id=\"h3-1-\"\u003e\u003ca name=\"1、命令简介\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e1、命令简介\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003elocate(locate) 命令用来查找文件或目录。 locate命令要比find -name快得多，原因在于它不搜索具体目录，而是搜索一个数据库/var/lib/mlocate/mlocate.db 。这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，因此，我们在用whereis和locate 查找文件时，有时会找到已经被删除的数据，或者刚刚建立文件，却无法查找到，原因就是因为数据库文件没有被更新。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。整个locate工作其实是由四部分组成的:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e1：/usr/bin/updatedb   主要用来更新数据库，通过crontab自动完成的\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e2：/usr/bin/locate         查询文件位置\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e3：/etc/updatedb.conf   updatedb的配置文件\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e4：/var/lib/mlocate/mlocate.db  存放文件信息的文件\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-2-\"\u003e\u003ca name=\"2、用法\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e2、用法\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003elocate [OPTION]... [PATTERN]...\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-3-\"\u003e\u003ca name=\"3、选项\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e3、选项\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e  -b, --basename         match only the base name of path names\n  -c, --count            只输出找到的数量\n  -d, --database DBPATH  使用DBPATH指定的数据库，而不是默认数据库 /var/lib/mlocate/mlocate.db\n  -e, --existing         only print entries for currently existing files\n  -L, --follow           follow trailing symbolic links when checking file existence (default)\n  -h, --help             显示帮助\n  -i, --ignore-case      忽略大小写\n  -l, --limit, -n LIMIT  limit output (or counting) to LIMIT entries\n  -m, --mmap             ignored, for backward compatibility\n  -P, --nofollow, -H     don\u0026#39;t follow trailing symbolic links when checking file existence\n  -0, --null             separate entries with NUL on output\n  -S, --statistics       don\u0026#39;t search for entries, print statistics about eachused database\n  -q, --quiet            安静模式，不会显示任何错误讯息\n  -r, --regexp REGEXP    使用基本正则表达式\n      --regex            使用扩展正则表达式\n  -s, --stdio            ignored, for backward compatibility\n  -V, --version          显示版本信息\n  -w, --wholename        match whole path name (default)\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-4-\"\u003e\u003ca name=\"4、示例\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e4、示例\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e1：示例1： 搜索etc目录下所有以my开头的文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@cent6 lib]# locate /etc/my\n/etc/my.cnf\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：示例2：新增的文件无法locate，使用updatedb\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@cent6 ~]# touch new.txt\n[root@cent6 ~]# locate new.txt\n[root@cent6 ~]# updatedb\n[root@cent6 ~]# locate new.txt\n/root/new.txt\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--3-updatedb-etc-updatedb-conf\"\u003e\u003ca name=\"示例3：updatedb的配置文件/etc/updatedb.conf\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e示例3：updatedb的配置文件/etc/updatedb.conf\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@cent6 ~]# cat /etc/updatedb.conf \nPRUNE_BIND_MOUNTS = \u0026quot;yes\u0026quot;\nPRUNEFS = \u0026quot;9p afs anon_inodefs auto autofs bdev binfmt_misc cgroup cifs coda configfs cpuset debugfs devpts ecryptfs exofs fuse fusectl gfs gfs2 hugetlbfs inotifyfs iso9660 jffs2 lustre mqueue ncpfs nfs nfs4 nfsd pipefs proc ramfs rootfs rpc_pipefs securityfs selinuxfs sfs sockfs sysfs tmpfs ubifs udf usbfs\u0026quot;\nPRUNENAMES = \u0026quot;.git .hg .svn\u0026quot;\nPRUNEPATHS = \u0026quot;/afs /media /net /sfs /tmp /udev /var/cache/ccache /var/spool/cups /var/spool/squid /var/tmp\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--prune_bind_mounts-yes-\"\u003e\u003ca name=\"第一行PRUNE_BIND_MOUNTS=”yes”的意思是：是否进行限制搜索。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第一行PRUNE_BIND_MOUNTS=”yes”的意思是：是否进行限制搜索。\u003c/h5\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"第二行是排除检索的文件系统类型，即列出的文件系统类型不进行检索。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第二行是排除检索的文件系统类型，即列出的文件系统类型不进行检索。\u003c/h5\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"第二行表示对哪些后缀的文件排除检索，也就是列在这里面的后缀的文件跳过不进行检索。不同后缀之间用空格隔开。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第二行表示对哪些后缀的文件排除检索，也就是列在这里面的后缀的文件跳过不进行检索。不同后缀之间用空格隔开。\u003c/h5\u003e\u003ch5 id=\"h5--updatedb-locate-\"\u003e\u003ca name=\"第四行是排除检索的路径，即列出的路径下的文件和子文件夹均跳过不进行检索。updatedb之后使用locate仍然找不到想要文件可以检查挂载的目录是否被忽略了\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e第四行是排除检索的路径，即列出的路径下的文件和子文件夹均跳过不进行检索。updatedb之后使用locate仍然找不到想要文件可以检查挂载的目录是否被忽略了\u003c/h5\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":11961,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T16:42:49.365Z"},"updateTime":{"$date":"2019-02-12T16:47:18.964Z"},"__v":0}
{"_id":{"$oid":"5c62ff434c1a6008d89009b8"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d1204c1a6008d89009ac","title":"nginx日志（log）详解","content":"\u003cp\u003e\u003ca href=\"http://nginx.org/en/docs/http/ngx_http_log_module.html#access_log\"\u003ehttp://nginx.org/en/docs/http/ngx_http_log_module.html#access_log\u003c/a\u003e\u003c/p\u003e\n","markDown":"http://nginx.org/en/docs/http/ngx_http_log_module.html#access_log","html":"\u003cp\u003e\u003ca href=\"http://nginx.org/en/docs/http/ngx_http_log_module.html#access_log\"\u003ehttp://nginx.org/en/docs/http/ngx_http_log_module.html#access_log\u003c/a\u003e\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d1204c1a6008d89009ac"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":153,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-12T17:15:47.085Z"},"updateTime":{"$date":"2019-02-12T17:16:19.304Z"},"__v":0}
{"_id":{"$oid":"5c6578a44c1a6008d89009bd"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c6578a44c1a6008d89009bc","title":"python3.5打开pyIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit http://www.python.org/download/mac/tcltk/ for current information","content":"\u003ch4 id=\"h4--python3-5-pythonidle-warning-the-version-of-tcl-tk-8-5-9-in-use-may-be-unstable-visit-http-www-python-org-download-mac-tcltk-for-current-information-macos-10-9-tcl-tk-8-6-idle-tcl-tk-8-5-9-tcl-tk-\"\u003e\u003ca name=\"安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit   http://www.python.org/download/mac/tcltk/  for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit \u003ca href=\"http://www.python.org/download/mac/tcltk/\"\u003ehttp://www.python.org/download/mac/tcltk/\u003c/a\u003e for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\u003c/h4\u003e\u003cp\u003e​\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190214/20190214223505_7198f93c22d500f32a582b6fd6a43fc7.png?w=1334\u0026amp;h=584\" title=\"QQ20190214-222649@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214223505_7198f93c22d500f32a582b6fd6a43fc7.png?w=1334\u0026amp;h=584\" alt=\"QQ20190214-222649@2x.png\" title=\"QQ20190214-222649@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-222649@2x.png\"\u003eQQ20190214-222649@2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e​\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190214/20190214223549_52426bda85187291003ddd2c48c633ce.png?w=1162\u0026amp;h=332\" title=\"QQ20190214-223533@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214223549_52426bda85187291003ddd2c48c633ce.png?w=1162\u0026amp;h=332\" alt=\"QQ20190214-223533@2x.png\" title=\"QQ20190214-223533@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-223533@2x.png\"\u003eQQ20190214-223533@2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e​\u003c/p\u003e\n\u003ch3 id=\"h3--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h3\u003e\u003cp\u003e​\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4--activetcl-tcl-activetcl\"\u003e\u003ca name=\"去  ActiveTcl网站 下载Tcl – ActiveTcl\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e去\u003ca href=\"https://www.activestate.com/products/activetcl/downloads/ ;https://www.activestate.com/products/activetcl/downloads/\"\u003eActiveTcl网站\u003c/a\u003e下载Tcl – ActiveTcl\u003c/h4\u003e​\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u91CDu65B0u5B89u88C5\"\u003e\u003ca name=\"重新安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重新安装\u003c/h4\u003e​\u003cbr\u003e连接：\u003ca href=\"https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\" title=\"https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\"\u003ehttps://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\u003c/a\u003e\u003cbr\u003e安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit \u003ca href=\"http://www.python.org/download/mac/tcltk/\"\u003ehttp://www.python.org/download/mac/tcltk/\u003c/a\u003e for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\u003cbr\u003eQQ20190214-222649@2x.png\u003cbr\u003eQQ20190214-222649@2x.png\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eQQ20190214-223533@2x.png\u003cbr\u003eQQ20190214-223533@2x.png\u003c/p\u003e\n\u003cp\u003e解决方法：\u003cbr\u003e去ActiveTcl网站下载Tcl – ActiveTcl\u003cbr\u003e重新安装\u003cbr\u003e连接：\u003ca href=\"https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\"\u003ehttps://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eCopy  ©  Right  blog.mcloudhub.com  ALL  Server  晋ICP备13007655号\u003cbr\u003e友情连接：\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c6578a44c1a6008d89009bc"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":3305,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-14T14:18:12.157Z"},"updateTime":{"$date":"2019-02-14T16:58:44.385Z"},"__v":0,"html":"\u003ch4 id=\"h4--python3-5-pythonidle-warning-the-version-of-tcl-tk-8-5-9-in-use-may-be-unstable-visit-http-www-python-org-download-mac-tcltk-for-current-information-macos-10-9-tcl-tk-8-6-idle-tcl-tk-8-5-9-tcl-tk-\"\u003e\u003ca name=\"安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit   http://www.python.org/download/mac/tcltk/  for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit \u003ca href=\"http://www.python.org/download/mac/tcltk/\"\u003ehttp://www.python.org/download/mac/tcltk/\u003c/a\u003e for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\u003c/h4\u003e\u003cp\u003e​\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190214/20190214223505_7198f93c22d500f32a582b6fd6a43fc7.png?w=1334\u0026amp;h=584\" title=\"QQ20190214-222649\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214223505_7198f93c22d500f32a582b6fd6a43fc7.png?w=1334\u0026amp;h=584\" alt=\"QQ20190214-222649\u0026#64;2x.png\" title=\"QQ20190214-222649\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-222649\u0026#64;2x.png\"\u003eQQ20190214-222649\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e​\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190214/20190214223549_52426bda85187291003ddd2c48c633ce.png?w=1162\u0026amp;h=332\" title=\"QQ20190214-223533\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190214/20190214223549_52426bda85187291003ddd2c48c633ce.png?w=1162\u0026amp;h=332\" alt=\"QQ20190214-223533\u0026#64;2x.png\" title=\"QQ20190214-223533\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190214-223533\u0026#64;2x.png\"\u003eQQ20190214-223533\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e​\u003c/p\u003e\n\u003ch3 id=\"h3--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h3\u003e\u003cp\u003e​\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4--activetcl-tcl-activetcl\"\u003e\u003ca name=\"去  ActiveTcl网站 下载Tcl – ActiveTcl\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e去\u003ca href=\"https://www.activestate.com/products/activetcl/downloads/ ;https://www.activestate.com/products/activetcl/downloads/\"\u003eActiveTcl网站\u003c/a\u003e下载Tcl – ActiveTcl\u003c/h4\u003e​\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4-u91CDu65B0u5B89u88C5\"\u003e\u003ca name=\"重新安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重新安装\u003c/h4\u003e​\u003cbr\u003e连接：\u003ca href=\"https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\" title=\"https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\"\u003ehttps://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\u003c/a\u003e\u003cbr\u003e安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit \u003ca href=\"http://www.python.org/download/mac/tcltk/\"\u003ehttp://www.python.org/download/mac/tcltk/\u003c/a\u003e for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\u003cbr\u003eQQ20190214-222649@2x.png\u003cbr\u003eQQ20190214-222649@2x.png\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eQQ20190214-223533@2x.png\u003cbr\u003eQQ20190214-223533@2x.png\u003c/p\u003e\n\u003cp\u003e解决方法：\u003cbr\u003e去ActiveTcl网站下载Tcl – ActiveTcl\u003cbr\u003e重新安装\u003cbr\u003e连接：\u003ca href=\"https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\"\u003ehttps://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eCopy  ©  Right  blog.mcloudhub.com  ALL  Server  晋ICP备13007655号\u003cbr\u003e友情连接：\u003c/p\u003e\n","markDown":"#### 安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit http://www.python.org/download/mac/tcltk/ for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\n​\n[![QQ20190214-222649@2x.png](/static/images/uploads/20190214/20190214223505_7198f93c22d500f32a582b6fd6a43fc7.png?w=1334\u0026h=584 \"QQ20190214-222649@2x.png\")](/static/images/uploads/20190214/20190214223505_7198f93c22d500f32a582b6fd6a43fc7.png?w=1334\u0026h=584 \"QQ20190214-222649@2x.png\")\n​\n[![QQ20190214-223533@2x.png](/static/images/uploads/20190214/20190214223549_52426bda85187291003ddd2c48c633ce.png?w=1162\u0026h=332 \"QQ20190214-223533@2x.png\")](/static/images/uploads/20190214/20190214223549_52426bda85187291003ddd2c48c633ce.png?w=1162\u0026h=332 \"QQ20190214-223533@2x.png\")\n​\n### 解决方法：\n​\n* #### 去[ActiveTcl网站](https://www.activestate.com/products/activetcl/downloads/ ;https://www.activestate.com/products/activetcl/downloads/)下载Tcl – ActiveTcl\n​\n* #### 重新安装\n​\n连接：[https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0](https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0 'https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0')\n安装的python3.5打开pythonIDLE提示：WARNING: The version of Tcl/Tk (8.5.9) in use may be unstable. Visit http://www.python.org/download/mac/tcltk/ for current information.经查看官网提示说macOS 10.9以使用Tcl/Tk 8.6版本，而现有的IDLE显示的是Tcl/Tk (8.5.9)的版本，知道原因就去升级Tcl/Tk版本。\nQQ20190214-222649@2x.png\nQQ20190214-222649@2x.png\n\nQQ20190214-223533@2x.png\nQQ20190214-223533@2x.png\n\n解决方法：\n去ActiveTcl网站下载Tcl – ActiveTcl\n重新安装\n连接：https://www.python.org/download/mac/tcltk/#activetcl-8-5-18-0\n\nCopy  ©  Right  blog.mcloudhub.com  ALL  Server  晋ICP备13007655号\n友情连接："}
{"_id":{"$oid":"5c670918843f2e042d70ad97"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c6578a44c1a6008d89009bc","title":"python网络请求使用urllib模块报错：SSLurllib.error.URLError: \u003curlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)\u003e","content":"\u003ch4 id=\"h4-python-urllib-sslurllib-error-urlerror-lt-urlopen-error-ssl-certificate_verify_failed-certificate-verify-failed-unable-to-get-local-issuer-certificate-_ssl-c-1056-gt-\"\u003e\u003ca name=\"python网络请求使用urllib模块报错：SSLurllib.error.URLError: \u003curlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)\u003e\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epython网络请求使用urllib模块报错：SSLurllib.error.URLError: \u0026lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)\u0026gt;\u003c/h4\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190216/20190216025111_95a4325d98771665ae299e92d7c80fc7.png?w=1142\u0026amp;h=96\" title=\"QQ20190216-025046@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190216/20190216025111_95a4325d98771665ae299e92d7c80fc7.png?w=1142\u0026amp;h=96\" alt=\"QQ20190216-025046@2x.png\" title=\"QQ20190216-025046@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190216-025046@2x.png\"\u003eQQ20190216-025046@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5 id=\"h5--https-urlopen-https-ssl-\"\u003e\u003ca name=\"查看详细报错信息发现请求的连接是https提示urlopen打开https连接时ssl验证失败，因为我们本地并没有域名的安全证书以供验证，所以可以设置不验证证书。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看详细报错信息发现请求的连接是https提示urlopen打开https连接时ssl验证失败，因为我们本地并没有域名的安全证书以供验证，所以可以设置不验证证书。\u003c/h5\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e有两种方式，一种是urllib.urlopen()有一个参数context,把他设成ssl._create_unverified_context或者修改现在的全局默认值。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e1：在使用urllib.urlopen()方法时传入一个上下文\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eimport\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003econtext \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e_create_unverified_context\u003c/span\u003e\u003cspan class=\"pun\"\u003e()\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eurllib\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003erequest\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eurlopen\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ereq\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003econtext\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003econtext\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：设置全局禁用验证\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eimport\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003etry\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    _create_unverified_https_context \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e_create_unverified_context\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eexcept\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAttributeError\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# Legacy Python that doesn't verify HTTPS certificates by default\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003epass\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eelse\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# Handle target environment that doesn't support HTTPS verification\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    ssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e_create_default_https_context \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e _create_unverified_https_context\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e","markDown":"#### python网络请求使用urllib模块报错：SSLurllib.error.URLError: \u003curlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)\u003e\n\n[![QQ20190216-025046@2x.png](/static/images/uploads/20190216/20190216025111_95a4325d98771665ae299e92d7c80fc7.png?w=1142\u0026h=96 \"QQ20190216-025046@2x.png\")](/static/images/uploads/20190216/20190216025111_95a4325d98771665ae299e92d7c80fc7.png?w=1142\u0026h=96 \"QQ20190216-025046@2x.png\")\n\n##### 查看详细报错信息发现请求的连接是https提示urlopen打开https连接时ssl验证失败，因为我们本地并没有域名的安全证书以供验证，所以可以设置不验证证书。\n\n#### 解决方法：\n\n\u003e 有两种方式，一种是urllib.urlopen()有一个参数context,把他设成ssl._create_unverified_context或者修改现在的全局默认值。\n\n* 1：在使用urllib.urlopen()方法时传入一个上下文\n\n```\nimport ssl\ncontext = ssl._create_unverified_context()\nurllib.request.urlopen(req,context=context)\n```\n\n* 2：设置全局禁用验证\n\n```\nimport ssl\ntry:\n    _create_unverified_https_context = ssl._create_unverified_context\nexcept AttributeError:\n    # Legacy Python that doesn't verify HTTPS certificates by default\n    pass\nelse:\n    # Handle target environment that doesn't support HTTPS verification\n    ssl._create_default_https_context = _create_unverified_https_context\n```","html":"\u003ch4 id=\"h4-python-urllib-sslurllib-error-urlerror-lt-urlopen-error-ssl-certificate_verify_failed-certificate-verify-failed-unable-to-get-local-issuer-certificate-_ssl-c-1056-gt-\"\u003e\u003ca name=\"python网络请求使用urllib模块报错：SSLurllib.error.URLError: \u0026lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)\u0026gt;\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epython网络请求使用urllib模块报错：SSLurllib.error.URLError: \u0026lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)\u0026gt;\u003c/h4\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190216/20190216025111_95a4325d98771665ae299e92d7c80fc7.png?w=1142\u0026amp;h=96\" title=\"QQ20190216-025046\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190216/20190216025111_95a4325d98771665ae299e92d7c80fc7.png?w=1142\u0026amp;h=96\" alt=\"QQ20190216-025046\u0026#64;2x.png\" title=\"QQ20190216-025046\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190216-025046\u0026#64;2x.png\"\u003eQQ20190216-025046\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5 id=\"h5--https-urlopen-https-ssl-\"\u003e\u003ca name=\"查看详细报错信息发现请求的连接是https提示urlopen打开https连接时ssl验证失败，因为我们本地并没有域名的安全证书以供验证，所以可以设置不验证证书。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看详细报错信息发现请求的连接是https提示urlopen打开https连接时ssl验证失败，因为我们本地并没有域名的安全证书以供验证，所以可以设置不验证证书。\u003c/h5\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e有两种方式，一种是urllib.urlopen()有一个参数context,把他设成ssl._create_unverified_context或者修改现在的全局默认值。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e1：在使用urllib.urlopen()方法时传入一个上下文\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eimport ssl\ncontext = ssl._create_unverified_context()\nurllib.request.urlopen(req,context=context)\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：设置全局禁用验证\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eimport ssl\ntry:\n    _create_unverified_https_context = ssl._create_unverified_context\nexcept AttributeError:\n    # Legacy Python that doesn\u0026#39;t verify HTTPS certificates by default\n    pass\nelse:\n    # Handle target environment that doesn\u0026#39;t support HTTPS verification\n    ssl._create_default_https_context = _create_unverified_https_context\n\u003c/code\u003e\u003c/pre\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c6578a44c1a6008d89009bc"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":3855,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-15T18:46:48.101Z"},"updateTime":{"$date":"2019-02-15T19:16:21.530Z"},"__v":0}
{"_id":{"$oid":"5c682752121c291f93358abc"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c682752121c291f93358aba","labelId":"5c682752121c291f93358abb","title":"2019-02-16 23:07:44","content":"","own":{"$oid":"5c682752121c291f93358aba"},"label":{"$oid":"5c682752121c291f93358abb"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":0,"deleted":false,"date":{"$date":"2019-02-16T15:07:44.099Z"},"updateTime":{"$date":"2019-02-16T15:07:44.099Z"},"__v":0}
{"_id":{"$oid":"5c691f32121c291f93358ac0"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c691f32121c291f93358abe","labelId":"5c691f32121c291f93358abf","title":"visual studio code配置node Debug Launch.json","content":"","own":{"$oid":"5c691f32121c291f93358abe"},"label":{"$oid":"5c691f32121c291f93358abf"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":0,"deleted":false,"date":{"$date":"2019-02-16T15:07:44.099Z"},"updateTime":{"$date":"2019-02-19T18:02:07.705Z"},"__v":0,"html":"","markDown":""}
{"_id":{"$oid":"5c6c4486103a58068ccd0305"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c691f32121c291f93358abe","labelId":"5c6c4486103a58068ccd0304","title":"visual studio code配置node Debug Launch.json","content":"\u003ch4 id=\"h4-visual-studio-code-node-debug-launch-json\"\u003e\u003ca name=\"visual studio code配置node Debug Launch.json\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003evisual studio code配置node Debug Launch.json\u003c/h4\u003e\u003ch4 id=\"h4--code-vscode-code-code-launch-json-code-\"\u003e\u003ca name=\"在项目目录下添加\u003ccode\u003e.vscode\u003c/code\u003e目录，新建\u003ccode\u003elaunch.json\u003c/code\u003e。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在项目目录下添加\u003ccode\u003e.vscode\u003c/code\u003e目录，新建\u003ccode\u003elaunch.json\u003c/code\u003e。\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e// Use IntelliSense to learn about possible attributes.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e// Hover to view descriptions of existing attributes.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"str\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"0.2.0\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"str\"\u003e\"configurations\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"str\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"str\"\u003e\"request\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"launch\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"str\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"Launch Program\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"com\"\u003e// \"program\": \"${workspaceFolder}/.eslintrc.js\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"str\"\u003e\"program\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"${workspaceFolder}/index.js\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"str\"\u003e\"skipFiles\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:[]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u914Du7F6Eu53C2u6570\"\u003e\u003ca name=\"配置参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置参数\u003c/h4\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名称\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e值\u003c/th\u003e\n\u003cth\u003e备注\u003c/th\u003e\n\u003cth\u003e默认值\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eprotocol\u003c/td\u003e\n\u003ctd\u003e使用的调试协议。参见上面支持类节点运行时一节。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eport\u003c/td\u003e\n\u003ctd\u003e要使用的调试端口。参见附加到Node.js和远程调试的部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eaddress\u003c/td\u003e\n\u003ctd\u003e调试端口的TCP/IP地址。参见附加到Node.js和远程调试的部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoutFiles\u003c/td\u003e\n\u003ctd\u003e定位生成的JavaScript文件的glob模式数组。参见源映射部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etimeout\u003c/td\u003e\n\u003ctd\u003e当重新启动会话时，在此毫秒数之后放弃。参见附加到Node.js的部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etype\u003c/td\u003e\n\u003ctd\u003e要调试的代码类型\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003erequest\u003c/td\u003e\n\u003ctd\u003e启动请求类型\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ename\u003c/td\u003e\n\u003ctd\u003e控制台显示的调试的名字\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eprogram\u003c/td\u003e\n\u003ctd\u003e要调试的Node.js程序的绝对路径。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e“${workspaceFolder}”\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eskipFiles\u003c/td\u003e\n\u003ctd\u003ejs调试有一个特性可以避免你不想单步调试的源代码(也就是“我的代码”)。启动配置中的skipFiles属性可以启用此功能。skipFiles是脚本路径要跳过的glob模式数组。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eargs\u003c/td\u003e\n\u003ctd\u003e传递给要调试的程序的参数。此属性的类型为array，并期望单个参数作为数组元素。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ecwd\u003c/td\u003e\n\u003ctd\u003e启动要在此目录中调试的程序。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eenv\u003c/td\u003e\n\u003ctd\u003e可选的环境变量。此属性期望环境变量作为字符串类型的键/值对的列表。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eenvFile\u003c/td\u003e\n\u003ctd\u003e包含环境变量定义的文件的可选路径。参见下面从外部文件加载环境变量一节。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003econsole\u003c/td\u003e\n\u003ctd\u003e启动程序的控制台类型(internalConsole, integratedTerminal, externalTerminal)。参见下面的节节点控制台\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eruntimeExecutable\u003c/td\u003e\n\u003ctd\u003e要使用的运行时可执行文件的绝对路径。默认是节点。参见“npm”和其他工具的启动配置支持小节。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e“npm”\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch4 id=\"h4-u5E38u91CF\"\u003e\u003ca name=\"常量\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e常量\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e${workspaceFolder}            当前打开的工程路径\u003c/li\u003e\u003cli\u003e${file}                                当前打开的文件路径\u003c/li\u003e\u003cli\u003e${fileBasename}                当前打开的文件名，包含后缀\u003c/li\u003e\u003cli\u003e${fileDirname}                当前打开文件所在的文件夹路径\u003c/li\u003e\u003cli\u003e${fileExtname}                当前打开文件的后缀名\u003c/li\u003e\u003cli\u003e${cwd}                            当前执行的目录\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4--https-code-visualstudio-com-docs-nodejs-nodejs-debugging\"\u003e\u003ca name=\"更多配置参数请查看文档：  https://code.visualstudio.com/docs/nodejs/nodejs-debugging\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e更多配置参数请查看文档：\u003ca href=\"https://code.visualstudio.com/docs/nodejs/nodejs-debugging\" title=\"https://code.visualstudio.com/docs/nodejs/nodejs-debugging\"\u003ehttps://code.visualstudio.com/docs/nodejs/nodejs-debugging\u003c/a\u003e\u003c/h4\u003e","own":{"$oid":"5c691f32121c291f93358abe"},"label":{"$oid":"5c6c4486103a58068ccd0304"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":5767,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-19T18:01:42.506Z"},"updateTime":{"$date":"2019-03-02T17:54:41.383Z"},"__v":0,"html":"\u003ch4 id=\"h4-visual-studio-code-node-debug-launch-json\"\u003e\u003ca name=\"visual studio code配置node Debug Launch.json\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003evisual studio code配置node Debug Launch.json\u003c/h4\u003e\u003ch4 id=\"h4--code-vscode-code-code-launch-json-code-\"\u003e\u003ca name=\"在项目目录下添加\u003ccode\u003e.vscode\u003c/code\u003e目录，新建\u003ccode\u003elaunch.json\u003c/code\u003e。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在项目目录下添加\u003ccode\u003e.vscode\u003c/code\u003e目录，新建\u003ccode\u003elaunch.json\u003c/code\u003e。\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003e{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \u0026quot;version\u0026quot;: \u0026quot;0.2.0\u0026quot;,\n    \u0026quot;configurations\u0026quot;: [\n        {\n            \u0026quot;type\u0026quot;: \u0026quot;node\u0026quot;,\n            \u0026quot;request\u0026quot;: \u0026quot;launch\u0026quot;,\n            \u0026quot;name\u0026quot;: \u0026quot;Launch Program\u0026quot;,\n            // \u0026quot;program\u0026quot;: \u0026quot;${workspaceFolder}/.eslintrc.js\u0026quot;\n            \u0026quot;program\u0026quot;: \u0026quot;${workspaceFolder}/index.js\u0026quot;,\n            \u0026quot;skipFiles\u0026quot;:[]\n        }\n    ]\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u914Du7F6Eu53C2u6570\"\u003e\u003ca name=\"配置参数\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置参数\u003c/h4\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名称\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e值\u003c/th\u003e\n\u003cth\u003e备注\u003c/th\u003e\n\u003cth\u003e默认值\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eprotocol\u003c/td\u003e\n\u003ctd\u003e使用的调试协议。参见上面支持类节点运行时一节。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eport\u003c/td\u003e\n\u003ctd\u003e要使用的调试端口。参见附加到Node.js和远程调试的部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eaddress\u003c/td\u003e\n\u003ctd\u003e调试端口的TCP/IP地址。参见附加到Node.js和远程调试的部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoutFiles\u003c/td\u003e\n\u003ctd\u003e定位生成的JavaScript文件的glob模式数组。参见源映射部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etimeout\u003c/td\u003e\n\u003ctd\u003e当重新启动会话时，在此毫秒数之后放弃。参见附加到Node.js的部分。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etype\u003c/td\u003e\n\u003ctd\u003e要调试的代码类型\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003erequest\u003c/td\u003e\n\u003ctd\u003e启动请求类型\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ename\u003c/td\u003e\n\u003ctd\u003e控制台显示的调试的名字\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eprogram\u003c/td\u003e\n\u003ctd\u003e要调试的Node.js程序的绝对路径。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e“${workspaceFolder}”\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eskipFiles\u003c/td\u003e\n\u003ctd\u003ejs调试有一个特性可以避免你不想单步调试的源代码(也就是“我的代码”)。启动配置中的skipFiles属性可以启用此功能。skipFiles是脚本路径要跳过的glob模式数组。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eargs\u003c/td\u003e\n\u003ctd\u003e传递给要调试的程序的参数。此属性的类型为array，并期望单个参数作为数组元素。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ecwd\u003c/td\u003e\n\u003ctd\u003e启动要在此目录中调试的程序。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eenv\u003c/td\u003e\n\u003ctd\u003e可选的环境变量。此属性期望环境变量作为字符串类型的键/值对的列表。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eenvFile\u003c/td\u003e\n\u003ctd\u003e包含环境变量定义的文件的可选路径。参见下面从外部文件加载环境变量一节。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003econsole\u003c/td\u003e\n\u003ctd\u003e启动程序的控制台类型(internalConsole, integratedTerminal, externalTerminal)。参见下面的节节点控制台\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eruntimeExecutable\u003c/td\u003e\n\u003ctd\u003e要使用的运行时可执行文件的绝对路径。默认是节点。参见“npm”和其他工具的启动配置支持小节。\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e“npm”\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch4 id=\"h4-u5E38u91CF\"\u003e\u003ca name=\"常量\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e常量\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e${workspaceFolder}            当前打开的工程路径\u003c/li\u003e\u003cli\u003e${file}                                当前打开的文件路径\u003c/li\u003e\u003cli\u003e${fileBasename}                当前打开的文件名，包含后缀\u003c/li\u003e\u003cli\u003e${fileDirname}                当前打开文件所在的文件夹路径\u003c/li\u003e\u003cli\u003e${fileExtname}                当前打开文件的后缀名\u003c/li\u003e\u003cli\u003e${cwd}                            当前执行的目录\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4--https-code-visualstudio-com-docs-nodejs-nodejs-debugging\"\u003e\u003ca name=\"更多配置参数请查看文档：  https://code.visualstudio.com/docs/nodejs/nodejs-debugging\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e更多配置参数请查看文档：\u003ca href=\"https://code.visualstudio.com/docs/nodejs/nodejs-debugging\" title=\"https://code.visualstudio.com/docs/nodejs/nodejs-debugging\"\u003ehttps://code.visualstudio.com/docs/nodejs/nodejs-debugging\u003c/a\u003e\u003c/h4\u003e","markDown":"#### visual studio code配置node Debug Launch.json\n\n#### 在项目目录下添加```.vscode```目录，新建```launch.json```。\n\n```\n{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"node\",\n            \"request\": \"launch\",\n            \"name\": \"Launch Program\",\n            // \"program\": \"${workspaceFolder}/.eslintrc.js\"\n            \"program\": \"${workspaceFolder}/index.js\",\n            \"skipFiles\":[]\n        }\n    ]\n}\n```\n\n#### 配置参数\n\n|  名称  |  描述  |  值  |  备注  |  默认值  |\n|----|----|----|----|----|\n|  protocol  |  使用的调试协议。参见上面支持类节点运行时一节。  |    |    |    |\n|  port  |  要使用的调试端口。参见附加到Node.js和远程调试的部分。  |    |    |    |\n|  address   |  调试端口的TCP/IP地址。参见附加到Node.js和远程调试的部分。  |    |    |    |\n|  outFiles   |  定位生成的JavaScript文件的glob模式数组。参见源映射部分。  |    |    |    |\n|  timeout   |  当重新启动会话时，在此毫秒数之后放弃。参见附加到Node.js的部分。  |    |    |    |\n|  type  |  要调试的代码类型  |    |    |    |\n|  request  |  启动请求类型  |    |    |    |\n|  name  |  控制台显示的调试的名字  |    |    |    |\n|  program  |  要调试的Node.js程序的绝对路径。  |    |    |  \"${workspaceFolder}\"  |\n|  skipFiles  |  js调试有一个特性可以避免你不想单步调试的源代码(也就是“我的代码”)。启动配置中的skipFiles属性可以启用此功能。skipFiles是脚本路径要跳过的glob模式数组。  |    |    |    |\n|  args   |  传递给要调试的程序的参数。此属性的类型为array，并期望单个参数作为数组元素。  |    |    |    |\n|  cwd   |  启动要在此目录中调试的程序。  |    |    |    |\n|  env   |  可选的环境变量。此属性期望环境变量作为字符串类型的键/值对的列表。  |    |    |    |\n|  envFile  |  包含环境变量定义的文件的可选路径。参见下面从外部文件加载环境变量一节。  |    |    |    |\n|  console  |  启动程序的控制台类型(internalConsole, integratedTerminal, externalTerminal)。参见下面的节节点控制台  |    |    |    |\n|  runtimeExecutable   |  要使用的运行时可执行文件的绝对路径。默认是节点。参见“npm”和其他工具的启动配置支持小节。  |    |    |  \"npm\"  |\n\n#### 常量\n\n* ${workspaceFolder}\u0009\u0009\u0009当前打开的工程路径\n* ${file}\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009当前打开的文件路径\n* ${fileBasename}\u0009\u0009\u0009\u0009当前打开的文件名，包含后缀\n* ${fileDirname}\u0009\u0009\u0009\u0009当前打开文件所在的文件夹路径\n* ${fileExtname}\u0009\u0009\u0009\u0009当前打开文件的后缀名\n* ${cwd}\u0009\u0009\u0009\u0009\u0009\u0009\u0009当前执行的目录\n\n#### 更多配置参数请查看文档：[https://code.visualstudio.com/docs/nodejs/nodejs-debugging](https://code.visualstudio.com/docs/nodejs/nodejs-debugging 'https://code.visualstudio.com/docs/nodejs/nodejs-debugging')"}
{"_id":{"$oid":"5c72bacb969467061802c72f"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c72bacb969467061802c72e","title":"Centos7.0源码安装MariaDB","content":"\u003ch1 id=\"h1-centos7-0-mariadb\"\u003e\u003ca name=\"Centos7.0源码安装MariaDB\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7.0源码安装MariaDB\u003c/h1\u003e\u003ch3 id=\"h3--mariadb\"\u003e\u003ca name=\"下载MariaDB\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载MariaDB\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewget https\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//mirrors.shu.edu.cn/mariadb//mariadb-10.3.13/source/mariadb-10.3.13.tar.gz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u5378u8F7Du7CFBu7EDFu4E2Du7684u65E7u7248u672C\"\u003e\u003ca name=\"卸载系统中的旧版本\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e卸载系统中的旧版本\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e查找默认配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e find \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eH \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep \u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epki\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etls\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecerts\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edummy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecert\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epki\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etls\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecerts\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003erenew\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edummy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecert\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eclients\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e删除默认数据库配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e rm \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erf \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e再次查看默认数据库配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e find \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eH \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep \u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epki\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etls\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecerts\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edummy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecert\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epki\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etls\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecerts\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003erenew\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edummy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecert\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mariadb-libs\"\u003e\u003ca name=\"卸载系统自带mariadb-libs\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e卸载系统自带mariadb-libs\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e查找系统中的软件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e rpm \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eqa\u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003egrep mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibs\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e5.5\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e52\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.el7.x86\u003c/span\u003e\u003cspan class=\"pln\"\u003e_64\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e卸载系统中安装的软件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e rpm \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ee mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibs\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e5.5\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e52\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.el7.x86\u003c/span\u003e\u003cspan class=\"pln\"\u003e_64 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003enodeps\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u5B89u88C5u4F9Du8D56u5305\"\u003e\u003ca name=\"安装依赖包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装依赖包\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e yum \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey install libaio\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel bison bison\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel zlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel openssl openssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel ncurses ncurses\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libcurl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libarchive\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel boost boost\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel  lsof wget gcc gcc\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e++\u003c/span\u003e\u003cspan class=\"pln\"\u003e make cmakeperlkernel\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheaderskernel\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel pcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mariadb-\"\u003e\u003ca name=\"创建MariaDB安装目录、数据库存放目录、建立用户和目录\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e创建MariaDB安装目录、数据库存放目录、建立用户和目录\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e这里提前预定MariaDB的安装目录为/usr/local/mysql并且数据库目录为/data/mysql，这里要建立系统用户及组和数据库存放目录，并且将数据库存放目录赋予mysql用户及组权限，操作如下:\u003cbr\u003e请注意特别说明一下：这里说的数据库目录是指的具体数据库存储文件, 而不是安装文件!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e创建mysql系统用户组\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e groupadd \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003er mysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建系统用户mysql并加入到mysql系统用户组\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e useradd \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003er \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eg mysql \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003es \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esbin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enologin \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ed \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eM mysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003ch5 id=\"h5--mysql-\"\u003e\u003ca name=\"以下是上面创建系统用户mysql的各个参数说明：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e以下是上面创建系统用户mysql的各个参数说明：\u003c/h5\u003e\u003cp\u003e-r: 添加系统用户( 这里指将要被创建的系统用户mysql )\u003cbr\u003e-g: 指定要创建的用户所属组( 这里指添加到新系统用户mysql到mysql系统用户组 )\u003cbr\u003e-s: 新系统帐户的登录shell( /sbin/nologin 这里设置为将要被创建系统用户mysql不能用来登录系统 )\u003cbr\u003e-d: 新帐户的主目录( 这里指定将要被创建的系统用户mysql的家目录为 /usr/local/mysql )\u003cbr\u003e-M: 不要创建用户的主目录( 也就是说将要被创建的系统用户mysql不会在 /home 目录下创建 mysql 家目录 )\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e创建maria安装目录\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建数据库存放目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edata\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e改变数据库存放目录所属用户及组为 mysql:mysql\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost tmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edata\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u7F16u8BD1u6E90u7801\"\u003e\u003ca name=\"编译源码\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e编译源码\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e解压软件包并进入目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e13.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e13\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e编译源代码\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e13\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cmake \u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eDCMAKE_INSTALL_PREFIX\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eDMYSQL_DATADIR\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/data/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eDSYSCONFDIR\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/etc -DWITHOUT_TOKUDB=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STPRAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWIYH_READLINE=1 -DWIYH_SSL=system -DVITH_ZLIB=system -DWITH_LOBWRAP=0 -DMYSQL_UNIX_ADDR=/\u003c/span\u003e\u003cspan class=\"pln\"\u003etmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esock \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eDDEFAULT_CHARSET\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8 \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eDDEFAULT_COLLATION\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8_general_ci\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e13\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e makle\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e13\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e make install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u9A8Cu8BC1u5B89u88C5\"\u003e\u003ca name=\"验证安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证安装\u003c/h3\u003e\u003ch3 id=\"h3-u914Du7F6E\"\u003e\u003ca name=\"配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e1：安装mysql数据库\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e进入安装目录，使用\u003ccode\u003emysql\u003c/code\u003e用户执行脚本, 安装数据库到数据库存放目录。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e10.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e13\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emariadb\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e scripts\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql_install_db \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edatadir\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/data/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eInstalling\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"typ\"\u003eMySQL\u003c/span\u003e\u003cspan class=\"pln\"\u003e system tables \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/usr/local/mariadb/data/mysql'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eOK\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTo\u003c/span\u003e\u003cspan class=\"pln\"\u003e start mysqld at boot time you have to copy\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esupport\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efiles\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eserver to the right place \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e your system\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ePLEASE REMEMBER TO SET A PASSWORD FOR THE \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e root USER \u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTo\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003edo\u003c/span\u003e\u003cspan class=\"pln\"\u003e so\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e start the server\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003ethen\u003c/span\u003e\u003cspan class=\"pln\"\u003e issue the following commands\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e'./bin/mysqladmin'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eu root password \u003c/span\u003e\u003cspan class=\"str\"\u003e'new-password'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e'./bin/mysqladmin'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eu root \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eh localhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elocaldomain password \u003c/span\u003e\u003cspan class=\"str\"\u003e'new-password'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eAlternatively\u003c/span\u003e\u003cspan class=\"pln\"\u003e you can run\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e'./bin/mysql_secure_installation'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewhich will also give you the option of removing the test\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003edatabases \u003c/span\u003e\u003cspan class=\"kwd\"\u003eand\u003c/span\u003e\u003cspan class=\"pln\"\u003e anonymous user created \u003c/span\u003e\u003cspan class=\"kwd\"\u003eby\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003edefault\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eThis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003estrongly recommended \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e production servers\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSee\u003c/span\u003e\u003cspan class=\"pln\"\u003e the \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eKnowledgebase\u003c/span\u003e\u003cspan class=\"pln\"\u003e at http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//mariadb.com/kb or the\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eMySQL\u003c/span\u003e\u003cspan class=\"pln\"\u003e manual \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e more instructions\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eYou\u003c/span\u003e\u003cspan class=\"pln\"\u003e can start the \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e daemon \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecd \u003c/span\u003e\u003cspan class=\"str\"\u003e'.'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqld_safe \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edatadir\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e'/usr/local/mariadb/data/mysql'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eYou\u003c/span\u003e\u003cspan class=\"pln\"\u003e can test the \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e daemon \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pln\"\u003e mysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003etest\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erun\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecd \u003c/span\u003e\u003cspan class=\"str\"\u003e'./mysql-test'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e perl mysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003etest\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erun\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003ePlease\u003c/span\u003e\u003cspan class=\"pln\"\u003e report any problems at http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//mariadb.org/jira\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e latest information about \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e available at http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//mariadb.org/.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eYou\u003c/span\u003e\u003cspan class=\"pln\"\u003e can find additional information about the \u003c/span\u003e\u003cspan class=\"typ\"\u003eMySQL\u003c/span\u003e\u003cspan class=\"pln\"\u003e part at\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ehttp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//dev.mysql.com\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eConsider\u003c/span\u003e\u003cspan class=\"pln\"\u003e joining \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"str\"\u003e's strong and vibrant community:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003ehttps://mariadb.org/get-involved/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：设置mysql配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e进入安装目录下，拷贝support-files目录下的文件my-large.cnf到/etc目录并重命名为my.cnf\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cp support\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efiles\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elarge\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e3： 创建启动脚本\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e将support-files目录下的文件mysql.serve复制到/etc/init.d/mysqld\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cp support\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efiles\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eserver \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003einit\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e4：配置环境变量, 以便在任何目录下输入mysql\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在/etc/profile.d下新建mysql.sh，添加mysql执行目录到环境变量中。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eprofile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost profile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e vim mysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esh\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eexport\u003c/span\u003e\u003cspan class=\"pln\"\u003e PATH\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e$PATH\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost profile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e chmod \u003c/span\u003e\u003cspan class=\"lit\"\u003e0777\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eprofile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esh\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost profile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e source \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eprofile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esh\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e5：初始化mysql\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost bin\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql_secure_installation\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eNOTE\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      SERVERS IN PRODUCTION USE\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e  PLEASE READ EACH STEP CAREFULLY\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eIn\u003c/span\u003e\u003cspan class=\"pln\"\u003e order to log \u003c/span\u003e\u003cspan class=\"kwd\"\u003einto\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e to secure it\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e we\u003c/span\u003e\u003cspan class=\"str\"\u003e'll need the current\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003epassword for the root user.  If you'\u003c/span\u003e\u003cspan class=\"pln\"\u003eve just installed \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eand\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eyou haven\u003c/span\u003e\u003cspan class=\"str\"\u003e't set the root password yet, the password will be blank,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eso you should just press enter here.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eEnter current password for root (enter for none): \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eERROR 1045 (28000): Access denied for user '\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot\u003c/span\u003e\u003cspan class=\"str\"\u003e'@'\u003c/span\u003e\u003cspan class=\"pln\"\u003elocalhost\u003c/span\u003e\u003cspan class=\"str\"\u003e' (using password: YES)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eEnter current password for root (enter for none): \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eERROR 1045 (28000): Access denied for user '\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot\u003c/span\u003e\u003cspan class=\"str\"\u003e'@'\u003c/span\u003e\u003cspan class=\"pln\"\u003elocalhost\u003c/span\u003e\u003cspan class=\"str\"\u003e' (using password: YES)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eEnter current password for root (enter for none): \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eERROR 1045 (28000): Access denied for user '\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot\u003c/span\u003e\u003cspan class=\"str\"\u003e'@'\u003c/span\u003e\u003cspan class=\"pln\"\u003elocalhost\u003c/span\u003e\u003cspan class=\"str\"\u003e' (using password: YES)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eEnter current password for root (enter for none): \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eOK, successfully used password, moving on...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eSetting the root password ensures that nobody can log into the MariaDB\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eroot user without the proper authorisation.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eSet root password? [Y/n] \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eNew password: \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eRe-enter new password: \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003ePassword updated successfully!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eReloading privilege tables..\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e ... Success!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eBy default, a MariaDB installation has an anonymous user, allowing anyone\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eto log into MariaDB without having to have a user account created for\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003ethem.  This is intended only for testing, and to make the installation\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003ego a bit smoother.  You should remove them before moving into a\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eproduction environment.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eRemove anonymous users? [Y/n] y\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e ... Success!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eNormally, root should only be allowed to connect from '\u003c/span\u003e\u003cspan class=\"pln\"\u003elocalhost\u003c/span\u003e\u003cspan class=\"str\"\u003e'.  This\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eensures that someone cannot guess at the root password from the network.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eDisallow root login remotely? [Y/n] n\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e ... skipping.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eBy default, MariaDB comes with a database named '\u003c/span\u003e\u003cspan class=\"pln\"\u003etest\u003c/span\u003e\u003cspan class=\"str\"\u003e' that anyone can\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eaccess.  This is also intended only for testing, and should be removed\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003ebefore moving into a production environment.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eRemove test database and access to it? [Y/n] y\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e - Dropping test database...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e ... Success!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e - Removing privileges on test database...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e ... Success!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eReloading the privilege tables will ensure that all changes made so far\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003ewill take effect immediately.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eReload privilege tables now? [Y/n] y\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e ... Success!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eCleaning up...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eAll done!  If you'\u003c/span\u003e\u003cspan class=\"pln\"\u003eve completed all of the above steps\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e your \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003einstallation should now be secure\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eThanks\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eusing\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e6：修改mysql密码\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e7：开启binlog日志\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e8：设置外部访问\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost mariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mysql-\"\u003e\u003ca name=\"启动mysql服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e启动mysql服务\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost profile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003einit\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqld start\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eReloading\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e                                         \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e  OK  \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eStarting\u003c/span\u003e\u003cspan class=\"pln\"\u003e mysqld \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003evia systemctl\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e                           \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e  OK  \u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mysql-\"\u003e\u003ca name=\"进入mysql客户端\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e进入mysql客户端\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost bin\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e mysql \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eu root \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eEnter\u003c/span\u003e\u003cspan class=\"pln\"\u003e password\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eWelcome\u003c/span\u003e\u003cspan class=\"pln\"\u003e to the \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e monitor\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eCommands\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eend\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eor\u003c/span\u003e\u003cspan class=\"pln\"\u003e \\g\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eYour\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e connection id \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e19\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eServer\u003c/span\u003e\u003cspan class=\"pln\"\u003e version\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e13\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSource\u003c/span\u003e\u003cspan class=\"pln\"\u003e distribution\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCopyright\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e2000\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e2018\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eOracle\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eCorporation\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAb\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eand\u003c/span\u003e\u003cspan class=\"pln\"\u003e others\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'help;'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eor\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'\\h'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e help\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'\\c'\u003c/span\u003e\u003cspan class=\"pln\"\u003e to clear the current input statement\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eMariaDB\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[(\u003c/span\u003e\u003cspan class=\"pln\"\u003enone\u003c/span\u003e\u003cspan class=\"pun\"\u003e)]\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003e参数\u003cbr\u003e-u 登录数据库的用户名\u003cbr\u003e-p 登录数据库的用户密码\u003cbr\u003e-h 登录数据库的地址，默认：localhost\u003cbr\u003e-P 登录数据库的端口\u003cbr\u003e更多参数具体含义请参数 mysql —help 进行查看!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3--mysql-\"\u003e\u003ca name=\"设置mysql服务开机启动\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e设置mysql服务开机启动\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在centos7中服务不在是用service这个命令来启动与停止，也不再用chkconfig来设置开机启动与否！在centos7中所有对服务的管理都集中到了systemctl当中；systemctl不再是合之前一样依赖/etc/init.d/下的脚本，它是通过配置文件来完成对服务的管理的；\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e创建systemctl管理mysql的配置文件：\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost bin\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e vim \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elib\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystem\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eUnit\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDescription\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"typ\"\u003eMySQL\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eServer\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDocumentation\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eman\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqld\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e8\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDocumentation\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//dev.mysql.com/doc/refman/en/using-systemd.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eAfter\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003enetwork\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eAfter\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003esyslog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eInstall\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eWantedBy\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emulti\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eService\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUser\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eGroup\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eExecStart\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqld \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edefaults\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/etc/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLimitNOFILE\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e5000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#Restart=on-failure\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#RestartPreventExitStatus=1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#PrivateTmp=false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e通过systemctl来启动mysql服务\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost system\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemctl start mysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost system\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e netstat \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003entlp \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep \u003c/span\u003e\u003cspan class=\"lit\"\u003e3306\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etcp        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e3306\u003c/span\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.0\u003c/span\u003e\u003cspan class=\"pun\"\u003e:*\u003c/span\u003e\u003cspan class=\"pln\"\u003e               LISTEN      \u003c/span\u003e\u003cspan class=\"lit\"\u003e3853\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqld         \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost system\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e ps \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eef \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep mysqld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emysql     \u003c/span\u003e\u003cspan class=\"lit\"\u003e3853\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e02\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e37\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e?\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e00\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e00\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e00\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emariadb\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqld \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edefaults\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/etc/\u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecnf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eroot      \u003c/span\u003e\u003cspan class=\"lit\"\u003e3888\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10939\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e02\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e38\u003c/span\u003e\u003cspan class=\"pln\"\u003e pts\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e00\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e00\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e00\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"kwd\"\u003eauto\u003c/span\u003e\u003cspan class=\"pln\"\u003e mysqld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e通过systemctl 来设置mysql开机启动：\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost system\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemctl enable mysql\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCreated\u003c/span\u003e\u003cspan class=\"pln\"\u003e symlink \u003c/span\u003e\u003cspan class=\"kwd\"\u003efrom\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystem\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emulti\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ewants\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice to \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elib\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystem\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--centos7-mariadb-\"\u003e\u003ca name=\"至此在Centos7上源码编译安装MariaDB完成。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e至此在Centos7上源码编译安装MariaDB完成。\u003c/h4\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c72bacb969467061802c72e"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":47397,"type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-24T15:39:55.512Z"},"updateTime":{"$date":"2019-02-24T18:40:49.860Z"},"__v":0,"html":"\u003ch1 id=\"h1-centos7-0-mariadb\"\u003e\u003ca name=\"Centos7.0源码安装MariaDB\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7.0源码安装MariaDB\u003c/h1\u003e\u003ch3 id=\"h3--mariadb\"\u003e\u003ca name=\"下载MariaDB\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载MariaDB\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003ewget https://mirrors.shu.edu.cn/mariadb//mariadb-10.3.13/source/mariadb-10.3.13.tar.gz\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u5378u8F7Du7CFBu7EDFu4E2Du7684u65E7u7248u672C\"\u003e\u003ca name=\"卸载系统中的旧版本\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e卸载系统中的旧版本\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e查找默认配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# find -H /etc/ | grep my.c\n/etc/pki/tls/certs/make-dummy-cert\n/etc/pki/tls/certs/renew-dummy-cert\n/etc/my.cnf.d\n/etc/my.cnf.d/mysql-clients.cnf\n/etc/my.cnf\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e删除默认数据库配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# rm -rf /etc/my.cnf /etc/my.cnf.d/\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e再次查看默认数据库配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# find -H /etc/ | grep my.c\n/etc/pki/tls/certs/make-dummy-cert\n/etc/pki/tls/certs/renew-dummy-cert\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mariadb-libs\"\u003e\u003ca name=\"卸载系统自带mariadb-libs\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e卸载系统自带mariadb-libs\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e查找系统中的软件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# rpm -qa|grep mariadb-libs\nmariadb-libs-5.5.52-1.el7.x86_64\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e卸载系统中安装的软件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# rpm -e mariadb-libs-5.5.52-1.el7.x86_64 --nodeps\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u5B89u88C5u4F9Du8D56u5305\"\u003e\u003ca name=\"安装依赖包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装依赖包\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# yum -y install libaio-devel bison bison-devel zlib-devel openssl openssl-devel ncurses ncurses-devel libcurl-devel libarchive-devel boost boost-devel  lsof wget gcc gcc-c++ make cmakeperlkernel-headerskernel-devel pcre-devel\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mariadb-\"\u003e\u003ca name=\"创建MariaDB安装目录、数据库存放目录、建立用户和目录\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e创建MariaDB安装目录、数据库存放目录、建立用户和目录\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e这里提前预定MariaDB的安装目录为/usr/local/mysql并且数据库目录为/data/mysql，这里要建立系统用户及组和数据库存放目录，并且将数据库存放目录赋予mysql用户及组权限，操作如下:\u003cbr\u003e请注意特别说明一下：这里说的数据库目录是指的具体数据库存储文件, 而不是安装文件!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e创建mysql系统用户组\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# groupadd -r mysql\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建系统用户mysql并加入到mysql系统用户组\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# useradd -r -g mysql -s /sbin/nologin -d /usr/local/mysql -M mysql\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003ch5 id=\"h5--mysql-\"\u003e\u003ca name=\"以下是上面创建系统用户mysql的各个参数说明：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e以下是上面创建系统用户mysql的各个参数说明：\u003c/h5\u003e\u003cp\u003e-r: 添加系统用户( 这里指将要被创建的系统用户mysql )\u003cbr\u003e-g: 指定要创建的用户所属组( 这里指添加到新系统用户mysql到mysql系统用户组 )\u003cbr\u003e-s: 新系统帐户的登录shell( /sbin/nologin 这里设置为将要被创建系统用户mysql不能用来登录系统 )\u003cbr\u003e-d: 新帐户的主目录( 这里指定将要被创建的系统用户mysql的家目录为 /usr/local/mysql )\u003cbr\u003e-M: 不要创建用户的主目录( 也就是说将要被创建的系统用户mysql不会在 /home 目录下创建 mysql 家目录 )\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e创建maria安装目录\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# mkdir -p /usr/local/mysql\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建数据库存放目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# mkdir -p /data/mysql\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e改变数据库存放目录所属用户及组为 mysql:mysql\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost tmp]# mkdir -p /data/mysql\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u7F16u8BD1u6E90u7801\"\u003e\u003ca name=\"编译源码\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e编译源码\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e解压软件包并进入目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003etar -zxvf mariadb-10.3.13.tar.gz \u0026amp;\u0026amp; cd mariadb-10.3.13\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e编译源代码\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb-10.3.13]# cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/data/mysql -DSYSCONFDIR=/etc -DWITHOUT_TOKUDB=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STPRAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWIYH_READLINE=1 -DWIYH_SSL=system -DVITH_ZLIB=system -DWITH_LOBWRAP=0 -DMYSQL_UNIX_ADDR=/tmp/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci\n[root@localhost mariadb-10.3.13]# makle\n[root@localhost mariadb-10.3.13]# make install\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u9A8Cu8BC1u5B89u88C5\"\u003e\u003ca name=\"验证安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e验证安装\u003c/h3\u003e\u003ch3 id=\"h3-u914Du7F6E\"\u003e\u003ca name=\"配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e1：安装mysql数据库\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e进入安装目录，使用\u003ccode\u003emysql\u003c/code\u003e用户执行脚本, 安装数据库到数据库存放目录。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb-10.3.13]# cd /usr/local/mariadb\n[root@localhost mariadb]# scripts/mysql_install_db --user=mysql --datadir=/data/mysql\nInstalling MariaDB/MySQL system tables in \u0026#39;/usr/local/mariadb/data/mysql\u0026#39; ...\nOK\n\nTo start mysqld at boot time you have to copy\nsupport-files/mysql.server to the right place for your system\n\n\nPLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !\nTo do so, start the server, then issue the following commands:\n\n\u0026#39;./bin/mysqladmin\u0026#39; -u root password \u0026#39;new-password\u0026#39;\n\u0026#39;./bin/mysqladmin\u0026#39; -u root -h localhost.localdomain password \u0026#39;new-password\u0026#39;\n\nAlternatively you can run:\n\u0026#39;./bin/mysql_secure_installation\u0026#39;\n\nwhich will also give you the option of removing the test\ndatabases and anonymous user created by default.  This is\nstrongly recommended for production servers.\n\nSee the MariaDB Knowledgebase at http://mariadb.com/kb or the\nMySQL manual for more instructions.\n\nYou can start the MariaDB daemon with:\ncd \u0026#39;.\u0026#39; ; ./bin/mysqld_safe --datadir=\u0026#39;/usr/local/mariadb/data/mysql\u0026#39;\n\nYou can test the MariaDB daemon with mysql-test-run.pl\ncd \u0026#39;./mysql-test\u0026#39; ; perl mysql-test-run.pl\n\nPlease report any problems at http://mariadb.org/jira\n\nThe latest information about MariaDB is available at http://mariadb.org/.\nYou can find additional information about the MySQL part at:\nhttp://dev.mysql.com\nConsider joining MariaDB\u0026#39;s strong and vibrant community:\nhttps://mariadb.org/get-involved/\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e2：设置mysql配置文件\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e进入安装目录下，拷贝support-files目录下的文件my-large.cnf到/etc目录并重命名为my.cnf\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb]# cd /usr/local/mariadb/\n[root@localhost mariadb]# cp support-files/my-large.cnf /etc/my.cnf\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e3： 创建启动脚本\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e将support-files目录下的文件mysql.serve复制到/etc/init.d/mysqld\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb]# cp support-files/mysql.server /etc/init.d/mysqld\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e4：配置环境变量, 以便在任何目录下输入mysql\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在/etc/profile.d下新建mysql.sh，添加mysql执行目录到环境变量中。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb]# cd /etc/profile.d\n[root@localhost profile.d]# vim mysql.sh\nexport PATH=$PATH:/usr/local/mariadb/bin/\n[root@localhost profile.d]# chmod 0777 /etc/profile.d/mysql.sh\n[root@localhost profile.d]# source /etc/profile.d/mysql.sh\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e5：初始化mysql\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost bin]# ./mysql_secure_installation\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we\u0026#39;ll need the current\npassword for the root user.  If you\u0026#39;ve just installed MariaDB, and\nyou haven\u0026#39;t set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none): \nERROR 1045 (28000): Access denied for user \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; (using password: YES)\nEnter current password for root (enter for none): \nERROR 1045 (28000): Access denied for user \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; (using password: YES)\nEnter current password for root (enter for none): \nERROR 1045 (28000): Access denied for user \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; (using password: YES)\nEnter current password for root (enter for none): \nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n] \nNew password: \nRe-enter new password: \nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] y\n ... Success!\n\nNormally, root should only be allowed to connect from \u0026#39;localhost\u0026#39;.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] n\n ... skipping.\n\nBy default, MariaDB comes with a database named \u0026#39;test\u0026#39; that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] y\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] y\n ... Success!\n\nCleaning up...\n\nAll done!  If you\u0026#39;ve completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e6：修改mysql密码\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb]#\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e7：开启binlog日志\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb]#\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e8：设置外部访问\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost mariadb]#\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mysql-\"\u003e\u003ca name=\"启动mysql服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e启动mysql服务\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost profile.d]# /etc/init.d/mysqld start\nReloading systemd:                                         [  OK  ]\nStarting mysqld (via systemctl):                           [  OK  ]\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--mysql-\"\u003e\u003ca name=\"进入mysql客户端\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e进入mysql客户端\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost bin]# mysql -u root -p\nEnter password: \nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 19\nServer version: 10.3.13-MariaDB Source distribution\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType \u0026#39;help;\u0026#39; or \u0026#39;\\h\u0026#39; for help. Type \u0026#39;\\c\u0026#39; to clear the current input statement.\n\nMariaDB [(none)]\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003e参数\u003cbr\u003e-u 登录数据库的用户名\u003cbr\u003e-p 登录数据库的用户密码\u003cbr\u003e-h 登录数据库的地址，默认：localhost\u003cbr\u003e-P 登录数据库的端口\u003cbr\u003e更多参数具体含义请参数 mysql —help 进行查看!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3--mysql-\"\u003e\u003ca name=\"设置mysql服务开机启动\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e设置mysql服务开机启动\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在centos7中服务不在是用service这个命令来启动与停止，也不再用chkconfig来设置开机启动与否！在centos7中所有对服务的管理都集中到了systemctl当中；systemctl不再是合之前一样依赖/etc/init.d/下的脚本，它是通过配置文件来完成对服务的管理的；\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e创建systemctl管理mysql的配置文件：\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost bin]# vim /usr/lib/systemd/system/mysql.service\n[Unit]\nDescription=MySQL Server\nDocumentation=man:mysqld(8)\nDocumentation=http://dev.mysql.com/doc/refman/en/using-systemd.html\nAfter=network.target\nAfter=syslog.target\n\n[Install]\nWantedBy=multi-user.target\n\n[Service]\nUser=mysql\nGroup=mysql\nExecStart=/usr/local/mysql/bin/mysqld --defaults-file=/etc/my.cnf\nLimitNOFILE = 5000\n#Restart=on-failure\n#RestartPreventExitStatus=1\n#PrivateTmp=false\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e通过systemctl来启动mysql服务\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost system]# systemctl start mysql\n[root@localhost system]# netstat -ntlp | grep 3306\ntcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      3853/mysqld         \n[root@localhost system]# ps -ef | grep mysqld\nmysql     3853     1  0 02:37 ?        00:00:00 /usr/local/mariadb/bin/mysqld --defaults-file=/etc/my.cnf\nroot      3888 10939  0 02:38 pts/2    00:00:00 grep --color=auto mysqld\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e通过systemctl 来设置mysql开机启动：\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost system]# systemctl enable mysql\nCreated symlink from /etc/systemd/system/multi-user.target.wants/mysql.service to /usr/lib/systemd/system/mysql.service.\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--centos7-mariadb-\"\u003e\u003ca name=\"至此在Centos7上源码编译安装MariaDB完成。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e至此在Centos7上源码编译安装MariaDB完成。\u003c/h4\u003e","markDown":"# Centos7.0源码安装MariaDB\n\n### 下载MariaDB\n\n```\nwget https://mirrors.shu.edu.cn/mariadb//mariadb-10.3.13/source/mariadb-10.3.13.tar.gz\n```\n\n### 卸载系统中的旧版本\n\n* 查找默认配置文件\n\n```\n[root@localhost tmp]# find -H /etc/ | grep my.c\n/etc/pki/tls/certs/make-dummy-cert\n/etc/pki/tls/certs/renew-dummy-cert\n/etc/my.cnf.d\n/etc/my.cnf.d/mysql-clients.cnf\n/etc/my.cnf\n```\n\n* 删除默认数据库配置文件\n\n```\n[root@localhost tmp]# rm -rf /etc/my.cnf /etc/my.cnf.d/\n```\n\n* 再次查看默认数据库配置文件\n\n```\n[root@localhost tmp]# find -H /etc/ | grep my.c\n/etc/pki/tls/certs/make-dummy-cert\n/etc/pki/tls/certs/renew-dummy-cert\n```\n\n### 卸载系统自带mariadb-libs\n\n* 查找系统中的软件\n\n```\n[root@localhost tmp]# rpm -qa|grep mariadb-libs\nmariadb-libs-5.5.52-1.el7.x86_64\n```\n\n* 卸载系统中安装的软件\n\n```\n[root@localhost tmp]# rpm -e mariadb-libs-5.5.52-1.el7.x86_64 --nodeps\n```\n\n### 安装依赖包\n\n```\n[root@localhost tmp]# yum -y install libaio-devel bison bison-devel zlib-devel openssl openssl-devel ncurses ncurses-devel libcurl-devel libarchive-devel boost boost-devel  lsof wget gcc gcc-c++ make cmakeperlkernel-headerskernel-devel pcre-devel\n```\n\n### 创建MariaDB安装目录、数据库存放目录、建立用户和目录\n\n\u003e 这里提前预定MariaDB的安装目录为/usr/local/mysql并且数据库目录为/data/mysql，这里要建立系统用户及组和数据库存放目录，并且将数据库存放目录赋予mysql用户及组权限，操作如下:\n请注意特别说明一下：这里说的数据库目录是指的具体数据库存储文件, 而不是安装文件!\n\n* 创建mysql系统用户组\n\n```\n[root@localhost tmp]# groupadd -r mysql\n```\n\n* 创建系统用户mysql并加入到mysql系统用户组\n\n```\n[root@localhost tmp]# useradd -r -g mysql -s /sbin/nologin -d /usr/local/mysql -M mysql\n```\n\n* \u003e ##### 以下是上面创建系统用户mysql的各个参数说明：\n-r: 添加系统用户( 这里指将要被创建的系统用户mysql )\n-g: 指定要创建的用户所属组( 这里指添加到新系统用户mysql到mysql系统用户组 )\n-s: 新系统帐户的登录shell( /sbin/nologin 这里设置为将要被创建系统用户mysql不能用来登录系统 )\n-d: 新帐户的主目录( 这里指定将要被创建的系统用户mysql的家目录为 /usr/local/mysql )\n-M: 不要创建用户的主目录( 也就是说将要被创建的系统用户mysql不会在 /home 目录下创建 mysql 家目录 )\n\n* 创建maria安装目录\n\n```\n[root@localhost tmp]# mkdir -p /usr/local/mysql\n```\n\n* 创建数据库存放目录\n\n```\n[root@localhost tmp]# mkdir -p /data/mysql\n```\n\n* 改变数据库存放目录所属用户及组为 mysql:mysql\n\n```\n[root@localhost tmp]# mkdir -p /data/mysql\n```\n\n### 编译源码\n\n* 解压软件包并进入目录\n\n```\ntar -zxvf mariadb-10.3.13.tar.gz \u0026\u0026 cd mariadb-10.3.13\n```\n\n* 编译源代码\n\n```\n[root@localhost mariadb-10.3.13]# cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/data/mysql -DSYSCONFDIR=/etc -DWITHOUT_TOKUDB=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STPRAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWIYH_READLINE=1 -DWIYH_SSL=system -DVITH_ZLIB=system -DWITH_LOBWRAP=0 -DMYSQL_UNIX_ADDR=/tmp/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci\n[root@localhost mariadb-10.3.13]# makle\n[root@localhost mariadb-10.3.13]# make install\n```\n\n### 验证安装\n\n### 配置\n\n* 1：安装mysql数据库\n\n\u003e 进入安装目录，使用```mysql```用户执行脚本, 安装数据库到数据库存放目录。\n\n```\n[root@localhost mariadb-10.3.13]# cd /usr/local/mariadb\n[root@localhost mariadb]# scripts/mysql_install_db --user=mysql --datadir=/data/mysql\nInstalling MariaDB/MySQL system tables in '/usr/local/mariadb/data/mysql' ...\nOK\n\nTo start mysqld at boot time you have to copy\nsupport-files/mysql.server to the right place for your system\n\n\nPLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !\nTo do so, start the server, then issue the following commands:\n\n'./bin/mysqladmin' -u root password 'new-password'\n'./bin/mysqladmin' -u root -h localhost.localdomain password 'new-password'\n\nAlternatively you can run:\n'./bin/mysql_secure_installation'\n\nwhich will also give you the option of removing the test\ndatabases and anonymous user created by default.  This is\nstrongly recommended for production servers.\n\nSee the MariaDB Knowledgebase at http://mariadb.com/kb or the\nMySQL manual for more instructions.\n\nYou can start the MariaDB daemon with:\ncd '.' ; ./bin/mysqld_safe --datadir='/usr/local/mariadb/data/mysql'\n\nYou can test the MariaDB daemon with mysql-test-run.pl\ncd './mysql-test' ; perl mysql-test-run.pl\n\nPlease report any problems at http://mariadb.org/jira\n\nThe latest information about MariaDB is available at http://mariadb.org/.\nYou can find additional information about the MySQL part at:\nhttp://dev.mysql.com\nConsider joining MariaDB's strong and vibrant community:\nhttps://mariadb.org/get-involved/\n```\n\n* 2：设置mysql配置文件\n\n\u003e 进入安装目录下，拷贝support-files目录下的文件my-large.cnf到/etc目录并重命名为my.cnf\n\n```\n[root@localhost mariadb]# cd /usr/local/mariadb/\n[root@localhost mariadb]# cp support-files/my-large.cnf /etc/my.cnf\n```\n\n* 3： 创建启动脚本\n\n\u003e 将support-files目录下的文件mysql.serve复制到/etc/init.d/mysqld\n\n```\n[root@localhost mariadb]# cp support-files/mysql.server /etc/init.d/mysqld\n```\n\n* 4：配置环境变量, 以便在任何目录下输入mysql\n\n\u003e 在/etc/profile.d下新建mysql.sh，添加mysql执行目录到环境变量中。\n\n```\n[root@localhost mariadb]# cd /etc/profile.d\n[root@localhost profile.d]# vim mysql.sh\nexport PATH=$PATH:/usr/local/mariadb/bin/\n[root@localhost profile.d]# chmod 0777 /etc/profile.d/mysql.sh\n[root@localhost profile.d]# source /etc/profile.d/mysql.sh\n```\n\n* 5：初始化mysql\n\n```\n[root@localhost bin]# ./mysql_secure_installation\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none): \nERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)\nEnter current password for root (enter for none): \nERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)\nEnter current password for root (enter for none): \nERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)\nEnter current password for root (enter for none): \nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n] \nNew password: \nRe-enter new password: \nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] y\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] n\n ... skipping.\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] y\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] y\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n```\n\n* 6：修改mysql密码\n\n```\n[root@localhost mariadb]#\n```\n\n* 7：开启binlog日志\n\n```\n[root@localhost mariadb]#\n```\n\n* 8：设置外部访问\n\n```\n[root@localhost mariadb]#\n```\n\n\n\n### 启动mysql服务\n\n```\n[root@localhost profile.d]# /etc/init.d/mysqld start\nReloading systemd:                                         [  OK  ]\nStarting mysqld (via systemctl):                           [  OK  ]\n```\n\n### 进入mysql客户端\n\n```\n[root@localhost bin]# mysql -u root -p\nEnter password: \nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 19\nServer version: 10.3.13-MariaDB Source distribution\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]\u003e \n```\n\n* \u003e 参数\n-u 登录数据库的用户名 \n-p 登录数据库的用户密码\n-h 登录数据库的地址，默认：localhost\n-P 登录数据库的端口\n更多参数具体含义请参数 mysql --help 进行查看!\n\n### 设置mysql服务开机启动\n\n\u003e 在centos7中服务不在是用service这个命令来启动与停止，也不再用chkconfig来设置开机启动与否！在centos7中所有对服务的管理都集中到了systemctl当中；systemctl不再是合之前一样依赖/etc/init.d/下的脚本，它是通过配置文件来完成对服务的管理的；\n\n* 创建systemctl管理mysql的配置文件：\n\n```\n[root@localhost bin]# vim /usr/lib/systemd/system/mysql.service\n[Unit]\nDescription=MySQL Server\nDocumentation=man:mysqld(8)\nDocumentation=http://dev.mysql.com/doc/refman/en/using-systemd.html\nAfter=network.target\nAfter=syslog.target\n\n[Install]\nWantedBy=multi-user.target\n\n[Service]\nUser=mysql\nGroup=mysql\nExecStart=/usr/local/mysql/bin/mysqld --defaults-file=/etc/my.cnf\nLimitNOFILE = 5000\n#Restart=on-failure\n#RestartPreventExitStatus=1\n#PrivateTmp=false\n```\n\n* 通过systemctl来启动mysql服务\n\n```\n[root@localhost system]# systemctl start mysql\n[root@localhost system]# netstat -ntlp | grep 3306\ntcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      3853/mysqld         \n[root@localhost system]# ps -ef | grep mysqld\nmysql     3853     1  0 02:37 ?        00:00:00 /usr/local/mariadb/bin/mysqld --defaults-file=/etc/my.cnf\nroot      3888 10939  0 02:38 pts/2    00:00:00 grep --color=auto mysqld\n```\n\n* 通过systemctl 来设置mysql开机启动：\n\n```\n[root@localhost system]# systemctl enable mysql\nCreated symlink from /etc/systemd/system/multi-user.target.wants/mysql.service to /usr/lib/systemd/system/mysql.service.\n```\n\n#### 至此在Centos7上源码编译安装MariaDB完成。"}
{"_id":{"$oid":"5c72e620969467061802c731"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"Centos7系统服务（service）命令","content":"\u003ch1 id=\"h1-centos7-service-\"\u003e\u003ca name=\"Centos7系统服务（service）命令\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7系统服务（service）命令\u003c/h1\u003e\u003cblockquote\u003e\n\u003cp\u003e在Centos 中 systemctl  是设置系统服务的命令，即 service  ,   它融合之前service和chkconfig的功能于一体。可以使用它永久性或只在当前会话中启用/禁用服务。\u003c/p\u003e\n\u003cp\u003eCentOS 7 的 /etc/rc.d/rc.local 是没有执行权限的， 系统建议创建 systemd service 启动服务。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch6 id=\"h6-systemctl-code-usr-lib-systemd-system-code-code-systemctl-enable-name-service-code-code-etc-systemd-system-multi-user-target-wants-code-\"\u003e\u003ca name=\"systemctl脚本在\u003ccode\u003e/usr/lib/systemd/system/\u003c/code\u003e目录下。执行\u003ccode\u003esystemctl enable name.service\u003c/code\u003e相当于添加一个连接到\u003ccode\u003e/etc/systemd/system/multi-user.target.wants/\u003c/code\u003e目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003esystemctl脚本在\u003ccode\u003e/usr/lib/systemd/system/\u003c/code\u003e目录下。执行\u003ccode\u003esystemctl enable name.service\u003c/code\u003e相当于添加一个连接到\u003ccode\u003e/etc/systemd/system/multi-user.target.wants/\u003c/code\u003e目录下。\u003c/h6\u003e","markDown":"# Centos7系统服务（service）命令\n\n\u003e 在Centos 中 systemctl  是设置系统服务的命令，即 service  ,   它融合之前service和chkconfig的功能于一体。可以使用它永久性或只在当前会话中启用/禁用服务。\n\n\u003e CentOS 7 的 /etc/rc.d/rc.local 是没有执行权限的， 系统建议创建 systemd service 启动服务。\n\n###### systemctl脚本在```/usr/lib/systemd/system/```目录下。执行```systemctl enable name.service```相当于添加一个连接到```/etc/systemd/system/multi-user.target.wants/```目录下。\n","html":"\u003ch1 id=\"h1-centos7-service-\"\u003e\u003ca name=\"Centos7系统服务（service）命令\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7系统服务（service）命令\u003c/h1\u003e\u003cblockquote\u003e\n\u003cp\u003e在Centos 中 systemctl  是设置系统服务的命令，即 service  ,   它融合之前service和chkconfig的功能于一体。可以使用它永久性或只在当前会话中启用/禁用服务。\u003c/p\u003e\n\u003cp\u003eCentOS 7 的 /etc/rc.d/rc.local 是没有执行权限的， 系统建议创建 systemd service 启动服务。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch6 id=\"h6-systemctl-code-usr-lib-systemd-system-code-code-systemctl-enable-name-service-code-code-etc-systemd-system-multi-user-target-wants-code-\"\u003e\u003ca name=\"systemctl脚本在\u003ccode\u003e/usr/lib/systemd/system/\u003c/code\u003e目录下。执行\u003ccode\u003esystemctl enable name.service\u003c/code\u003e相当于添加一个连接到\u003ccode\u003e/etc/systemd/system/multi-user.target.wants/\u003c/code\u003e目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003esystemctl脚本在\u003ccode\u003e/usr/lib/systemd/system/\u003c/code\u003e目录下。执行\u003ccode\u003esystemctl enable name.service\u003c/code\u003e相当于添加一个连接到\u003ccode\u003e/etc/systemd/system/multi-user.target.wants/\u003c/code\u003e目录下。\u003c/h6\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":963,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-24T18:44:48.490Z"},"updateTime":{"$date":"2019-03-19T07:34:26.784Z"},"__v":0}
{"_id":{"$oid":"5c75366ea35c7d098f2da552"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"ssh登录Centos服务器提示：-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory","content":"\u003ch1 id=\"h1-ssh-centos-bash-warning-setlocale-lc_ctype-cannot-change-locale-utf-8-no-such-file-or-directory\"\u003e\u003ca name=\"ssh登录Centos服务器提示：-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003essh登录Centos服务器提示：-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory\u003c/h1\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e查看支持的字符集\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e locale \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ea \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e grep en\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_AG\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_AG\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_AU\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_AU\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_AU\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_BW\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_BW\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_BW\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_CA\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_CA\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_CA\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_DK\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_DK\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_DK\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_GB\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso885915\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_HK\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_HK\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_HK\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_IE\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_IE@euro\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_IE\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_IE\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso885915@euro\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_IE\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_IN\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_IN\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_NG\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_NG\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_NZ\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_NZ\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_NZ\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_PH\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_PH\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_PH\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_SG\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_SG\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_SG\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_US\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_US\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_US\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso885915\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_US\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZA\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZA\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZA\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZM\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZM\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZW\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZW\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eiso88591\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003een_ZW\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efrench\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eslovene\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eslovenian\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e在/etc/environment添加要设置的字符集（不果不存在就新建）\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLC_ALL\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003een_US\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eUTF\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eLANG\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003een_US\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eUTF\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e","markDown":"# ssh登录Centos服务器提示：-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory\n\n### 解决方法：\n\n* 查看支持的字符集\n\n```\n[root@localhost ~]# locale -a | grep en\nen_AG\nen_AG.utf8\nen_AU\nen_AU.iso88591\nen_AU.utf8\nen_BW\nen_BW.iso88591\nen_BW.utf8\nen_CA\nen_CA.iso88591\nen_CA.utf8\nen_DK\nen_DK.iso88591\nen_DK.utf8\nen_GB\nen_GB.iso88591\nen_GB.iso885915\nen_GB.utf8\nen_HK\nen_HK.iso88591\nen_HK.utf8\nen_IE\nen_IE@euro\nen_IE.iso88591\nen_IE.iso885915@euro\nen_IE.utf8\nen_IN\nen_IN.utf8\nen_NG\nen_NG.utf8\nen_NZ\nen_NZ.iso88591\nen_NZ.utf8\nen_PH\nen_PH.iso88591\nen_PH.utf8\nen_SG\nen_SG.iso88591\nen_SG.utf8\nen_US\nen_US.iso88591\nen_US.iso885915\nen_US.utf8\nen_ZA\nen_ZA.iso88591\nen_ZA.utf8\nen_ZM\nen_ZM.utf8\nen_ZW\nen_ZW.iso88591\nen_ZW.utf8\nfrench\nslovene\nslovenian\n```\n\n* 在/etc/environment添加要设置的字符集（不果不存在就新建）\n\n```\nLC_ALL=en_US.UTF-8\nLANG=en_US.UTF-8\n```","html":"\u003ch1 id=\"h1-ssh-centos-bash-warning-setlocale-lc_ctype-cannot-change-locale-utf-8-no-such-file-or-directory\"\u003e\u003ca name=\"ssh登录Centos服务器提示：-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003essh登录Centos服务器提示：-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory\u003c/h1\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"解决方法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解决方法：\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e查看支持的字符集\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# locale -a | grep en\nen_AG\nen_AG.utf8\nen_AU\nen_AU.iso88591\nen_AU.utf8\nen_BW\nen_BW.iso88591\nen_BW.utf8\nen_CA\nen_CA.iso88591\nen_CA.utf8\nen_DK\nen_DK.iso88591\nen_DK.utf8\nen_GB\nen_GB.iso88591\nen_GB.iso885915\nen_GB.utf8\nen_HK\nen_HK.iso88591\nen_HK.utf8\nen_IE\nen_IE@euro\nen_IE.iso88591\nen_IE.iso885915@euro\nen_IE.utf8\nen_IN\nen_IN.utf8\nen_NG\nen_NG.utf8\nen_NZ\nen_NZ.iso88591\nen_NZ.utf8\nen_PH\nen_PH.iso88591\nen_PH.utf8\nen_SG\nen_SG.iso88591\nen_SG.utf8\nen_US\nen_US.iso88591\nen_US.iso885915\nen_US.utf8\nen_ZA\nen_ZA.iso88591\nen_ZA.utf8\nen_ZM\nen_ZM.utf8\nen_ZW\nen_ZW.iso88591\nen_ZW.utf8\nfrench\nslovene\nslovenian\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e在/etc/environment添加要设置的字符集（不果不存在就新建）\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eLC_ALL=en_US.UTF-8\nLANG=en_US.UTF-8\n\u003c/code\u003e\u003c/pre\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":6829,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-26T12:51:58.178Z"},"updateTime":{"$date":"2019-02-26T12:59:16.027Z"},"__v":0}
{"_id":{"$oid":"5c753cc4a35c7d098f2da553"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"Linux系统下添加硬盘和挂载","content":"\u003ch1 id=\"h1-linux-\"\u003e\u003ca name=\"Linux系统下添加硬盘和挂载\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eLinux系统下添加硬盘和挂载\u003c/h1\u003e\u003ch3 id=\"h3-u67E5u770Bu786Cu76D8u8BE6u7EC6u4FE1u606F\"\u003e\u003ca name=\"查看硬盘详细信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看硬盘详细信息\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e fdisk \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003el\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esda\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e480.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e480103981056\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e937703088\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUnits\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors of \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSector\u003c/span\u003e\u003cspan class=\"pln\"\u003e size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003elogical\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephysical\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eI\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eO size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eminimum\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimal\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e label type\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e dos\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e identifier\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0x000a69ab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eDevice\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eBoot\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"typ\"\u003eStart\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"typ\"\u003eEnd\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"typ\"\u003eBlocks\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eId\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eSystem\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esda1   \u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e2048\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"lit\"\u003e2099199\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"lit\"\u003e1048576\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e83\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eLinux\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esda2         \u003c/span\u003e\u003cspan class=\"lit\"\u003e2099200\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e937701375\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e467801088\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e8e\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eLinux\u003c/span\u003e\u003cspan class=\"pln\"\u003e LVM\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdb\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1000.2\u003c/span\u003e\u003cspan class=\"pln\"\u003e GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1000204886016\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1953525168\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUnits\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors of \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSector\u003c/span\u003e\u003cspan class=\"pln\"\u003e size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003elogical\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephysical\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e4096\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eI\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eO size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eminimum\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimal\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e4096\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e4096\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e label type\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e dos\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e identifier\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0x73f1600e\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eDevice\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eBoot\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"typ\"\u003eStart\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"typ\"\u003eEnd\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"typ\"\u003eBlocks\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eId\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eSystem\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdb1            \u003c/span\u003e\u003cspan class=\"lit\"\u003e2048\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e1953525167\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e976761560\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e83\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eLinux\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdc\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1000.2\u003c/span\u003e\u003cspan class=\"pln\"\u003e GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1000204886016\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1953525168\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUnits\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors of \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSector\u003c/span\u003e\u003cspan class=\"pln\"\u003e size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003elogical\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephysical\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eI\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eO size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eminimum\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimal\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e label type\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e dos\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e identifier\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0x01f9d0e8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eDevice\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eBoot\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"typ\"\u003eStart\u003c/span\u003e\u003cspan class=\"pln\"\u003e         \u003c/span\u003e\u003cspan class=\"typ\"\u003eEnd\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"typ\"\u003eBlocks\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"typ\"\u003eId\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eSystem\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdc1            \u003c/span\u003e\u003cspan class=\"lit\"\u003e2048\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e1953525167\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e976761560\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e83\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eLinux\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e53.7\u003c/span\u003e\u003cspan class=\"pln\"\u003e GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e53687091200\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e104857600\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUnits\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors of \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSector\u003c/span\u003e\u003cspan class=\"pln\"\u003e size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003elogical\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephysical\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eI\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eO size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eminimum\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimal\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eswap\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e4160\u003c/span\u003e\u003cspan class=\"pln\"\u003e MB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e4160749568\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e8126464\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUnits\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors of \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSector\u003c/span\u003e\u003cspan class=\"pln\"\u003e size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003elogical\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephysical\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eI\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eO size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eminimum\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimal\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDisk\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e421.2\u003c/span\u003e\u003cspan class=\"pln\"\u003e GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e421175230464\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e822607872\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUnits\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e sectors of \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e*\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSector\u003c/span\u003e\u003cspan class=\"pln\"\u003e size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003elogical\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephysical\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eI\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eO size \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eminimum\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimal\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e512\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"可以看到总共有三块硬盘，分别是：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可以看到总共有三块硬盘，分别是：\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003e\u003ch5 id=\"h5--dev-sda-480g\"\u003e\u003ca name=\"/dev/sda 480G\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e/dev/sda 480G\u003c/h5\u003e\u003c/li\u003e\u003cli\u003e\u003ch5 id=\"h5--dev-sdb-1000g\"\u003e\u003ca name=\"/dev/sdb 1000G\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e/dev/sdb 1000G\u003c/h5\u003e\u003c/li\u003e\u003cli\u003e\u003ch5 id=\"h5--dev-sdc-1000g\"\u003e\u003ca name=\"/dev/sdc 1000G\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e/dev/sdc 1000G\u003c/h5\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190226/20190226212216_2a13ce9053711c45df8e08399611cb37.png?w=1644\u0026amp;h=1486\" title=\"QQ20190226-212127@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190226/20190226212216_2a13ce9053711c45df8e08399611cb37.png?w=1644\u0026amp;h=1486\" alt=\"QQ20190226-212127@2x.png\" title=\"QQ20190226-212127@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190226-212127@2x.png\"\u003eQQ20190226-212127@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u786Cu76D8u5206u533A\"\u003e\u003ca name=\"硬盘分区\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e硬盘分区\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e fdisk \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdb\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h4\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e参数\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ea\u003c/td\u003e\n\u003ctd\u003etoggle a bootable flag\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eb\u003c/td\u003e\n\u003ctd\u003eedit bsd disklabel\u003c/td\u003e\n\u003ctd\u003e编辑BSD磁盘标签\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ec\u003c/td\u003e\n\u003ctd\u003etoggle the dos compatibility flag\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ed\u003c/td\u003e\n\u003ctd\u003edelete a partition\u003c/td\u003e\n\u003ctd\u003e删除已经存在的分区\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eg\u003c/td\u003e\n\u003ctd\u003ecreate a new empty GPT partition table\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eG\u003c/td\u003e\n\u003ctd\u003ecreate an IRIX (SGI) partition table\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003el\u003c/td\u003e\n\u003ctd\u003elist known partition types\u003c/td\u003e\n\u003ctd\u003e列出已知分区类型\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003em\u003c/td\u003e\n\u003ctd\u003eprint this menu\u003c/td\u003e\n\u003ctd\u003e打印帮助菜单\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003en\u003c/td\u003e\n\u003ctd\u003eadd a new partition\u003c/td\u003e\n\u003ctd\u003e添加新分区\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eo\u003c/td\u003e\n\u003ctd\u003ecreate a new empty DOS partition table\u003c/td\u003e\n\u003ctd\u003e创建新的空DOS分区表\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ep\u003c/td\u003e\n\u003ctd\u003eprint the partition table\u003c/td\u003e\n\u003ctd\u003e打印分区表\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eq\u003c/td\u003e\n\u003ctd\u003equit without saving changes\u003c/td\u003e\n\u003ctd\u003e不保存更改而退出\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003es\u003c/td\u003e\n\u003ctd\u003ecreate a new empty Sun disklabel\u003c/td\u003e\n\u003ctd\u003e创建新的空Sun磁盘标签\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003et\u003c/td\u003e\n\u003ctd\u003echange a partition’s system id\u003c/td\u003e\n\u003ctd\u003e更改分区的系统ID\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eu\u003c/td\u003e\n\u003ctd\u003echange display/entry units\u003c/td\u003e\n\u003ctd\u003e更改显示/输入单位\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ev\u003c/td\u003e\n\u003ctd\u003everify the partition table\u003c/td\u003e\n\u003ctd\u003e验证分区表\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ew\u003c/td\u003e\n\u003ctd\u003ewrite table to disk and exit\u003c/td\u003e\n\u003ctd\u003e将表写入磁盘并退出\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ex\u003c/td\u003e\n\u003ctd\u003eextra functionality (experts only)\u003c/td\u003e\n\u003ctd\u003e额外功能\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"h3-u683Cu5F0Fu5316u78C1u76D8\"\u003e\u003ca name=\"格式化磁盘\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e格式化磁盘\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkfs\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003exfs \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdb1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"如果不知道应该格式化什么样的系统文件，可以查看系统的文件系统。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果不知道应该格式化什么样的系统文件，可以查看系统的文件系统。\u003c/h6\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e cat \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003efstab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# /etc/fstab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Created by anaconda on Sun Dec  2 16:56:57 2018\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Accessible filesystems, by reference, are maintained under '/dev/disk'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e                       xfs     defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eUUID\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e6a248959\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e849f\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e4eff\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e9883\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eb4eabf07dfe4 \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eboot                   xfs     defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome                   xfs     defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eswap swap                    swap    defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e由此可以看出当前系统中的文件系统是xfs。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u6302u8F7Du683Cu5F0Fu5316u597Du540Eu7684u78C1u76D8\"\u003e\u003ca name=\"挂载格式化好后的磁盘\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e挂载格式化好后的磁盘\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 在系统根目录下创建一个目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edata\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 将新增的硬盘挂载到新创建的目录上\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e mount \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdb1 \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edata\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u8BBEu7F6Eu7CFBu7EDFu5F00u673Au81EAu52A8u6302u8F7Du65B0u786Cu76D8\"\u003e\u003ca name=\"设置系统开机自动挂载新硬盘\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e设置系统开机自动挂载新硬盘\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e vim \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003efstab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# /etc/fstab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Created by anaconda on Sun Dec  2 16:56:57 2018\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Accessible filesystems, by reference, are maintained under '/dev/disk'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e                       xfs     defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eUUID\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e6a248959\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e849f\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e4eff\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e9883\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eb4eabf07dfe4 \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eboot                   xfs     defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome                   xfs     defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emapper\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecentos\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eswap swap                    swap    defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esdb1               \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003edata_one               xfs     defaults        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u91CDu542Fu7CFBu7EDFu67E5u770Bu662Fu5426u81EAu52A8u6302u8F7Du6210u529F\"\u003e\u003ca name=\"重启系统查看是否自动挂载成功\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重启系统查看是否自动挂载成功\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost \u003c/span\u003e\u003cspan class=\"pun\"\u003e~]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e fdisk \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003el\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190301/20190301005649_67c2824670304d38cf13fadea7f77b3a.png?w=1098\u0026amp;h=1382\" title=\"QQ20190301-005531@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190301/20190301005649_67c2824670304d38cf13fadea7f77b3a.png?w=1098\u0026amp;h=1382\" alt=\"QQ20190301-005531@2x.png\" title=\"QQ20190301-005531@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190301-005531@2x.png\"\u003eQQ20190301-005531@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5 id=\"h5--code-dev-sdb1-code-code-dev-sdc1-code-\"\u003e\u003ca name=\"这里可以看到已经挂载了两块硬盘：\u003ccode\u003e/dev/sdb1\u003c/code\u003e和\u003ccode\u003e/dev/sdc1\u003c/code\u003e。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e这里可以看到已经挂载了两块硬盘：\u003ccode\u003e/dev/sdb1\u003c/code\u003e和\u003ccode\u003e/dev/sdc1\u003c/code\u003e。\u003c/h5\u003e","markDown":"# Linux系统下添加硬盘和挂载\n\n### 查看硬盘详细信息\n\n```\n[root@localhost ~]# fdisk -l\n\nDisk /dev/sda: 480.1 GB, 480103981056 bytes, 937703088 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0x000a69ab\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1   *        2048     2099199     1048576   83  Linux\n/dev/sda2         2099200   937701375   467801088   8e  Linux LVM\n\nDisk /dev/sdb: 1000.2 GB, 1000204886016 bytes, 1953525168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 4096 bytes\nI/O size (minimum/optimal): 4096 bytes / 4096 bytes\nDisk label type: dos\nDisk identifier: 0x73f1600e\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1            2048  1953525167   976761560   83  Linux\n\nDisk /dev/sdc: 1000.2 GB, 1000204886016 bytes, 1953525168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0x01f9d0e8\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdc1            2048  1953525167   976761560   83  Linux\n\nDisk /dev/mapper/centos-root: 53.7 GB, 53687091200 bytes, 104857600 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n\n\nDisk /dev/mapper/centos-swap: 4160 MB, 4160749568 bytes, 8126464 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n\n\nDisk /dev/mapper/centos-home: 421.2 GB, 421175230464 bytes, 822607872 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n```\n\n##### 可以看到总共有三块硬盘，分别是：\n\n* ##### /dev/sda 480G\n* ##### /dev/sdb 1000G\n* ##### /dev/sdc 1000G\n\n[![QQ20190226-212127@2x.png](/static/images/uploads/20190226/20190226212216_2a13ce9053711c45df8e08399611cb37.png?w=1644\u0026h=1486 \"QQ20190226-212127@2x.png\")](/static/images/uploads/20190226/20190226212216_2a13ce9053711c45df8e08399611cb37.png?w=1644\u0026h=1486 \"QQ20190226-212127@2x.png\")\n\n### 硬盘分区\n\n```\n[root@localhost ~]# fdisk /dev/sdb\n```\n\n#### 参数：\n\n|  参数  |  描述  |  描述  |\n|----|----|----|\n|  a  |  toggle a bootable flag  |    |\n|  b  |  edit bsd disklabel  |  编辑BSD磁盘标签  |\n|  c  |  toggle the dos compatibility flag  |    |\n|  d  |  delete a partition  |  删除已经存在的分区  |\n|  g  |  create a new empty GPT partition table  |    |\n|  G  |  create an IRIX (SGI) partition table  |    |\n|  l  |  list known partition types  |  列出已知分区类型  |\n|  m  |  print this menu  |  打印帮助菜单  |\n|  n  |  add a new partition  |  添加新分区  |\n|  o  |  create a new empty DOS partition table  |  创建新的空DOS分区表  |\n|  p  | print the partition table   |  打印分区表  |\n|  q  | quit without saving changes   |  不保存更改而退出  |\n|  s  |  create a new empty Sun disklabel  |  创建新的空Sun磁盘标签  |\n|  t  |   change a partition's system id  |  更改分区的系统ID  |\n|  u  |  change display/entry units  |  更改显示/输入单位  |\n|  v  |  verify the partition table  | 验证分区表   |\n|  w  |  write table to disk and exit  |  将表写入磁盘并退出  |\n|  x  |  extra functionality (experts only)  |  额外功能  |\n\n### 格式化磁盘\n\n```\n[root@localhost ~]# mkfs.xfs /dev/sdb1\n```\n\n###### 如果不知道应该格式化什么样的系统文件，可以查看系统的文件系统。\n\n```\n[root@localhost ~]# cat /etc/fstab\n#\n# /etc/fstab\n# Created by anaconda on Sun Dec  2 16:56:57 2018\n#\n# Accessible filesystems, by reference, are maintained under '/dev/disk'\n# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info\n#\n/dev/mapper/centos-root /                       xfs     defaults        0 0\nUUID=6a248959-849f-4eff-9883-b4eabf07dfe4 /boot                   xfs     defaults        0 0\n/dev/mapper/centos-home /home                   xfs     defaults        0 0\n/dev/mapper/centos-swap swap                    swap    defaults        0 0\n```\n\u003e 由此可以看出当前系统中的文件系统是xfs。\n\n### 挂载格式化好后的磁盘\n\n```\n# 在系统根目录下创建一个目录\n[root@localhost ~]# mkdir -p /data\n# 将新增的硬盘挂载到新创建的目录上\n[root@localhost ~]# mount /dev/sdb1 /data\n```\n\n### 设置系统开机自动挂载新硬盘\n\n```\n[root@localhost ~]# vim /etc/fstab\n#\n# /etc/fstab\n# Created by anaconda on Sun Dec  2 16:56:57 2018\n#\n# Accessible filesystems, by reference, are maintained under '/dev/disk'\n# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info\n#\n/dev/mapper/centos-root /                       xfs     defaults        0 0\nUUID=6a248959-849f-4eff-9883-b4eabf07dfe4 /boot                   xfs     defaults        0 0\n/dev/mapper/centos-home /home                   xfs     defaults        0 0\n/dev/mapper/centos-swap swap                    swap    defaults        0 0\n/dev/sdb1               /data_one               xfs     defaults        0 0\n```\n\n### 重启系统查看是否自动挂载成功\n\n```\n[root@localhost ~]# fdisk -l\n```\n\n[![QQ20190301-005531@2x.png](/static/images/uploads/20190301/20190301005649_67c2824670304d38cf13fadea7f77b3a.png?w=1098\u0026h=1382 \"QQ20190301-005531@2x.png\")](/static/images/uploads/20190301/20190301005649_67c2824670304d38cf13fadea7f77b3a.png?w=1098\u0026h=1382 \"QQ20190301-005531@2x.png\")\n\n##### 这里可以看到已经挂载了两块硬盘：```/dev/sdb1```和```/dev/sdc1```。","html":"\u003ch1 id=\"h1-linux-\"\u003e\u003ca name=\"Linux系统下添加硬盘和挂载\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eLinux系统下添加硬盘和挂载\u003c/h1\u003e\u003ch3 id=\"h3-u67E5u770Bu786Cu76D8u8BE6u7EC6u4FE1u606F\"\u003e\u003ca name=\"查看硬盘详细信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看硬盘详细信息\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# fdisk -l\n\nDisk /dev/sda: 480.1 GB, 480103981056 bytes, 937703088 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0x000a69ab\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1   *        2048     2099199     1048576   83  Linux\n/dev/sda2         2099200   937701375   467801088   8e  Linux LVM\n\nDisk /dev/sdb: 1000.2 GB, 1000204886016 bytes, 1953525168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 4096 bytes\nI/O size (minimum/optimal): 4096 bytes / 4096 bytes\nDisk label type: dos\nDisk identifier: 0x73f1600e\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1            2048  1953525167   976761560   83  Linux\n\nDisk /dev/sdc: 1000.2 GB, 1000204886016 bytes, 1953525168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0x01f9d0e8\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdc1            2048  1953525167   976761560   83  Linux\n\nDisk /dev/mapper/centos-root: 53.7 GB, 53687091200 bytes, 104857600 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n\n\nDisk /dev/mapper/centos-swap: 4160 MB, 4160749568 bytes, 8126464 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n\n\nDisk /dev/mapper/centos-home: 421.2 GB, 421175230464 bytes, 822607872 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"可以看到总共有三块硬盘，分别是：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可以看到总共有三块硬盘，分别是：\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003e\u003ch5 id=\"h5--dev-sda-480g\"\u003e\u003ca name=\"/dev/sda 480G\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e/dev/sda 480G\u003c/h5\u003e\u003c/li\u003e\u003cli\u003e\u003ch5 id=\"h5--dev-sdb-1000g\"\u003e\u003ca name=\"/dev/sdb 1000G\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e/dev/sdb 1000G\u003c/h5\u003e\u003c/li\u003e\u003cli\u003e\u003ch5 id=\"h5--dev-sdc-1000g\"\u003e\u003ca name=\"/dev/sdc 1000G\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e/dev/sdc 1000G\u003c/h5\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190226/20190226212216_2a13ce9053711c45df8e08399611cb37.png?w=1644\u0026amp;h=1486\" title=\"QQ20190226-212127\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190226/20190226212216_2a13ce9053711c45df8e08399611cb37.png?w=1644\u0026amp;h=1486\" alt=\"QQ20190226-212127\u0026#64;2x.png\" title=\"QQ20190226-212127\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190226-212127\u0026#64;2x.png\"\u003eQQ20190226-212127\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"h3-u786Cu76D8u5206u533A\"\u003e\u003ca name=\"硬盘分区\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e硬盘分区\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# fdisk /dev/sdb\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h4\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e参数\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ea\u003c/td\u003e\n\u003ctd\u003etoggle a bootable flag\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eb\u003c/td\u003e\n\u003ctd\u003eedit bsd disklabel\u003c/td\u003e\n\u003ctd\u003e编辑BSD磁盘标签\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ec\u003c/td\u003e\n\u003ctd\u003etoggle the dos compatibility flag\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ed\u003c/td\u003e\n\u003ctd\u003edelete a partition\u003c/td\u003e\n\u003ctd\u003e删除已经存在的分区\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eg\u003c/td\u003e\n\u003ctd\u003ecreate a new empty GPT partition table\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eG\u003c/td\u003e\n\u003ctd\u003ecreate an IRIX (SGI) partition table\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003el\u003c/td\u003e\n\u003ctd\u003elist known partition types\u003c/td\u003e\n\u003ctd\u003e列出已知分区类型\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003em\u003c/td\u003e\n\u003ctd\u003eprint this menu\u003c/td\u003e\n\u003ctd\u003e打印帮助菜单\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003en\u003c/td\u003e\n\u003ctd\u003eadd a new partition\u003c/td\u003e\n\u003ctd\u003e添加新分区\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eo\u003c/td\u003e\n\u003ctd\u003ecreate a new empty DOS partition table\u003c/td\u003e\n\u003ctd\u003e创建新的空DOS分区表\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ep\u003c/td\u003e\n\u003ctd\u003eprint the partition table\u003c/td\u003e\n\u003ctd\u003e打印分区表\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eq\u003c/td\u003e\n\u003ctd\u003equit without saving changes\u003c/td\u003e\n\u003ctd\u003e不保存更改而退出\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003es\u003c/td\u003e\n\u003ctd\u003ecreate a new empty Sun disklabel\u003c/td\u003e\n\u003ctd\u003e创建新的空Sun磁盘标签\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003et\u003c/td\u003e\n\u003ctd\u003echange a partition’s system id\u003c/td\u003e\n\u003ctd\u003e更改分区的系统ID\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eu\u003c/td\u003e\n\u003ctd\u003echange display/entry units\u003c/td\u003e\n\u003ctd\u003e更改显示/输入单位\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ev\u003c/td\u003e\n\u003ctd\u003everify the partition table\u003c/td\u003e\n\u003ctd\u003e验证分区表\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ew\u003c/td\u003e\n\u003ctd\u003ewrite table to disk and exit\u003c/td\u003e\n\u003ctd\u003e将表写入磁盘并退出\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ex\u003c/td\u003e\n\u003ctd\u003eextra functionality (experts only)\u003c/td\u003e\n\u003ctd\u003e额外功能\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"h3-u683Cu5F0Fu5316u78C1u76D8\"\u003e\u003ca name=\"格式化磁盘\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e格式化磁盘\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# mkfs.xfs /dev/sdb1\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"如果不知道应该格式化什么样的系统文件，可以查看系统的文件系统。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e如果不知道应该格式化什么样的系统文件，可以查看系统的文件系统。\u003c/h6\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# cat /etc/fstab\n#\n# /etc/fstab\n# Created by anaconda on Sun Dec  2 16:56:57 2018\n#\n# Accessible filesystems, by reference, are maintained under \u0026#39;/dev/disk\u0026#39;\n# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info\n#\n/dev/mapper/centos-root /                       xfs     defaults        0 0\nUUID=6a248959-849f-4eff-9883-b4eabf07dfe4 /boot                   xfs     defaults        0 0\n/dev/mapper/centos-home /home                   xfs     defaults        0 0\n/dev/mapper/centos-swap swap                    swap    defaults        0 0\n\u003c/code\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e由此可以看出当前系统中的文件系统是xfs。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u6302u8F7Du683Cu5F0Fu5316u597Du540Eu7684u78C1u76D8\"\u003e\u003ca name=\"挂载格式化好后的磁盘\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e挂载格式化好后的磁盘\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e# 在系统根目录下创建一个目录\n[root@localhost ~]# mkdir -p /data\n# 将新增的硬盘挂载到新创建的目录上\n[root@localhost ~]# mount /dev/sdb1 /data\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u8BBEu7F6Eu7CFBu7EDFu5F00u673Au81EAu52A8u6302u8F7Du65B0u786Cu76D8\"\u003e\u003ca name=\"设置系统开机自动挂载新硬盘\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e设置系统开机自动挂载新硬盘\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# vim /etc/fstab\n#\n# /etc/fstab\n# Created by anaconda on Sun Dec  2 16:56:57 2018\n#\n# Accessible filesystems, by reference, are maintained under \u0026#39;/dev/disk\u0026#39;\n# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info\n#\n/dev/mapper/centos-root /                       xfs     defaults        0 0\nUUID=6a248959-849f-4eff-9883-b4eabf07dfe4 /boot                   xfs     defaults        0 0\n/dev/mapper/centos-home /home                   xfs     defaults        0 0\n/dev/mapper/centos-swap swap                    swap    defaults        0 0\n/dev/sdb1               /data_one               xfs     defaults        0 0\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u91CDu542Fu7CFBu7EDFu67E5u770Bu662Fu5426u81EAu52A8u6302u8F7Du6210u529F\"\u003e\u003ca name=\"重启系统查看是否自动挂载成功\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重启系统查看是否自动挂载成功\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost ~]# fdisk -l\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190301/20190301005649_67c2824670304d38cf13fadea7f77b3a.png?w=1098\u0026amp;h=1382\" title=\"QQ20190301-005531\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190301/20190301005649_67c2824670304d38cf13fadea7f77b3a.png?w=1098\u0026amp;h=1382\" alt=\"QQ20190301-005531\u0026#64;2x.png\" title=\"QQ20190301-005531\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190301-005531\u0026#64;2x.png\"\u003eQQ20190301-005531\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5 id=\"h5--code-dev-sdb1-code-code-dev-sdc1-code-\"\u003e\u003ca name=\"这里可以看到已经挂载了两块硬盘：\u003ccode\u003e/dev/sdb1\u003c/code\u003e和\u003ccode\u003e/dev/sdc1\u003c/code\u003e。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e这里可以看到已经挂载了两块硬盘：\u003ccode\u003e/dev/sdb1\u003c/code\u003e和\u003ccode\u003e/dev/sdc1\u003c/code\u003e。\u003c/h5\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":28793,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-26T13:19:00.053Z"},"updateTime":{"$date":"2019-02-28T17:03:19.094Z"},"__v":0}
{"_id":{"$oid":"5c7814d396269720c22dc358"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"Centos7.0*中防火墙（firewalld）","content":"\u003ch1 id=\"h1-centos7-0-firewalld-\"\u003e\u003ca name=\"Centos7.0*中防火墙（firewalld）\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7.0*中防火墙（firewalld）\u003c/h1\u003e\u003ch4 id=\"h4-u5B89u88C5u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"安装防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装防火墙服务\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eyum \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey install firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u542Fu52A8u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"启动防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e启动防火墙服务\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl start firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u5173u95EDu9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"关闭防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e关闭防火墙服务\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl stop firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u67E5u770Bu9632u706Bu5899u670Du52A1u72B6u6001\"\u003e\u003ca name=\"查看防火墙服务状态\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看防火墙服务状态\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl status firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u5F00u673Au7981u7528u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"开机禁用防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e开机禁用防火墙服务\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl disable firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u5F00u673Au542Fu7528u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"开机启用防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e开机启用防火墙服务\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl enable firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u67E5u770Bu9632u706Bu5899u8FD0u884Cu72B6u6001\"\u003e\u003ca name=\"查看防火墙运行状态\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看防火墙运行状态\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003estate\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u8BBEu7F6Eu9632u706Bu5899u89C4u5219\"\u003e\u003ca name=\"设置防火墙规则\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e设置防火墙规则\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eOPTIONS\u003c/span\u003e\u003cspan class=\"pun\"\u003e...]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h5\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e参数名\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e值\u003c/th\u003e\n\u003cth\u003e备注\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e—state\u003c/td\u003e\n\u003ctd\u003e返回并打印防火墙状态\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—reload\u003c/td\u003e\n\u003ctd\u003e重新加载防火墙并保持防火墙状态\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—complete-reload\u003c/td\u003e\n\u003ctd\u003e重新加载防火墙并丢失状态信息\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—runtime-to-permanent\u003c/td\u003e\n\u003ctd\u003e从运行时配置创建永久性规则\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—check-config\u003c/td\u003e\n\u003ctd\u003e检查永久性配置是否有错误\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-log-denied\u003c/td\u003e\n\u003ctd\u003e打印被拒绝的日志值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-log-denied\u003c/td\u003e\n\u003ctd\u003e设置被拒绝的日志值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-automatic-helpers\u003c/td\u003e\n\u003ctd\u003e获取自动帮助值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-automatic-helpers\u003c/td\u003e\n\u003ctd\u003e设置自动帮助值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—permanent\u003c/td\u003e\n\u003ctd\u003e设置规则永久生效\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-default-zone\u003c/td\u003e\n\u003ctd\u003e打印连接和接口的默认区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-default-zone\u003c/td\u003e\n\u003ctd\u003e设置默认区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-active-zones\u003c/td\u003e\n\u003ctd\u003e获取当前活动区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-zones\u003c/td\u003e\n\u003ctd\u003e打印已定义的区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-services\u003c/td\u003e\n\u003ctd\u003e打印已定义的服务\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-icmptypes\u003c/td\u003e\n\u003ctd\u003e获取所有支持的ICMP类型\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-zone-of-interface\u003c/td\u003e\n\u003ctd\u003e打印接口绑定的区域的名称\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-zone-of-source\u003c/td\u003e\n\u003ctd\u003e打印源绑定到的区域的名称\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—list-all-zones\u003c/td\u003e\n\u003ctd\u003e列出所有已添加或生效的区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—new-zone\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—new-zone-from-file\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—delete-zone\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—load-zone-defaults\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—zone\u003c/td\u003e\n\u003ctd\u003e使用指定的区域作为设置或查询的选项，如果不指定则使用默认的区域（public）作为标记选项\u003c/td\u003e\n\u003ctd\u003epublic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-target\u003c/td\u003e\n\u003ctd\u003e获取区域标签\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-target\u003c/td\u003e\n\u003ctd\u003e设置区域标签\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—info-zone\u003c/td\u003e\n\u003ctd\u003e获取区域规则信息\u003c/td\u003e\n\u003ctd\u003ezone\u003c/td\u003e\n\u003ctd\u003e默认public\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—path-zone\u003c/td\u003e\n\u003ctd\u003e获取区域规则文件所在的路径\u003c/td\u003e\n\u003ctd\u003ezone\u003c/td\u003e\n\u003ctd\u003e默认public\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—add-port\u003c/td\u003e\n\u003ctd\u003e添加允许访问的端口/协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;portid\u0026gt;[-\u0026lt;portid\u0026gt;]/\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—remove-port\u003c/td\u003e\n\u003ctd\u003e删除允许访问的端口/协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;portid\u0026gt;[-\u0026lt;portid\u0026gt;]/\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—query-port\u003c/td\u003e\n\u003ctd\u003e查询端口/协议是否允许访问\u003c/td\u003e\n\u003ctd\u003e\u0026lt;portid\u0026gt;[-\u0026lt;portid\u0026gt;]/\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—list-ports\u003c/td\u003e\n\u003ctd\u003e查看已经开放的端口\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—list-protocols\u003c/td\u003e\n\u003ctd\u003e列出为区域添加的协议\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—add-protocol=\u003c/td\u003e\n\u003ctd\u003e添加一个协议到区域\u003c/td\u003e\n\u003ctd\u003e\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—remove-protocol\u003c/td\u003e\n\u003ctd\u003e从区域中删除一个协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—query-protocol\u003c/td\u003e\n\u003ctd\u003e返回是否为zone添加了协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch6 id=\"h6--code-friewall-cmd-help-code-\"\u003e\u003ca name=\"更多命令请使用：\u003ccode\u003efriewall-cmd --help\u003c/code\u003e查看。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e更多命令请使用：\u003ccode\u003efriewall-cmd --help\u003c/code\u003e查看。\u003c/h6\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"实例：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实例：\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 添加允许http/https端口访问\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ezone \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eadd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eport\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003epermanent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ezone \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eadd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eport\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e443\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003epermanent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 添加允许MySQL访问规则\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ezone \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eadd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eport\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e3306\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003epermanent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 添加允许访问MongoDB端口访问规则\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ezone \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eadd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eport\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e27017\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003epermanent\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 获取public域下的规则信息\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003einfo\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezone \u003c/span\u003e\u003cspan class=\"kwd\"\u003epublic\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003epublic\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eactive\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  target\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003edefault\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  icmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eblock\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003einversion\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eno\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  interfaces\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e eno1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  sources\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  services\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssh dhcpv6\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eclient\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  ports\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"lit\"\u003e443\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"lit\"\u003e27017\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"lit\"\u003e3306\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp \u003c/span\u003e\u003cspan class=\"lit\"\u003e22\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etcp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  protocols\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  masquerade\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eno\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  forward\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eports\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  source\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eports\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  icmp\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eblocks\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  rich rules\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u91CDu542Fu9632u706Bu5899\"\u003e\u003ca name=\"重启防火墙\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重启防火墙\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl restart firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u91CDu65B0u52A0u8F7Du9632u706Bu5899u89C4u5219\"\u003e\u003ca name=\"重新加载防火墙规则\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重新加载防火墙规则\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efirewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd reload\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：当修改了防火墙规则后可以通过重启防火墙或者重新加载使用防火墙生效。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：当修改了防火墙规则后可以通过重启防火墙或者重新加载使用防火墙生效。\u003c/h6\u003e","markDown":"# Centos7.0*中防火墙（firewalld）\n\n#### 安装防火墙服务\n\n```\nyum -y install firewalld\n```\n\n#### 启动防火墙服务\n\n```\nsystemctl start firewalld\n```\n\n#### 关闭防火墙服务\n\n```\nsystemctl stop firewalld\n```\n\n#### 查看防火墙服务状态\n\n```\nsystemctl status firewalld\n```\n#### 开机禁用防火墙服务\n\n```\nsystemctl disable firewalld\n```\n\n#### 开机启用防火墙服务\n\n```\nsystemctl enable firewalld\n```\n\n#### 查看防火墙运行状态\n\n```\nfirewall-cmd --state\n```\n\n#### 设置防火墙规则\n\n```\nfirewall-cmd [OPTIONS...]\n```\n\n##### 参数：\n\n|  参数名  |  描述  |  值  |  备注  |\n|----|----|----|----|\n|  --state  |  返回并打印防火墙状态  |    |    |\n|  --reload  |  重新加载防火墙并保持防火墙状态  |    |    |\n|  --complete-reload  |  重新加载防火墙并丢失状态信息  |    |    |\n|  --runtime-to-permanent  |  从运行时配置创建永久性规则  |    |    |\n|  --check-config  |  检查永久性配置是否有错误  |    |    |\n|  --get-log-denied  |  打印被拒绝的日志值  |    |    |\n|  --set-log-denied  |  设置被拒绝的日志值  |    |    |\n|  --get-automatic-helpers  |  获取自动帮助值  |    |    |\n|  --set-automatic-helpers  |  设置自动帮助值  |    |    |\n|  --permanent  |  设置规则永久生效  |    |    |\n|  --get-default-zone  |  打印连接和接口的默认区域  |    |    |\n|  --set-default-zone  |  设置默认区域  |    |    |\n|  --get-active-zones  |  获取当前活动区域  |    |    |\n|  --get-zones  |  打印已定义的区域  |    |    |\n|  --get-services  |  打印已定义的服务  |    |    |\n|  --get-icmptypes  |  获取所有支持的ICMP类型  |    |    |\n|  --get-zone-of-interface  |  打印接口绑定的区域的名称  |    |    |\n|  --get-zone-of-source  |  打印源绑定到的区域的名称  |    |    |\n|  --list-all-zones  |  列出所有已添加或生效的区域  |    |    |\n|  --new-zone  |    |    |    |\n|  --new-zone-from-file  |    |    |    |\n|  --delete-zone  |    |    |    |\n|  --load-zone-defaults  |    |    |    |\n|  --zone  |  使用指定的区域作为设置或查询的选项，如果不指定则使用默认的区域（public）作为标记选项  |  public  |    |\n|  --get-target  |  获取区域标签  |    |    |\n|  --set-target  |  设置区域标签  |    |    |\n|  --info-zone  |  获取区域规则信息  |  zone  |  默认public  |\n|  --path-zone  |  获取区域规则文件所在的路径  |  zone  |  默认public  |\n|  --add-port  |  添加允许访问的端口/协议  |  \u003cportid\u003e[-\u003cportid\u003e]/\u003cprotocol\u003e  |    |\n| --remove-port  |  删除允许访问的端口/协议  |  \u003cportid\u003e[-\u003cportid\u003e]/\u003cprotocol\u003e  |    |\n|  --query-port  |  查询端口/协议是否允许访问  |  \u003cportid\u003e[-\u003cportid\u003e]/\u003cprotocol\u003e  |    |\n|  --list-ports  |  查看已经开放的端口  |    |    |\n|  --list-protocols  |  列出为区域添加的协议  |    |    |\n|  --add-protocol=  |  添加一个协议到区域  |  \u003cprotocol\u003e  |    |\n|  --remove-protocol  |  从区域中删除一个协议  |  \u003cprotocol\u003e  |    |\n|  --query-protocol  |  返回是否为zone添加了协议  |  \u003cprotocol\u003e  |  .  |\n\n###### 更多命令请使用：```friewall-cmd --help```查看。\n\n### 实例：\n\n```\n# 添加允许http/https端口访问\nfirewall-cmd --zone --add-port=80/tcp --permanent\nfirewall-cmd --zone --add-port=443/tcp --permanent\n# 添加允许MySQL访问规则\nfirewall-cmd --zone --add-port=3306/tcp --permanent\n# 添加允许访问MongoDB端口访问规则\nfirewall-cmd --zone --add-port=27017/tcp --permanent\n# 获取public域下的规则信息\nfirewall-cmd --info-zone public\npublic (active)\n  target: default\n  icmp-block-inversion: no\n  interfaces: eno1\n  sources: \n  services: ssh dhcpv6-client\n  ports: 80/tcp 443/tcp 27017/tcp 3306/tcp 22/tcp\n  protocols: \n  masquerade: no\n  forward-ports: \n  source-ports: \n  icmp-blocks: \n  rich rules: \n\n```\n\n### 重启防火墙\n\n```\nsystemctl restart firewalld\n```\n\n### 重新加载防火墙规则\n\n```\n\nfirewall-cmd reload\n```\n\n###### 提示：当修改了防火墙规则后可以通过重启防火墙或者重新加载使用防火墙生效。","html":"\u003ch1 id=\"h1-centos7-0-firewalld-\"\u003e\u003ca name=\"Centos7.0*中防火墙（firewalld）\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7.0*中防火墙（firewalld）\u003c/h1\u003e\u003ch4 id=\"h4-u5B89u88C5u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"安装防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装防火墙服务\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003eyum -y install firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u542Fu52A8u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"启动防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e启动防火墙服务\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003esystemctl start firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u5173u95EDu9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"关闭防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e关闭防火墙服务\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003esystemctl stop firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u67E5u770Bu9632u706Bu5899u670Du52A1u72B6u6001\"\u003e\u003ca name=\"查看防火墙服务状态\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看防火墙服务状态\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003esystemctl status firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u5F00u673Au7981u7528u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"开机禁用防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e开机禁用防火墙服务\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003esystemctl disable firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u5F00u673Au542Fu7528u9632u706Bu5899u670Du52A1\"\u003e\u003ca name=\"开机启用防火墙服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e开机启用防火墙服务\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003esystemctl enable firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u67E5u770Bu9632u706Bu5899u8FD0u884Cu72B6u6001\"\u003e\u003ca name=\"查看防火墙运行状态\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e查看防火墙运行状态\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003efirewall-cmd --state\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u8BBEu7F6Eu9632u706Bu5899u89C4u5219\"\u003e\u003ca name=\"设置防火墙规则\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e设置防火墙规则\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003efirewall-cmd [OPTIONS...]\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h5\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e参数名\u003c/th\u003e\n\u003cth\u003e描述\u003c/th\u003e\n\u003cth\u003e值\u003c/th\u003e\n\u003cth\u003e备注\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e—state\u003c/td\u003e\n\u003ctd\u003e返回并打印防火墙状态\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—reload\u003c/td\u003e\n\u003ctd\u003e重新加载防火墙并保持防火墙状态\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—complete-reload\u003c/td\u003e\n\u003ctd\u003e重新加载防火墙并丢失状态信息\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—runtime-to-permanent\u003c/td\u003e\n\u003ctd\u003e从运行时配置创建永久性规则\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—check-config\u003c/td\u003e\n\u003ctd\u003e检查永久性配置是否有错误\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-log-denied\u003c/td\u003e\n\u003ctd\u003e打印被拒绝的日志值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-log-denied\u003c/td\u003e\n\u003ctd\u003e设置被拒绝的日志值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-automatic-helpers\u003c/td\u003e\n\u003ctd\u003e获取自动帮助值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-automatic-helpers\u003c/td\u003e\n\u003ctd\u003e设置自动帮助值\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—permanent\u003c/td\u003e\n\u003ctd\u003e设置规则永久生效\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-default-zone\u003c/td\u003e\n\u003ctd\u003e打印连接和接口的默认区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-default-zone\u003c/td\u003e\n\u003ctd\u003e设置默认区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-active-zones\u003c/td\u003e\n\u003ctd\u003e获取当前活动区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-zones\u003c/td\u003e\n\u003ctd\u003e打印已定义的区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-services\u003c/td\u003e\n\u003ctd\u003e打印已定义的服务\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-icmptypes\u003c/td\u003e\n\u003ctd\u003e获取所有支持的ICMP类型\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-zone-of-interface\u003c/td\u003e\n\u003ctd\u003e打印接口绑定的区域的名称\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-zone-of-source\u003c/td\u003e\n\u003ctd\u003e打印源绑定到的区域的名称\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—list-all-zones\u003c/td\u003e\n\u003ctd\u003e列出所有已添加或生效的区域\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—new-zone\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—new-zone-from-file\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—delete-zone\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—load-zone-defaults\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—zone\u003c/td\u003e\n\u003ctd\u003e使用指定的区域作为设置或查询的选项，如果不指定则使用默认的区域（public）作为标记选项\u003c/td\u003e\n\u003ctd\u003epublic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—get-target\u003c/td\u003e\n\u003ctd\u003e获取区域标签\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—set-target\u003c/td\u003e\n\u003ctd\u003e设置区域标签\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—info-zone\u003c/td\u003e\n\u003ctd\u003e获取区域规则信息\u003c/td\u003e\n\u003ctd\u003ezone\u003c/td\u003e\n\u003ctd\u003e默认public\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—path-zone\u003c/td\u003e\n\u003ctd\u003e获取区域规则文件所在的路径\u003c/td\u003e\n\u003ctd\u003ezone\u003c/td\u003e\n\u003ctd\u003e默认public\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—add-port\u003c/td\u003e\n\u003ctd\u003e添加允许访问的端口/协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;portid\u0026gt;[-\u0026lt;portid\u0026gt;]/\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—remove-port\u003c/td\u003e\n\u003ctd\u003e删除允许访问的端口/协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;portid\u0026gt;[-\u0026lt;portid\u0026gt;]/\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—query-port\u003c/td\u003e\n\u003ctd\u003e查询端口/协议是否允许访问\u003c/td\u003e\n\u003ctd\u003e\u0026lt;portid\u0026gt;[-\u0026lt;portid\u0026gt;]/\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—list-ports\u003c/td\u003e\n\u003ctd\u003e查看已经开放的端口\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—list-protocols\u003c/td\u003e\n\u003ctd\u003e列出为区域添加的协议\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—add-protocol=\u003c/td\u003e\n\u003ctd\u003e添加一个协议到区域\u003c/td\u003e\n\u003ctd\u003e\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—remove-protocol\u003c/td\u003e\n\u003ctd\u003e从区域中删除一个协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e—query-protocol\u003c/td\u003e\n\u003ctd\u003e返回是否为zone添加了协议\u003c/td\u003e\n\u003ctd\u003e\u0026lt;protocol\u0026gt;\u003c/td\u003e\n\u003ctd\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch6 id=\"h6--code-friewall-cmd-help-code-\"\u003e\u003ca name=\"更多命令请使用：\u003ccode\u003efriewall-cmd --help\u003c/code\u003e查看。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e更多命令请使用：\u003ccode\u003efriewall-cmd --help\u003c/code\u003e查看。\u003c/h6\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"实例：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e实例：\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e# 添加允许http/https端口访问\nfirewall-cmd --zone --add-port=80/tcp --permanent\nfirewall-cmd --zone --add-port=443/tcp --permanent\n# 添加允许MySQL访问规则\nfirewall-cmd --zone --add-port=3306/tcp --permanent\n# 添加允许访问MongoDB端口访问规则\nfirewall-cmd --zone --add-port=27017/tcp --permanent\n# 获取public域下的规则信息\nfirewall-cmd --info-zone public\npublic (active)\n  target: default\n  icmp-block-inversion: no\n  interfaces: eno1\n  sources: \n  services: ssh dhcpv6-client\n  ports: 80/tcp 443/tcp 27017/tcp 3306/tcp 22/tcp\n  protocols: \n  masquerade: no\n  forward-ports: \n  source-ports: \n  icmp-blocks: \n  rich rules:\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u91CDu542Fu9632u706Bu5899\"\u003e\u003ca name=\"重启防火墙\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重启防火墙\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003esystemctl restart firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u91CDu65B0u52A0u8F7Du9632u706Bu5899u89C4u5219\"\u003e\u003ca name=\"重新加载防火墙规则\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e重新加载防火墙规则\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\nfirewall-cmd reload\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：当修改了防火墙规则后可以通过重启防火墙或者重新加载使用防火墙生效。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：当修改了防火墙规则后可以通过重启防火墙或者重新加载使用防火墙生效。\u003c/h6\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":12497,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-02-28T17:05:23.834Z"},"updateTime":{"$date":"2019-03-19T07:41:18.878Z"},"__v":0}
{"_id":{"$oid":"5c796bcdae52e823e5db3576"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"Linux目录栈操作","content":"\u003ch1 id=\"h1-linux-\"\u003e\u003ca name=\"Linux目录栈操作\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eLinux目录栈操作\u003c/h1\u003e\u003ch3 id=\"h3-dirs\"\u003e\u003ca name=\"dirs\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003edirs\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e显示当前目录栈中的所有记录（不带参数的dirs命令显示当前目录栈中的记录）\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003edirs \u003c/span\u003e\u003cspan class=\"pun\"\u003e[-\u003c/span\u003e\u003cspan class=\"pln\"\u003eclpv\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[+\u003c/span\u003e\u003cspan class=\"pln\"\u003eN\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[-\u003c/span\u003e\u003cspan class=\"pln\"\u003eN\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e+n 显示从左边算起第n笔的目录。\u003c/li\u003e\u003cli\u003e-n 显示从右边算起第n笔的目录。\u003c/li\u003e\u003cli\u003e-l 显示目录完整的记录。\u003c/li\u003e\u003cli\u003e-p 每行显示一条记录\u003c/li\u003e\u003cli\u003e-v 每行显示一条记录，同时展示该记录在栈中的index\u003c/li\u003e\u003cli\u003e-c 清空目录栈\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-pushd\"\u003e\u003ca name=\"pushd\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epushd\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e用于将目录加入到栈中，加入记录到目录栈顶部，并切换到该目录；若pushd命令不加任何参数，则会将位于记录栈最上面的2个目录对换位置\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003epushd \u003c/span\u003e\u003cspan class=\"pun\"\u003e[-\u003c/span\u003e\u003cspan class=\"pln\"\u003en\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[+\u003c/span\u003e\u003cspan class=\"pln\"\u003eN \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eN \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e dir\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e+N 将第N个目录移至栈顶（从左边数起，数字从0开始）\u003c/li\u003e\u003cli\u003e-N 将第N个目录移至栈顶（从右边数起，数字从0开始）\u003c/li\u003e\u003cli\u003e-n 将目录入栈时，不切换目录\u003c/li\u003e\u003cli\u003edir 将该目录加入到栈顶，并执行”cd 目录”，切换到该目录\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-popd\"\u003e\u003ca name=\"popd\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epopd\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e用于删除目录栈中的记录；如果popd命令不加任何参数，则会先删除目录栈最上面的记录，然后切换到删除过后的目录栈中的最上面的目录\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003epopd \u003c/span\u003e\u003cspan class=\"pun\"\u003e[-\u003c/span\u003e\u003cspan class=\"pln\"\u003en\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[+\u003c/span\u003e\u003cspan class=\"pln\"\u003eN \u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eN\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003e-n 删除第n个目录（从列表左侧开始计数由dirs打印），从0开始。\u003c/li\u003e\u003cli\u003e+N 删除第n个目录（从列表右侧开始计数由dirs打印），从0开始。\u003c/li\u003e\u003cli\u003e-N 从中删除目录时禁止正常更改目录堆栈，以便仅对堆栈进行操作。\u003c/li\u003e\u003c/ul\u003e\n","markDown":"# Linux目录栈操作\n\n### dirs\n\n\u003e 显示当前目录栈中的所有记录（不带参数的dirs命令显示当前目录栈中的记录）\n\n#### 语法：\n\n```\ndirs [-clpv] [+N] [-N]\n```\n\n#### 参数：\n\n* +n 显示从左边算起第n笔的目录。\n* -n 显示从右边算起第n笔的目录。\n* -l 显示目录完整的记录。\n* -p 每行显示一条记录\n* -v 每行显示一条记录，同时展示该记录在栈中的index\n* -c 清空目录栈\n\n### pushd\n\n\u003e 用于将目录加入到栈中，加入记录到目录栈顶部，并切换到该目录；若pushd命令不加任何参数，则会将位于记录栈最上面的2个目录对换位置\n\n#### 语法：\n\n```\npushd [-n] [+N | -N | dir]\n```\n\n#### 参数：\n\n* +N 将第N个目录移至栈顶（从左边数起，数字从0开始）\n* -N 将第N个目录移至栈顶（从右边数起，数字从0开始）\n* -n 将目录入栈时，不切换目录\n* dir 将该目录加入到栈顶，并执行\"cd 目录\"，切换到该目录\n\n### popd\n\n\u003e 用于删除目录栈中的记录；如果popd命令不加任何参数，则会先删除目录栈最上面的记录，然后切换到删除过后的目录栈中的最上面的目录\n\n#### 语法：\n\n```\npopd [-n] [+N | -N]\n```\n\n##### 参数：\n\n* -n 删除第n个目录（从列表左侧开始计数由dirs打印），从0开始。\n* +N 删除第n个目录（从列表右侧开始计数由dirs打印），从0开始。\n* -N 从中删除目录时禁止正常更改目录堆栈，以便仅对堆栈进行操作。","html":"\u003ch1 id=\"h1-linux-\"\u003e\u003ca name=\"Linux目录栈操作\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eLinux目录栈操作\u003c/h1\u003e\u003ch3 id=\"h3-dirs\"\u003e\u003ca name=\"dirs\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003edirs\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e显示当前目录栈中的所有记录（不带参数的dirs命令显示当前目录栈中的记录）\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003edirs [-clpv] [+N] [-N]\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e+n 显示从左边算起第n笔的目录。\u003c/li\u003e\u003cli\u003e-n 显示从右边算起第n笔的目录。\u003c/li\u003e\u003cli\u003e-l 显示目录完整的记录。\u003c/li\u003e\u003cli\u003e-p 每行显示一条记录\u003c/li\u003e\u003cli\u003e-v 每行显示一条记录，同时展示该记录在栈中的index\u003c/li\u003e\u003cli\u003e-c 清空目录栈\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-pushd\"\u003e\u003ca name=\"pushd\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epushd\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e用于将目录加入到栈中，加入记录到目录栈顶部，并切换到该目录；若pushd命令不加任何参数，则会将位于记录栈最上面的2个目录对换位置\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003epushd [-n] [+N | -N | dir]\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e+N 将第N个目录移至栈顶（从左边数起，数字从0开始）\u003c/li\u003e\u003cli\u003e-N 将第N个目录移至栈顶（从右边数起，数字从0开始）\u003c/li\u003e\u003cli\u003e-n 将目录入栈时，不切换目录\u003c/li\u003e\u003cli\u003edir 将该目录加入到栈顶，并执行”cd 目录”，切换到该目录\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-popd\"\u003e\u003ca name=\"popd\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003epopd\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e用于删除目录栈中的记录；如果popd命令不加任何参数，则会先删除目录栈最上面的记录，然后切换到删除过后的目录栈中的最上面的目录\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4--\"\u003e\u003ca name=\"语法：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e语法：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003epopd [-n] [+N | -N]\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"参数：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e参数：\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003e-n 删除第n个目录（从列表左侧开始计数由dirs打印），从0开始。\u003c/li\u003e\u003cli\u003e+N 删除第n个目录（从列表右侧开始计数由dirs打印），从0开始。\u003c/li\u003e\u003cli\u003e-N 从中删除目录时禁止正常更改目录堆栈，以便仅对堆栈进行操作。\u003c/li\u003e\u003c/ul\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":3304,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-01T17:28:45.179Z"},"updateTime":{"$date":"2019-03-01T17:42:32.240Z"},"__v":0}
{"_id":{"$oid":"5c7ab5eeae52e823e5db3577"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"web服务器压力测试ab工具的使用","content":"\u003ch1 id=\"h1-web-ab-\"\u003e\u003ca name=\"web服务器压力测试ab工具的使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eweb服务器压力测试ab工具的使用\u003c/h1\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"网站性能压力测试是服务器网站性能调优过程中必不可缺少的一环。只有让服务器处在高压情况下，才能真正体现出软件、硬件等各种设置不当所暴露出的问题。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e网站性能压力测试是服务器网站性能调优过程中必不可缺少的一环。只有让服务器处在高压情况下，才能真正体现出软件、硬件等各种设置不当所暴露出的问题。\u003c/h5\u003e\u003ch5 id=\"h5-ab-apache-ab-apache-nginx-tomcat-iis-\"\u003e\u003ca name=\"ab是apache自带的压力测试工具。ab非常实用，它不仅可以对apache服务器进行网站访问压力测试，也可以对或其它类型的服务器进行压力测试。比如nginx、tomcat、IIS等。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab是apache自带的压力测试工具。ab非常实用，它不仅可以对apache服务器进行网站访问压力测试，也可以对或其它类型的服务器进行压力测试。比如nginx、tomcat、IIS等。\u003c/h5\u003e\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab原理\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab原理\u003c/h3\u003e\u003cp\u003eab是apachebench命令的缩写。\u003c/p\u003e\n\u003cp\u003eab的原理：ab命令会创建多个并发访问线程，模拟多个访问者同时对某一URL地址进行访问。它的测试目标是基于URL的，因此，它既可以用来测试apache的负载压力，也可以测试nginx、lighthttp、tomcat、IIS等其它Web服务器的压力。\u003c/p\u003e\n\u003cp\u003eab命令对发出负载的计算机要求很低，它既不会占用很高CPU，也不会占用很多内存。但却会给目标服务器造成巨大的负载，其原理类似CC攻击。自己测试使用也需要注意，否则一次上太多的负载。可能造成目标服务器资源耗完，严重时甚至导致死机。\u003c/p\u003e\n\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab安装\u003c/h3\u003e\u003cp\u003eab的安装非常简单，如果是源码安装apache的话，那就更简单了。apache安装完毕后ab命令存放在apache安装目录的bin目录下。如下：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache2\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e如果apache 是通过yum的RPM包方式安装的话，ab命令默认存放在/usr/bin目录下。如下：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewhich ab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e注意：如果不想安装apache但是又想使用ab命令的话，我们可以直接安装apache的工具包httpd-tools。如下：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eyum \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey install httpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003etools\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e查看ab是否安装成功，可以切换到上述目录下，使用ab –V命令进行检测。如下：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eab \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eV\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e如果ab安装成功，通过ab –V命令则会显示ab的相迎版本，如上图示。\u003c/p\u003e\n\u003cp\u003e注意以上是在linux平台下进行安装的，如果是windows平台下，我们也可以下载对应的apache版本进行安装。\u003c/p\u003e\n\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab参数说明\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab参数说明\u003c/h3\u003e\u003ch6 id=\"h6--ab-\"\u003e\u003ca name=\"有关ab命令的使用，可以通过帮助命令进行查看。如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e有关ab命令的使用，可以通过帮助命令进行查看。如下：\u003c/h6\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eab \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ehelp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"下面我们对这些参数，进行相关说明。如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面我们对这些参数，进行相关说明。如下：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e-n 在测试会话中所执行的请求个数。默认时，仅执行一个请求。\u003c/li\u003e\u003cli\u003e-c 一次产生的请求个数。默认是一次一个。\u003c/li\u003e\u003cli\u003e-t 测试所进行的最大秒数。其内部隐含值是-n 50000，它可以使对服务器的测试限制在一个固定的总时间以内。默认时，没有时间限制。\u003c/li\u003e\u003cli\u003e-p 包含了需要POST的数据的文件。\u003c/li\u003e\u003cli\u003e-P 对一个中转代理提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即, 是否发送了401认证需求代码)，此字符串都会被发送。\u003c/li\u003e\u003cli\u003e-T POST数据所使用的Content-type头信息。\u003c/li\u003e\u003cli\u003e-v 设置显示信息的详细程度-4或更大值会显示头信息，3或更大值可以显示响应代码(404,200等),2或更大值可以显示警告和其他信息。\u003c/li\u003e\u003cli\u003e-V 显示版本号并退出。\u003c/li\u003e\u003cli\u003e-w 以HTML表的格式输出结果。默认时，它是白色背景的两列宽度的一张表。\u003c/li\u003e\u003cli\u003e-i 执行HEAD请求，而不是GET。\u003c/li\u003e\u003cli\u003e-x 设置\u003ccode\u003e\u0026lt;table\u0026gt;\u003c/code\u003e属性的字符串。\u003c/li\u003e\u003cli\u003e-X 对请求使用代理服务器。\u003c/li\u003e\u003cli\u003e-y 设置\u003ccode\u003e\u0026lt;tr\u0026gt;\u003c/code\u003e属性的字符串。\u003c/li\u003e\u003cli\u003e-z 设置\u003ccode\u003e\u0026lt;td\u0026gt;\u003c/code\u003e属性的字符串。\u003c/li\u003e\u003cli\u003e-C 对请求附加一个Cookie:行。其典型形式是name=value的一个参数对，此参数可以重复。\u003c/li\u003e\u003cli\u003e-H 对请求附加额外的头信息。此参数的典型形式是一个有效的头信息行，其中包含了以冒号分隔的字段和值的对(如,”Accept-Encoding:zip/zop;8bit”)。\u003c/li\u003e\u003cli\u003e-A 对服务器提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即,是否发送了401认证需求代码)，此字符串都会被发送。\u003c/li\u003e\u003cli\u003e-h 显示使用方法。\u003c/li\u003e\u003cli\u003e-d 不显示”percentage served within XX [ms] table”的消息(为以前的版本提供支持)。\u003c/li\u003e\u003cli\u003e-e 产生一个以逗号分隔的(CSV)文件，其中包含了处理每个相应百分比的请求所需要(从1%到100%)的相应百分比的(以微妙为单位)时间。由于这种格式已经“二进制化”，所以比’gnuplot’格式更有用。\u003c/li\u003e\u003cli\u003e-g 把所有测试结果写入一个’gnuplot’或者TSV(以Tab分隔的)文件。此文件可以方便地导入到Gnuplot,IDL,Mathematica,Igor甚至Excel中。其中的第一行为标题。\u003c/li\u003e\u003cli\u003e-i 执行HEAD请求，而不是GET。\u003c/li\u003e\u003cli\u003e-k 启用HTTP KeepAlive功能，即在一个HTTP会话中执行多个请求。默认时，不启用KeepAlive功能。\u003c/li\u003e\u003cli\u003e-q 如果处理的请求数大于150，ab每处理大约10%或者100个请求时，会在stderr输出一个进度计数。此-q标记可以抑制这些信息。\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab性能指标\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab性能指标\u003c/h3\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"在进行性能测试过程中有几个指标比较重要：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在进行性能测试过程中有几个指标比较重要：\u003c/h4\u003e\u003cp\u003e1、吞吐率（Requests per second）\u003c/p\u003e\n\u003cp\u003e服务器并发处理能力的量化描述，单位是reqs/s，指的是在某个并发用户数下单位时间内处理的请求数。某个并发用户数下单位时间内能处理的最大请求数，称之为最大吞吐率。\u003c/p\u003e\n\u003cp\u003e记住：吞吐率是基于并发用户数的。这句话代表了两个含义：\u003c/p\u003e\n\u003cp\u003ea、吞吐率和并发用户数相关\u003c/p\u003e\n\u003cp\u003eb、不同的并发用户数下，吞吐率一般是不同的\u003c/p\u003e\n\u003cp\u003e计算公式：总请求数/处理完成这些请求数所花费的时间，即\u003c/p\u003e\n\u003cp\u003eRequest per second=Complete requests/Time taken for tests\u003c/p\u003e\n\u003cp\u003e必须要说明的是，这个数值表示当前机器的整体性能，值越大越好。\u003c/p\u003e\n\u003cp\u003e2、并发连接数（The number of concurrent connections）\u003c/p\u003e\n\u003cp\u003e并发连接数指的是某个时刻服务器所接受的请求数目，简单的讲，就是一个会话。\u003c/p\u003e\n\u003cp\u003e3、并发用户数（Concurrency Level）\u003c/p\u003e\n\u003cp\u003e要注意区分这个概念和并发连接数之间的区别，一个用户可能同时会产生多个会话，也即连接数。在HTTP/1.1下，IE7支持两个并发连接，IE8支持6个并发连接，FireFox3支持4个并发连接，所以相应的，我们的并发用户数就得除以这个基数。\u003c/p\u003e\n\u003cp\u003e4、用户平均请求等待时间（Time per request）\u003c/p\u003e\n\u003cp\u003e计算公式：处理完成所有请求数所花费的时间/（总请求数/并发用户数），即：\u003c/p\u003e\n\u003cp\u003eTime per request=Time taken for tests/（Complete requests/Concurrency Level）\u003c/p\u003e\n\u003cp\u003e5、服务器平均请求等待时间（Time per request:across all concurrent requests）\u003c/p\u003e\n\u003cp\u003e计算公式：处理完成所有请求数所花费的时间/总请求数，即：\u003c/p\u003e\n\u003cp\u003eTime taken for/testsComplete requests\u003c/p\u003e\n\u003cp\u003e可以看到，它是吞吐率的倒数。\u003c/p\u003e\n\u003cp\u003e同时，它也等于用户平均请求等待时间/并发用户数，即\u003c/p\u003e\n\u003cp\u003eTime per request/Concurrency Level\u003c/p\u003e\n\u003ch3 id=\"h3-ab-node-js-\"\u003e\u003ca name=\"ab使用：测试Node.js服务器性能\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab使用：测试Node.js服务器性能\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ebluelifes\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eMacBook\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003ePro\u003c/span\u003e\u003cspan class=\"pun\"\u003e:~\u003c/span\u003e\u003cspan class=\"pln\"\u003e bluelifeleer$ ab \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec \u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"lit\"\u003e10000\u003c/span\u003e\u003cspan class=\"pln\"\u003e https\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//blog.mcloudhub.com/article/detaile?id=5c3e2295fc56f30dec47c535\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eThis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eApacheBench\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eVersion\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e2.3\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e$Revision\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1826891\u003c/span\u003e\u003cspan class=\"pln\"\u003e $\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCopyright\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1996\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAdam\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTwiss\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eZeus\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTechnology\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eLtd\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//www.zeustech.net/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLicensed\u003c/span\u003e\u003cspan class=\"pln\"\u003e to \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eApache\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSoftware\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eFoundation\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//www.apache.org/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eBenchmarking\u003c/span\u003e\u003cspan class=\"pln\"\u003e blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ebe patient\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esocket\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eToo\u003c/span\u003e\u003cspan class=\"pln\"\u003e many open files \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e24\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ebluelifes\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eMacBook\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003ePro\u003c/span\u003e\u003cspan class=\"pun\"\u003e:~\u003c/span\u003e\u003cspan class=\"pln\"\u003e bluelifeleer$ ab \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec \u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003en \u003c/span\u003e\u003cspan class=\"lit\"\u003e10000\u003c/span\u003e\u003cspan class=\"pln\"\u003e https\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//blog.mcloudhub.com/article/detaile?id=5c3e2295fc56f30dec47c535\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eThis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eApacheBench\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eVersion\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e2.3\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e$Revision\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1826891\u003c/span\u003e\u003cspan class=\"pln\"\u003e $\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCopyright\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1996\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAdam\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTwiss\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eZeus\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTechnology\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eLtd\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//www.zeustech.net/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLicensed\u003c/span\u003e\u003cspan class=\"pln\"\u003e to \u003c/span\u003e\u003cspan class=\"typ\"\u003eThe\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eApache\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSoftware\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eFoundation\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//www.apache.org/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eBenchmarking\u003c/span\u003e\u003cspan class=\"pln\"\u003e blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ebe patient\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e2000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e3000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e4000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e5000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e6000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e7000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e8000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e9000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eCompleted\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eFinished\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10000\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eServer\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSoftware\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eServer\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eHostname\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e        blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eServer\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003ePort\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"lit\"\u003e443\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eSSL\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eTLS \u003c/span\u003e\u003cspan class=\"typ\"\u003eProtocol\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"typ\"\u003eTLSv1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003eECDHE\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eRSA\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eAES128\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eGCM\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eSHA256\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"lit\"\u003e2048\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"lit\"\u003e128\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eTLS \u003c/span\u003e\u003cspan class=\"typ\"\u003eServer\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eName\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e        blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDocument\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003ePath\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e          \u003c/span\u003e\u003cspan class=\"str\"\u003e/article/\u003c/span\u003e\u003cspan class=\"pln\"\u003edetaile\u003c/span\u003e\u003cspan class=\"pun\"\u003e?\u003c/span\u003e\u003cspan class=\"pln\"\u003eid\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e5c3e2295fc56f30dec47c535\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDocument\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eLength\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e17865\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eConcurrency\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eLevel\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTime\u003c/span\u003e\u003cspan class=\"pln\"\u003e taken \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e tests\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e145.625\u003c/span\u003e\u003cspan class=\"pln\"\u003e seconds\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eComplete\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e10000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eFailed\u003c/span\u003e\u003cspan class=\"pln\"\u003e requests\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTotal\u003c/span\u003e\u003cspan class=\"pln\"\u003e transferred\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"lit\"\u003e186126208\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eHTML transferred\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"lit\"\u003e178650000\u003c/span\u003e\u003cspan class=\"pln\"\u003e bytes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eRequests\u003c/span\u003e\u003cspan class=\"pln\"\u003e per second\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e68.67\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"com\"\u003e#/sec] (mean)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTime\u003c/span\u003e\u003cspan class=\"pln\"\u003e per request\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"lit\"\u003e1456.252\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003ems\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003emean\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTime\u003c/span\u003e\u003cspan class=\"pln\"\u003e per request\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"lit\"\u003e14.563\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003ems\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003emean\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e across all concurrent requests\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTransfer\u003c/span\u003e\u003cspan class=\"pln\"\u003e rate\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e          \u003c/span\u003e\u003cspan class=\"lit\"\u003e1248.16\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eKbytes\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esec\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e received\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eConnection\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eTimes\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ems\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e              min  mean\u003c/span\u003e\u003cspan class=\"pun\"\u003e[+/-\u003c/span\u003e\u003cspan class=\"pln\"\u003esd\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e median   max\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eConnect\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"lit\"\u003e62\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e771\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e542.9\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e612\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e21228\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eProcessing\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e21\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e679\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e653.6\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e498\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e28808\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eWaiting\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e       \u003c/span\u003e\u003cspan class=\"lit\"\u003e11\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e269\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e221.6\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e206\u003c/span\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"lit\"\u003e5805\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eTotal\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"lit\"\u003e109\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1450\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e908.7\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e1217\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e30100\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003ePercentage\u003c/span\u003e\u003cspan class=\"pln\"\u003e of the requests served within a certain time \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ems\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e50\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e1217\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e66\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e1476\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e75\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e1696\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e1852\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e90\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e2408\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e95\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e3026\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e98\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e3905\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e99\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e   \u003c/span\u003e\u003cspan class=\"lit\"\u003e4487\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u003c/span\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"lit\"\u003e30100\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003elongest request\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e","markDown":"# web服务器压力测试ab工具的使用\n\n#####  网站性能压力测试是服务器网站性能调优过程中必不可缺少的一环。只有让服务器处在高压情况下，才能真正体现出软件、硬件等各种设置不当所暴露出的问题。\n\n##### ab是apache自带的压力测试工具。ab非常实用，它不仅可以对apache服务器进行网站访问压力测试，也可以对或其它类型的服务器进行压力测试。比如nginx、tomcat、IIS等。\n\n### ab原理\n\nab是apachebench命令的缩写。\n\nab的原理：ab命令会创建多个并发访问线程，模拟多个访问者同时对某一URL地址进行访问。它的测试目标是基于URL的，因此，它既可以用来测试apache的负载压力，也可以测试nginx、lighthttp、tomcat、IIS等其它Web服务器的压力。\n\nab命令对发出负载的计算机要求很低，它既不会占用很高CPU，也不会占用很多内存。但却会给目标服务器造成巨大的负载，其原理类似CC攻击。自己测试使用也需要注意，否则一次上太多的负载。可能造成目标服务器资源耗完，严重时甚至导致死机。\n\n### ab安装\n\nab的安装非常简单，如果是源码安装apache的话，那就更简单了。apache安装完毕后ab命令存放在apache安装目录的bin目录下。如下：\n\n```\n/usr/local/apache2/bin\n```\n\n如果apache 是通过yum的RPM包方式安装的话，ab命令默认存放在/usr/bin目录下。如下：\n\n```\nwhich ab\n```\n\n注意：如果不想安装apache但是又想使用ab命令的话，我们可以直接安装apache的工具包httpd-tools。如下：\n\n```\nyum -y install httpd-tools\n```\n\n查看ab是否安装成功，可以切换到上述目录下，使用ab –V命令进行检测。如下：\n\n```\nab -V\n```\n\n如果ab安装成功，通过ab –V命令则会显示ab的相迎版本，如上图示。\n\n注意以上是在linux平台下进行安装的，如果是windows平台下，我们也可以下载对应的apache版本进行安装。\n\n### ab参数说明\n\n###### 有关ab命令的使用，可以通过帮助命令进行查看。如下：\n\n```\nab --help\n```\n\n#### 下面我们对这些参数，进行相关说明。如下：\n\n* -n 在测试会话中所执行的请求个数。默认时，仅执行一个请求。\n* -c 一次产生的请求个数。默认是一次一个。\n* -t 测试所进行的最大秒数。其内部隐含值是-n 50000，它可以使对服务器的测试限制在一个固定的总时间以内。默认时，没有时间限制。\n* -p 包含了需要POST的数据的文件。\n* -P 对一个中转代理提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即, 是否发送了401认证需求代码)，此字符串都会被发送。\n*  -T POST数据所使用的Content-type头信息。\n* -v 设置显示信息的详细程度-4或更大值会显示头信息，3或更大值可以显示响应代码(404,200等),2或更大值可以显示警告和其他信息。\n* -V 显示版本号并退出。\n* -w 以HTML表的格式输出结果。默认时，它是白色背景的两列宽度的一张表。\n* -i 执行HEAD请求，而不是GET。\n* -x 设置```\u003ctable\u003e```属性的字符串。\n* -X 对请求使用代理服务器。\n* -y 设置```\u003ctr\u003e```属性的字符串。\n* -z 设置```\u003ctd\u003e```属性的字符串。\n* -C 对请求附加一个Cookie:行。其典型形式是name=value的一个参数对，此参数可以重复。\n* -H 对请求附加额外的头信息。此参数的典型形式是一个有效的头信息行，其中包含了以冒号分隔的字段和值的对(如,\"Accept-Encoding:zip/zop;8bit\")。\n* -A 对服务器提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即,是否发送了401认证需求代码)，此字符串都会被发送。\n* -h 显示使用方法。\n* -d 不显示\"percentage served within XX [ms] table\"的消息(为以前的版本提供支持)。\n* -e 产生一个以逗号分隔的(CSV)文件，其中包含了处理每个相应百分比的请求所需要(从1%到100%)的相应百分比的(以微妙为单位)时间。由于这种格式已经“二进制化”，所以比'gnuplot'格式更有用。\n* -g 把所有测试结果写入一个'gnuplot'或者TSV(以Tab分隔的)文件。此文件可以方便地导入到Gnuplot,IDL,Mathematica,Igor甚至Excel中。其中的第一行为标题。\n* -i 执行HEAD请求，而不是GET。\n* -k 启用HTTP KeepAlive功能，即在一个HTTP会话中执行多个请求。默认时，不启用KeepAlive功能。\n* -q 如果处理的请求数大于150，ab每处理大约10%或者100个请求时，会在stderr输出一个进度计数。此-q标记可以抑制这些信息。\n\n### ab性能指标\n\n#### 在进行性能测试过程中有几个指标比较重要：\n\n1、吞吐率（Requests per second）\n\n服务器并发处理能力的量化描述，单位是reqs/s，指的是在某个并发用户数下单位时间内处理的请求数。某个并发用户数下单位时间内能处理的最大请求数，称之为最大吞吐率。\n\n记住：吞吐率是基于并发用户数的。这句话代表了两个含义：\n\na、吞吐率和并发用户数相关\n\nb、不同的并发用户数下，吞吐率一般是不同的\n\n计算公式：总请求数/处理完成这些请求数所花费的时间，即\n\nRequest per second=Complete requests/Time taken for tests\n\n必须要说明的是，这个数值表示当前机器的整体性能，值越大越好。\n\n2、并发连接数（The number of concurrent connections）\n\n并发连接数指的是某个时刻服务器所接受的请求数目，简单的讲，就是一个会话。\n\n3、并发用户数（Concurrency Level）\n\n要注意区分这个概念和并发连接数之间的区别，一个用户可能同时会产生多个会话，也即连接数。在HTTP/1.1下，IE7支持两个并发连接，IE8支持6个并发连接，FireFox3支持4个并发连接，所以相应的，我们的并发用户数就得除以这个基数。\n\n4、用户平均请求等待时间（Time per request）\n\n计算公式：处理完成所有请求数所花费的时间/（总请求数/并发用户数），即：\n\nTime per request=Time taken for tests/（Complete requests/Concurrency Level）\n\n5、服务器平均请求等待时间（Time per request:across all concurrent requests）\n\n计算公式：处理完成所有请求数所花费的时间/总请求数，即：\n\nTime taken for/testsComplete requests\n\n可以看到，它是吞吐率的倒数。\n\n同时，它也等于用户平均请求等待时间/并发用户数，即\n\nTime per request/Concurrency Level\n\n### ab使用：测试Node.js服务器性能\n\n```\nbluelifes-MacBook-Pro:~ bluelifeleer$ ab -c 100 -n 10000 https://blog.mcloudhub.com/article/detaile?id=5c3e2295fc56f30dec47c535\nThis is ApacheBench, Version 2.3 \u003c$Revision: 1826891 $\u003e\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking blog.mcloudhub.com (be patient)\nsocket: Too many open files (24)\nbluelifes-MacBook-Pro:~ bluelifeleer$ ab -c 100 -n 10000 https://blog.mcloudhub.com/article/detaile?id=5c3e2295fc56f30dec47c535\nThis is ApacheBench, Version 2.3 \u003c$Revision: 1826891 $\u003e\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking blog.mcloudhub.com (be patient)\nCompleted 1000 requests\nCompleted 2000 requests\nCompleted 3000 requests\nCompleted 4000 requests\nCompleted 5000 requests\nCompleted 6000 requests\nCompleted 7000 requests\nCompleted 8000 requests\nCompleted 9000 requests\nCompleted 10000 requests\nFinished 10000 requests\n\n\nServer Software:        \nServer Hostname:        blog.mcloudhub.com\nServer Port:            443\nSSL/TLS Protocol:       TLSv1.2,ECDHE-RSA-AES128-GCM-SHA256,2048,128\nTLS Server Name:        blog.mcloudhub.com\n\nDocument Path:          /article/detaile?id=5c3e2295fc56f30dec47c535\nDocument Length:        17865 bytes\n\nConcurrency Level:      100\nTime taken for tests:   145.625 seconds\nComplete requests:      10000\nFailed requests:        0\nTotal transferred:      186126208 bytes\nHTML transferred:       178650000 bytes\nRequests per second:    68.67 [#/sec] (mean)\nTime per request:       1456.252 [ms] (mean)\nTime per request:       14.563 [ms] (mean, across all concurrent requests)\nTransfer rate:          1248.16 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:       62  771 542.9    612   21228\nProcessing:    21  679 653.6    498   28808\nWaiting:       11  269 221.6    206    5805\nTotal:        109 1450 908.7   1217   30100\n\nPercentage of the requests served within a certain time (ms)\n  50%   1217\n  66%   1476\n  75%   1696\n  80%   1852\n  90%   2408\n  95%   3026\n  98%   3905\n  99%   4487\n 100%  30100 (longest request)\n```","html":"\u003ch1 id=\"h1-web-ab-\"\u003e\u003ca name=\"web服务器压力测试ab工具的使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eweb服务器压力测试ab工具的使用\u003c/h1\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"网站性能压力测试是服务器网站性能调优过程中必不可缺少的一环。只有让服务器处在高压情况下，才能真正体现出软件、硬件等各种设置不当所暴露出的问题。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e网站性能压力测试是服务器网站性能调优过程中必不可缺少的一环。只有让服务器处在高压情况下，才能真正体现出软件、硬件等各种设置不当所暴露出的问题。\u003c/h5\u003e\u003ch5 id=\"h5-ab-apache-ab-apache-nginx-tomcat-iis-\"\u003e\u003ca name=\"ab是apache自带的压力测试工具。ab非常实用，它不仅可以对apache服务器进行网站访问压力测试，也可以对或其它类型的服务器进行压力测试。比如nginx、tomcat、IIS等。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab是apache自带的压力测试工具。ab非常实用，它不仅可以对apache服务器进行网站访问压力测试，也可以对或其它类型的服务器进行压力测试。比如nginx、tomcat、IIS等。\u003c/h5\u003e\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab原理\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab原理\u003c/h3\u003e\u003cp\u003eab是apachebench命令的缩写。\u003c/p\u003e\n\u003cp\u003eab的原理：ab命令会创建多个并发访问线程，模拟多个访问者同时对某一URL地址进行访问。它的测试目标是基于URL的，因此，它既可以用来测试apache的负载压力，也可以测试nginx、lighthttp、tomcat、IIS等其它Web服务器的压力。\u003c/p\u003e\n\u003cp\u003eab命令对发出负载的计算机要求很低，它既不会占用很高CPU，也不会占用很多内存。但却会给目标服务器造成巨大的负载，其原理类似CC攻击。自己测试使用也需要注意，否则一次上太多的负载。可能造成目标服务器资源耗完，严重时甚至导致死机。\u003c/p\u003e\n\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab安装\u003c/h3\u003e\u003cp\u003eab的安装非常简单，如果是源码安装apache的话，那就更简单了。apache安装完毕后ab命令存放在apache安装目录的bin目录下。如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/usr/local/apache2/bin\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如果apache 是通过yum的RPM包方式安装的话，ab命令默认存放在/usr/bin目录下。如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ewhich ab\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e注意：如果不想安装apache但是又想使用ab命令的话，我们可以直接安装apache的工具包httpd-tools。如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eyum -y install httpd-tools\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e查看ab是否安装成功，可以切换到上述目录下，使用ab –V命令进行检测。如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eab -V\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如果ab安装成功，通过ab –V命令则会显示ab的相迎版本，如上图示。\u003c/p\u003e\n\u003cp\u003e注意以上是在linux平台下进行安装的，如果是windows平台下，我们也可以下载对应的apache版本进行安装。\u003c/p\u003e\n\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab参数说明\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab参数说明\u003c/h3\u003e\u003ch6 id=\"h6--ab-\"\u003e\u003ca name=\"有关ab命令的使用，可以通过帮助命令进行查看。如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e有关ab命令的使用，可以通过帮助命令进行查看。如下：\u003c/h6\u003e\u003cpre\u003e\u003ccode\u003eab --help\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"下面我们对这些参数，进行相关说明。如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面我们对这些参数，进行相关说明。如下：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e-n 在测试会话中所执行的请求个数。默认时，仅执行一个请求。\u003c/li\u003e\u003cli\u003e-c 一次产生的请求个数。默认是一次一个。\u003c/li\u003e\u003cli\u003e-t 测试所进行的最大秒数。其内部隐含值是-n 50000，它可以使对服务器的测试限制在一个固定的总时间以内。默认时，没有时间限制。\u003c/li\u003e\u003cli\u003e-p 包含了需要POST的数据的文件。\u003c/li\u003e\u003cli\u003e-P 对一个中转代理提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即, 是否发送了401认证需求代码)，此字符串都会被发送。\u003c/li\u003e\u003cli\u003e-T POST数据所使用的Content-type头信息。\u003c/li\u003e\u003cli\u003e-v 设置显示信息的详细程度-4或更大值会显示头信息，3或更大值可以显示响应代码(404,200等),2或更大值可以显示警告和其他信息。\u003c/li\u003e\u003cli\u003e-V 显示版本号并退出。\u003c/li\u003e\u003cli\u003e-w 以HTML表的格式输出结果。默认时，它是白色背景的两列宽度的一张表。\u003c/li\u003e\u003cli\u003e-i 执行HEAD请求，而不是GET。\u003c/li\u003e\u003cli\u003e-x 设置\u003ccode\u003e\u0026lt;table\u0026gt;\u003c/code\u003e属性的字符串。\u003c/li\u003e\u003cli\u003e-X 对请求使用代理服务器。\u003c/li\u003e\u003cli\u003e-y 设置\u003ccode\u003e\u0026lt;tr\u0026gt;\u003c/code\u003e属性的字符串。\u003c/li\u003e\u003cli\u003e-z 设置\u003ccode\u003e\u0026lt;td\u0026gt;\u003c/code\u003e属性的字符串。\u003c/li\u003e\u003cli\u003e-C 对请求附加一个Cookie:行。其典型形式是name=value的一个参数对，此参数可以重复。\u003c/li\u003e\u003cli\u003e-H 对请求附加额外的头信息。此参数的典型形式是一个有效的头信息行，其中包含了以冒号分隔的字段和值的对(如,”Accept-Encoding:zip/zop;8bit”)。\u003c/li\u003e\u003cli\u003e-A 对服务器提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即,是否发送了401认证需求代码)，此字符串都会被发送。\u003c/li\u003e\u003cli\u003e-h 显示使用方法。\u003c/li\u003e\u003cli\u003e-d 不显示”percentage served within XX [ms] table”的消息(为以前的版本提供支持)。\u003c/li\u003e\u003cli\u003e-e 产生一个以逗号分隔的(CSV)文件，其中包含了处理每个相应百分比的请求所需要(从1%到100%)的相应百分比的(以微妙为单位)时间。由于这种格式已经“二进制化”，所以比’gnuplot’格式更有用。\u003c/li\u003e\u003cli\u003e-g 把所有测试结果写入一个’gnuplot’或者TSV(以Tab分隔的)文件。此文件可以方便地导入到Gnuplot,IDL,Mathematica,Igor甚至Excel中。其中的第一行为标题。\u003c/li\u003e\u003cli\u003e-i 执行HEAD请求，而不是GET。\u003c/li\u003e\u003cli\u003e-k 启用HTTP KeepAlive功能，即在一个HTTP会话中执行多个请求。默认时，不启用KeepAlive功能。\u003c/li\u003e\u003cli\u003e-q 如果处理的请求数大于150，ab每处理大约10%或者100个请求时，会在stderr输出一个进度计数。此-q标记可以抑制这些信息。\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3-ab-\"\u003e\u003ca name=\"ab性能指标\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab性能指标\u003c/h3\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"在进行性能测试过程中有几个指标比较重要：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在进行性能测试过程中有几个指标比较重要：\u003c/h4\u003e\u003cp\u003e1、吞吐率（Requests per second）\u003c/p\u003e\n\u003cp\u003e服务器并发处理能力的量化描述，单位是reqs/s，指的是在某个并发用户数下单位时间内处理的请求数。某个并发用户数下单位时间内能处理的最大请求数，称之为最大吞吐率。\u003c/p\u003e\n\u003cp\u003e记住：吞吐率是基于并发用户数的。这句话代表了两个含义：\u003c/p\u003e\n\u003cp\u003ea、吞吐率和并发用户数相关\u003c/p\u003e\n\u003cp\u003eb、不同的并发用户数下，吞吐率一般是不同的\u003c/p\u003e\n\u003cp\u003e计算公式：总请求数/处理完成这些请求数所花费的时间，即\u003c/p\u003e\n\u003cp\u003eRequest per second=Complete requests/Time taken for tests\u003c/p\u003e\n\u003cp\u003e必须要说明的是，这个数值表示当前机器的整体性能，值越大越好。\u003c/p\u003e\n\u003cp\u003e2、并发连接数（The number of concurrent connections）\u003c/p\u003e\n\u003cp\u003e并发连接数指的是某个时刻服务器所接受的请求数目，简单的讲，就是一个会话。\u003c/p\u003e\n\u003cp\u003e3、并发用户数（Concurrency Level）\u003c/p\u003e\n\u003cp\u003e要注意区分这个概念和并发连接数之间的区别，一个用户可能同时会产生多个会话，也即连接数。在HTTP/1.1下，IE7支持两个并发连接，IE8支持6个并发连接，FireFox3支持4个并发连接，所以相应的，我们的并发用户数就得除以这个基数。\u003c/p\u003e\n\u003cp\u003e4、用户平均请求等待时间（Time per request）\u003c/p\u003e\n\u003cp\u003e计算公式：处理完成所有请求数所花费的时间/（总请求数/并发用户数），即：\u003c/p\u003e\n\u003cp\u003eTime per request=Time taken for tests/（Complete requests/Concurrency Level）\u003c/p\u003e\n\u003cp\u003e5、服务器平均请求等待时间（Time per request:across all concurrent requests）\u003c/p\u003e\n\u003cp\u003e计算公式：处理完成所有请求数所花费的时间/总请求数，即：\u003c/p\u003e\n\u003cp\u003eTime taken for/testsComplete requests\u003c/p\u003e\n\u003cp\u003e可以看到，它是吞吐率的倒数。\u003c/p\u003e\n\u003cp\u003e同时，它也等于用户平均请求等待时间/并发用户数，即\u003c/p\u003e\n\u003cp\u003eTime per request/Concurrency Level\u003c/p\u003e\n\u003ch3 id=\"h3-ab-node-js-\"\u003e\u003ca name=\"ab使用：测试Node.js服务器性能\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eab使用：测试Node.js服务器性能\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003ebluelifes-MacBook-Pro:~ bluelifeleer$ ab -c 100 -n 10000 https://blog.mcloudhub.com/article/detaile?id=5c3e2295fc56f30dec47c535\nThis is ApacheBench, Version 2.3 \u0026lt;$Revision: 1826891 $\u0026gt;\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking blog.mcloudhub.com (be patient)\nsocket: Too many open files (24)\nbluelifes-MacBook-Pro:~ bluelifeleer$ ab -c 100 -n 10000 https://blog.mcloudhub.com/article/detaile?id=5c3e2295fc56f30dec47c535\nThis is ApacheBench, Version 2.3 \u0026lt;$Revision: 1826891 $\u0026gt;\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking blog.mcloudhub.com (be patient)\nCompleted 1000 requests\nCompleted 2000 requests\nCompleted 3000 requests\nCompleted 4000 requests\nCompleted 5000 requests\nCompleted 6000 requests\nCompleted 7000 requests\nCompleted 8000 requests\nCompleted 9000 requests\nCompleted 10000 requests\nFinished 10000 requests\n\n\nServer Software:        \nServer Hostname:        blog.mcloudhub.com\nServer Port:            443\nSSL/TLS Protocol:       TLSv1.2,ECDHE-RSA-AES128-GCM-SHA256,2048,128\nTLS Server Name:        blog.mcloudhub.com\n\nDocument Path:          /article/detaile?id=5c3e2295fc56f30dec47c535\nDocument Length:        17865 bytes\n\nConcurrency Level:      100\nTime taken for tests:   145.625 seconds\nComplete requests:      10000\nFailed requests:        0\nTotal transferred:      186126208 bytes\nHTML transferred:       178650000 bytes\nRequests per second:    68.67 [#/sec] (mean)\nTime per request:       1456.252 [ms] (mean)\nTime per request:       14.563 [ms] (mean, across all concurrent requests)\nTransfer rate:          1248.16 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:       62  771 542.9    612   21228\nProcessing:    21  679 653.6    498   28808\nWaiting:       11  269 221.6    206    5805\nTotal:        109 1450 908.7   1217   30100\n\nPercentage of the requests served within a certain time (ms)\n  50%   1217\n  66%   1476\n  75%   1696\n  80%   1852\n  90%   2408\n  95%   3026\n  98%   3905\n  99%   4487\n 100%  30100 (longest request)\n\u003c/code\u003e\u003c/pre\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":22109,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-02T16:57:18.060Z"},"updateTime":{"$date":"2019-03-02T17:09:59.952Z"},"__v":0}
{"_id":{"$oid":"5c7d5b500a10d31b594e375f"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"systemctl服务脚本编写","content":"\u003ch1 id=\"h1-systemctl-\"\u003e\u003ca name=\"systemctl服务脚本编写\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003esystemctl服务脚本编写\u003c/h1\u003e\u003cp\u003eRed Hat Enterprise Linux 7（RHEL 7）已经将服务管理工具从SysVinit和Upstart迁移到了systemd上，相应的服务脚本也需要改变。前面的版本里，所有的启动脚本都是放在/etc/rc.d/init.d/ 目录下。这些脚本都是bash脚本，可以让系统管理员控制这些服务的状态，通常，这些脚本中包含了start，stop，restart这些方法，以提供系统自动调用这些方法。但是在RHEL 7中当中已经完全摒弃了这种方法，而采用了一种叫unit的配置文件来管理服务。\u003c/p\u003e\n\u003ch3 id=\"h3-systemd-unit-\"\u003e\u003ca name=\"Systemd下的unit文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eSystemd下的unit文件\u003c/h3\u003e\u003cp\u003eUnit文件专门用于systemd下控制资源，这些资源包括服务(service)、套接字(socket)、设备(device)、挂载点(mount point)、自动挂载点(automount point)、交换文件或分区(a swap file or partition)…\u003cbr\u003e所有的unit文件都应该配置[Unit]或者[Install]段.由于通用的信息在[Unit]和[Install]中描述，每一个unit应该有一个指定类型段，例如[Service]来对应后台服务类型unit.\u003c/p\u003e\n\u003cp\u003eunit 类型如下：\u003cbr\u003eservice ：守护进程的启动、停止、重启和重载是此类 unit 中最为明显的几个类型。\u003cbr\u003esocket ：此类 unit 封装系统和互联网中的一个socket。当下，systemd支持流式, 数据报和连续包的AF_INET,AF_INET6,AF_UNIXsocket 。也支持传统的 FIFOs 传输模式。每一个 socket unit 都有一个相应的服务 unit 。相应的服务在第一个“连接”进入 socket 或 FIFO 时就会启动(例如：nscd.socket 在有新连接后便启动 nscd.service)。\u003cbr\u003e device ：此类 unit 封装一个存在于 Linux设备树中的设备。每一个使用 udev 规则标记的设备都将会在 systemd 中作为一个设备 unit 出现。udev 的属性设置可以作为配置设备 unit 依赖关系的配置源。\u003c/p\u003e\n\u003cp\u003emount ：此类 unit 封装系统结构层次中的一个挂载点。\u003cbr\u003eautomount ：此类 unit 封装系统结构层次中的一个自挂载点。每一个自挂载 unit 对应一个已挂载的挂载 unit (需要在自挂载目录可以存取的情况下尽早挂载)。\u003cbr\u003etarget ：此类 unit 为其他 unit 进行逻辑分组。它们本身实际上并不做什么，只是引用其他 unit 而已。这样便可以对 unit 做一个统一的控制。(例如：multi-user.target 相当于在传统使用 SysV 的系统中运行级别5)；bluetooth.target 只有在蓝牙适配器可用的情况下才调用与蓝牙相关的服务，如：bluetooth 守护进程、obex 守护进程等）\u003cbr\u003e snapshot ：与 targetunit 相似，快照本身不做什么，唯一的目的就是引用其他 unit 。\u003c/p\u003e\n\u003ch3 id=\"h3--service-unit-\"\u003e\u003ca name=\"认识service的unit文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e认识service的unit文件\u003c/h3\u003e\u003cp\u003e扩展名：.service\u003c/p\u003e\n\u003cp\u003e路径：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e/etc/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystem\u003c/span\u003e\u003cspan class=\"com\"\u003e/*     ――――  供系统管理员和用户使用\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e/run/systemd/system/*     ――――  运行时配置文件\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e/usr/lib/systemd/system/*   ――――  安装程序使用（如RPM包安装）\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--service-unit-usr-lib-systemd-system-networkmanager-service-\"\u003e\u003ca name=\"以下是一段service unit文件的例子，属于/usr/lib/systemd/system/NetworkManager.service文件，它描述的是系统中的网络管理服务。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e以下是一段service unit文件的例子，属于/usr/lib/systemd/system/NetworkManager.service文件，它描述的是系统中的网络管理服务。\u003c/h6\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eUnit\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDescription\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"typ\"\u003eNetwork\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eManager\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eWants\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003enetwork\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eBefore\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003enetwork\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget network\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eService\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003edbus\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eBusName\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eorg\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003efreedesktop\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"typ\"\u003eNetworkManager\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eExecStart\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"pln\"\u003esbin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"typ\"\u003eNetworkManager\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003eno\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edaemon\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# NM doesn't want systemd to kill its children for it\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eKillMode\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eprocess\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eInstall\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eWantedBy\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emulti\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eAlias\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003edbus\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eorg\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003efreedesktop\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"typ\"\u003eNetworkManager\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eAlso\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"typ\"\u003eNetworkManager\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edispatcher\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--unit-service-install-\"\u003e\u003ca name=\"整个文件分三个部分，[Unit]·[Service]·[Install]\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e整个文件分三个部分，[Unit]·[Service]·[Install]\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e[Unit]：记录unit文件的通用信息。\u003c/li\u003e\u003cli\u003e[Service]：记录Service的信息\u003c/li\u003e\u003cli\u003e[Install]：安装信息。\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4-unit-\"\u003e\u003ca name=\"Unit主要包含以下内容：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eUnit主要包含以下内容：\u003c/h4\u003e\u003cp\u003e●  Description：对本service的描述。\u003c/p\u003e\n\u003cp\u003e●  Before, After：定义启动顺序，Before=xxx.service，代表本服务在xxx.service启动之前启动。After=xxx.service,代表本服务在xxx之后启动。\u003c/p\u003e\n\u003cp\u003e●  Requires: 这个单元启动了，那么它“需要”的单元也会被启动; 它“需要”的单元被停止了，它自己也活不了。但是请注意，这个设定并不能控制某单元与它“需要”的单元的启动顺序（启动顺序是另外控制的），即 Systemd 不是先启动 Requires 再启动本单元，而是在本单元被激活时，并行启动两者。于是会产生争分夺秒的问题，如果 Requires 先启动成功，那么皆大欢喜; 如果 Requires 启动得慢，那本单元就会失败（Systemd 没有自动重试）。所以为了系统的健壮性，不建议使用这个标记，而建议使用 Wants 标记。可以使用多个 Requires。\u003c/p\u003e\n\u003cp\u003e●  RequiresOverridable：跟 Requires 很像。但是如果这条服务是由用户手动启动的，那么 RequiresOverridable 后面的服务即使启动不成功也不报错。跟 Requires 比增加了一定容错性，但是你要确定你的服务是有等待功能的。另外，如果不由用户手动启动而是随系统开机启动，那么依然会有 Requires 面临的问题。\u003c/p\u003e\n\u003cp\u003e●  Requisite：强势版本的 Requires。要是这里需要的服务启动不成功，那本单元文件不管能不能检测等不能等待都立刻就会失败。\u003c/p\u003e\n\u003cp\u003e●  Wants：推荐使用。本单元启动了，它“想要”的单元也会被启动。但是启动不成功，对本单元没有影响。\u003c/p\u003e\n\u003cp\u003e●  Conflicts：一个单元的启动会停止与它“冲突”的单元，反之亦然。\u003c/p\u003e\n\u003ch4 id=\"h4-service-\"\u003e\u003ca name=\"Service主要包含以下内容：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eService主要包含以下内容：\u003c/h4\u003e\u003cp\u003e●  Type：service的种类，包含下列几种类型：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003esimple\u003c/span\u003e\u003cspan class=\"pun\"\u003e（默认值）：\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e认为该服务将立即启动。服务进程不会\u003c/span\u003e\u003cspan class=\"pln\"\u003efork\u003c/span\u003e\u003cspan class=\"pun\"\u003e。如果该服务要启动其他服务，不要使用此类型启动，除非该服务是\u003c/span\u003e\u003cspan class=\"pln\"\u003esocket\u003c/span\u003e\u003cspan class=\"pun\"\u003e激活型。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eforking\u003c/span\u003e\u003cspan class=\"pun\"\u003e：\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e认为当该服务进程\u003c/span\u003e\u003cspan class=\"pln\"\u003efork\u003c/span\u003e\u003cspan class=\"pun\"\u003e，且父进程退出后服务启动成功。对于常规的守护进程（\u003c/span\u003e\u003cspan class=\"pln\"\u003edaemon\u003c/span\u003e\u003cspan class=\"pun\"\u003e），除非你确定此启动方式无法满足需求，使用此类型启动即可。使用此启动类型应同时指定\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003ePIDFile\u003c/span\u003e\u003cspan class=\"pun\"\u003e=，以便\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e能够跟踪服务的主进程。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eoneshot\u003c/span\u003e\u003cspan class=\"pun\"\u003e：这一选项适用于只执行一项任务、随后立即退出的服务。可能需要同时设置\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eRemainAfterExit\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eyes \u003c/span\u003e\u003cspan class=\"pun\"\u003e使得\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemd \u003c/span\u003e\u003cspan class=\"pun\"\u003e在服务进程退出之后仍然认为服务处于激活状态。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003enotify\u003c/span\u003e\u003cspan class=\"pun\"\u003e：与\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003esimple \u003c/span\u003e\u003cspan class=\"pun\"\u003e相同，但约定服务会在就绪后向\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemd \u003c/span\u003e\u003cspan class=\"pun\"\u003e发送一个信号。这一通知的实现由\u003c/span\u003e\u003cspan class=\"pln\"\u003e libsystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edaemon\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"pun\"\u003e提供。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003edbus\u003c/span\u003e\u003cspan class=\"pun\"\u003e：若以此方式启动，当指定的\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eBusName\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e出现在\u003c/span\u003e\u003cspan class=\"typ\"\u003eDBus\u003c/span\u003e\u003cspan class=\"pun\"\u003e系统总线上时，\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e认为服务就绪\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e●  RemainAfterExit：默认值no\u003c/p\u003e\n\u003cp\u003e默认值为no，这个设置采用booleean值，可以是0、no、off、1、yes、on等值。它表明服务是否应当被视为激活的，即便当它所有的进程都退出了。简言之，这个设置用于告诉systemd服务是否应当是被视为激活状态，而不管进程是否退出。当为true时，即便服务退出，systemd依然将这个服务视为激活状态，反之则服务停止。\u003c/p\u003e\n\u003cp\u003e●  GuessMainPID\u003c/p\u003e\n\u003cp\u003e采用boolean值指定systemd在无法确切的查明服务的时候是否需要猜测服务的main pid。除非Type=forking被采用并且PIDFile没有被设置，否则这个选项会被忽略。因为当设置为Type的其他选项，或者显示的指定了PID文件后，systemd总是能够知道main pid。\u003c/p\u003e\n\u003cp\u003e●  PIDFile\u003c/p\u003e\n\u003cp\u003e采用一个绝对路径的文件名指定守护进程的PID文件。当Type=forking被设置的时候，建议采取这个设置。当服务启动后，systemd会读取守护进程的主进程id。systemd不会对该文件写入数据。\u003c/p\u003e\n\u003cp\u003e●  BusName\u003c/p\u003e\n\u003cp\u003e使用一个D-Bus的总线名称,作为该服务的可访问名称。当Type=dbus的时候，该设置被强制使用。\u003c/p\u003e\n\u003cp\u003e●  BusPolicy\u003c/p\u003e\n\u003cp\u003e如果该选项被指定，一个自定义的kdbus终结点将会被创建，并且会被指定为默认的dbus节点安装到服务上。这样的自定义终结点自身持有一个策略规则集合。这些规则将会在总线范围内被强制指定。该选项只有在kdbus被激活时有效。\u003c/p\u003e\n\u003cp\u003e●  ExecStart：服务启动时执行的命令，通常此命令就是服务的主体。\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e------如果你服务的类型不是\u003c/span\u003e\u003cspan class=\"pln\"\u003e oneshot\u003c/span\u003e\u003cspan class=\"pun\"\u003e，那么它只可以接受一个命令，参数不限。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e------多个命令用分号隔开，多行用\u003c/span\u003e\u003cspan class=\"pln\"\u003e \\ \u003c/span\u003e\u003cspan class=\"pun\"\u003e跨行。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e●  ExecStartPre, ExecStartPost：ExecStart执行前后所调用的命令。\u003c/p\u003e\n\u003cp\u003e●  ExecStop：定义停止服务时所执行的命令，定义服务退出前所做的处理。如果没有指定，使用systemctl stop xxx命令时，服务将立即被终结而不做处理。\u003c/p\u003e\n\u003cp\u003e●  Restart：定义服务何种情况下重启（启动失败，启动超时，进程被终结）。可选选项：no, on-success, on-failure,on-watchdog, on-abort\u003c/p\u003e\n\u003cp\u003e●  SuccessExitStatus：参考ExecStart中返回值，定义何种情况算是启动成功。\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e：\u003c/span\u003e\u003cspan class=\"typ\"\u003eSuccessExitStatus\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e8\u003c/span\u003e\u003cspan class=\"pln\"\u003e SIGKILL\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e●  RestartSec 与 Restart 配合使用，在服务终止多长时间之后才重新启动它。默认是 100ms。\u003c/p\u003e\n\u003cp\u003e●  KillMode\u003cbr\u003e可以是 process, control-group, none 中的一种，如果是 process 则服务终止时，只会终止主要的程序(ExecStart接的后面那串指令)，如果是 control-group 时，则由此 daemon 所产生的其他 control-group 的程序，也都会被关闭。如果是 none 的话，则没有程序会被关闭。\u003c/p\u003e\n\u003cp\u003e●  TimeoutSec\u003cbr\u003e若这个服务在启动或者是关闭时，因为某些缘故导致无法顺利 “正常启动或正常结束” 的情况下，则我们要等多久才进入 “强制结束” 的状态！\u003c/p\u003e\n\u003cp\u003e●  RemainAfterExit\u003cbr\u003e当设置为 RemainAfterExit=1 时，则当这个服务所属的所有程序都终止之后，此服务会再尝试启动。这对于 Type=oneshot 的服务很有帮助！\u003c/p\u003e\n\u003cp\u003e环境变量的设置对很多程序来说都是十分重要的，下面的配置则可以以不同的方式为服务程序设置环境变量：\u003cbr\u003eEnvironment 用来设置环境变量，可以使用多次：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eService\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Client Env Vars\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eEnvironment\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eETCD_CA_FILE\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/path/\u003c/span\u003e\u003cspan class=\"pln\"\u003eto\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eCA\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epem\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eEnvironment\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eETCD_CERT_FILE\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/path/\u003c/span\u003e\u003cspan class=\"pln\"\u003eto\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eserver\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecrt\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e●  EnvironmentFile 通过文件的方式设置环境变量，可以把下面的内容保存到文件 testenv 中：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eAA_IPV4_ANCHOR_0\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eBBB_IPV4_PRIVATE_0\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eX\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eCCC_HOSTNAME\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003etest\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-install-\"\u003e\u003ca name=\"Install主要包含以下内容：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eInstall主要包含以下内容：\u003c/h4\u003e\u003cp\u003e●  WantedBy：何种情况下，服务被启用。\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e：\u003c/span\u003e\u003cspan class=\"typ\"\u003eWantedBy\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emulti\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003cspan class=\"pun\"\u003e（多用户环境下启用）\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e●  Alias：别名\u003cbr\u003e● Also    当目前这个 unit 被 enable 时，Also 后面接的 unit 也要 enable 的意思。\u003c/p\u003e\n\u003ch4 id=\"h4-timer-unit-\"\u003e\u003ca name=\"Timer 类型 unit 的详细配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eTimer 类型 unit 的详细配置\u003c/h4\u003e\u003ch5 id=\"h5-timer-unit-cron-timer-unit-unit-timer-unit-unit-timer-unit-timer-\"\u003e\u003ca name=\"Timer 类型的 unit 主要用来执行定时任务，并有可能取代 cron 服务。由于 timer 类型的 unit 经常与服务类型的 unit 一起使用，所以本文也附带介绍一下 timer unit 的配置。与服务类型的 unit 不同，timer unit 配置文件中的主要部分是 [Timer]，下面是其主要的配置项：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eTimer 类型的 unit 主要用来执行定时任务，并有可能取代 cron 服务。由于 timer 类型的 unit 经常与服务类型的 unit 一起使用，所以本文也附带介绍一下 timer unit 的配置。与服务类型的 unit 不同，timer unit 配置文件中的主要部分是 [Timer]，下面是其主要的配置项：\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003eOnActiveSec    当 timers.target 启动后多久才执行这个 unit。\u003c/li\u003e\u003cli\u003eOnBootSec    当开机后多久才执行这个 unit。\u003c/li\u003e\u003cli\u003eOnStartupSec    当 systemd 第一次启动后多久才执行这个 unit。\u003c/li\u003e\u003cli\u003eOnUnitActiveSec    这个 timer 配置文件所管理的那个 unit 服务在最后一次启动后，隔多久后再执行一次。\u003c/li\u003e\u003cli\u003eOnUnitInactiveSec    这个 timer 配置文件所管理的那个 unit 服务在最后一次停止后，隔多久后再执行一次。\u003c/li\u003e\u003cli\u003eUnit    一般不需要设置，基本上我们设置都是 服务名称.server + 服务名称.timer。如果你的服务名称和 timer 名称不相同，就需要在 .timer 文件中通过 Unit 项指定服务的名称。\u003c/li\u003e\u003cli\u003eOnCalendar    使用实际时间(非循环时间)的方式来启动服务。\u003c/li\u003e\u003cli\u003ePersistent    当使用 OnCalendar 的设置时，指定该功能要不要持续执行。\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3--systemd-\"\u003e\u003ca name=\"旧的命令与systemd命令的映射\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e旧的命令与systemd命令的映射\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice systemctl \u003c/span\u003e\u003cspan class=\"typ\"\u003eDescription\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice name start    \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e  systemctl start name\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice   \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eStarts\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice name stop   \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e  systemctl stopname\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice   \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eStops\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice name restart  \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e  systemctl restartname\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice  \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eRestarts\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice name condrestart \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemctl \u003c/span\u003e\u003cspan class=\"kwd\"\u003etry\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erestart name\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eRestarts\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service only \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e it \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e running\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice name reload  \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e  systemctl reloadname\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eserviceReloads configuration\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice name status \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e  systemctl status name\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eactive name\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eChecks\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service isrunning\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eservice \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003estatus\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eall  \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemctl list\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eunits \u003c/span\u003e\u003cspan class=\"pun\"\u003e–\u003c/span\u003e\u003cspan class=\"pln\"\u003etype service \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eall \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eDisplays\u003c/span\u003e\u003cspan class=\"pln\"\u003e the status of all services\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003echkconfig systemctl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003echkconfig name on  \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e   systemctl enablename\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eEnables\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003echkconfig name off   \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e   systemctl disablename\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eDisables\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003echkconfig \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003elist name  \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e  systemctl statusname\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystem ctl \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eenabled name\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eChecks\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e a service \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e enabled\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003echkconfig \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003elist  \u003c/span\u003e\u003cspan class=\"pun\"\u003e----\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e systemctl list\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eunit\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efiles \u003c/span\u003e\u003cspan class=\"pun\"\u003e–\u003c/span\u003e\u003cspan class=\"pln\"\u003etype service \u003c/span\u003e\u003cspan class=\"pun\"\u003e●\u003c/span\u003e\u003cspan class=\"typ\"\u003eLists\u003c/span\u003e\u003cspan class=\"pln\"\u003e all services \u003c/span\u003e\u003cspan class=\"kwd\"\u003eand\u003c/span\u003e\u003cspan class=\"pln\"\u003e checks \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e they are enabled\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--systemd-\"\u003e\u003ca name=\"创建自己的systemd服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e创建自己的systemd服务\u003c/h4\u003e\u003cp\u003e弄清了unit文件的各项意义，我们可以尝试编写自己的服务，与以前用SysV来编写服务相比，整个过程比较简单。unit文件有着简洁的特点，是以前臃肿的脚本所不能比的。\u003c/p\u003e\n\u003cp\u003e在本例中，尝试写一个命名为my-demo.service的服务，整个服务很简单：在开机的时候将服务启动时的时间写到一个文件当中。可以通过这个小小的例子来说明整个服务的创建过程。\u003c/p\u003e\n\u003cp\u003eStep1：编写属于自己的unit文件，命令为my-demo.service，整个文件如下：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eUnit\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDescription\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"typ\"\u003eMy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edemo \u003c/span\u003e\u003cspan class=\"typ\"\u003eService\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eService\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eType\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003eoneshot\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eExecStart\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/bin/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebash \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003etest\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003esh\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eStandardOutput\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003esyslog\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eStandardError\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003einherit\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"typ\"\u003eInstall\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eWantedBy\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emulti\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etarget\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--rhel-7-usr-lib-systemd-system-\"\u003e\u003ca name=\"将上述的文件拷贝到RHEL 7系统中/usr/lib/systemd/system/*目录下\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e将上述的文件拷贝到RHEL 7系统中/usr/lib/systemd/system/*目录下\u003c/h4\u003e\u003ch4 id=\"h4--unit-execstart-bin-bash-root-test-sh-test-sh-\"\u003e\u003ca name=\"编写unit文件中ExecStart=/bin/bash /root/test.sh所定义的test.sh文件，将其放在定义的目录当中，此文件是服务的执行主体。文件内容如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e编写unit文件中ExecStart=/bin/bash /root/test.sh所定义的test.sh文件，将其放在定义的目录当中，此文件是服务的执行主体。文件内容如下：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#!/bin/bash\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003edate \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e/tmp/\u003c/span\u003e\u003cspan class=\"pln\"\u003edate\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--my-demo-service-\"\u003e\u003ca name=\"将my-demo.service注册到系统当中执行命令：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e将my-demo.service注册到系统当中执行命令：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl enable \u003c/span\u003e\u003cspan class=\"kwd\"\u003emy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edemo\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--ln-s-usr-lib-systemd-system-my-demo-service-etc-systemd-system-multi-user-target-wants-my-demo-service-\"\u003e\u003ca name=\"输出：ln -s’/usr/lib/systemd/system/my-demo.service’ ‘/etc/systemd/system/multi-user.target.wants/my-demo.service’\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e输出：ln -s’/usr/lib/systemd/system/my-demo.service’ ‘/etc/systemd/system/multi-user.target.wants/my-demo.service’\u003c/h5\u003e\u003ch5 id=\"h5--etc-systemd-system-\"\u003e\u003ca name=\"输出表明，注册的过程实际上就是将服务链接到/etc/systemd/system/目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e输出表明，注册的过程实际上就是将服务链接到/etc/systemd/system/目录下。\u003c/h5\u003e\u003ch5 id=\"h5--systemctl-start-systemctl-status-start-restart-stop-\"\u003e\u003ca name=\"首先，使用systemctl start [服务名（也是文件名）]可测试服务是否可以成功运行，如果不能运行则可以使用systemctl status [服务名（也是文件名）]查看错误信息和其他服务信息，然后根据报错进行修改，直到可以start，如果不放心还可以测试restart和stop命令。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e首先，使用systemctl start [服务名（也是文件名）]可测试服务是否可以成功运行，如果不能运行则可以使用systemctl status [服务名（也是文件名）]查看错误信息和其他服务信息，然后根据报错进行修改，直到可以start，如果不放心还可以测试restart和stop命令。\u003c/h5\u003e\u003ch6 id=\"h6-systemctl-usr-lib-systemd-system-systemctl-enable-name-service-etc-systemd-system-multi-user-target-wants-\"\u003e\u003ca name=\"systemctl服务脚本在/usr/lib/systemd/system/目录下，执行systemctl enable name.service相当于添加一个连接到/etc/systemd/system/multi-user.target.wants/目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003esystemctl服务脚本在/usr/lib/systemd/system/目录下，执行systemctl enable name.service相当于添加一个连接到/etc/systemd/system/multi-user.target.wants/目录下。\u003c/h6\u003e","markDown":"# systemctl服务脚本编写\n\nRed Hat Enterprise Linux 7（RHEL 7）已经将服务管理工具从SysVinit和Upstart迁移到了systemd上，相应的服务脚本也需要改变。前面的版本里，所有的启动脚本都是放在/etc/rc.d/init.d/ 目录下。这些脚本都是bash脚本，可以让系统管理员控制这些服务的状态，通常，这些脚本中包含了start，stop，restart这些方法，以提供系统自动调用这些方法。但是在RHEL 7中当中已经完全摒弃了这种方法，而采用了一种叫unit的配置文件来管理服务。\n\n\n### Systemd下的unit文件\nUnit文件专门用于systemd下控制资源，这些资源包括服务(service)、套接字(socket)、设备(device)、挂载点(mount point)、自动挂载点(automount point)、交换文件或分区(a swap file or partition)…\n所有的unit文件都应该配置[Unit]或者[Install]段.由于通用的信息在[Unit]和[Install]中描述，每一个unit应该有一个指定类型段，例如[Service]来对应后台服务类型unit.\n\nunit 类型如下：\nservice ：守护进程的启动、停止、重启和重载是此类 unit 中最为明显的几个类型。\nsocket ：此类 unit 封装系统和互联网中的一个socket。当下，systemd支持流式, 数据报和连续包的AF\\_INET,AF\\_INET6,AF\\_UNIXsocket 。也支持传统的 FIFOs 传输模式。每一个 socket unit 都有一个相应的服务 unit 。相应的服务在第一个“连接”进入 socket 或 FIFO 时就会启动(例如：nscd.socket 在有新连接后便启动 nscd.service)。\n device ：此类 unit 封装一个存在于 Linux设备树中的设备。每一个使用 udev 规则标记的设备都将会在 systemd 中作为一个设备 unit 出现。udev 的属性设置可以作为配置设备 unit 依赖关系的配置源。\n\nmount ：此类 unit 封装系统结构层次中的一个挂载点。\nautomount ：此类 unit 封装系统结构层次中的一个自挂载点。每一个自挂载 unit 对应一个已挂载的挂载 unit (需要在自挂载目录可以存取的情况下尽早挂载)。\ntarget ：此类 unit 为其他 unit 进行逻辑分组。它们本身实际上并不做什么，只是引用其他 unit 而已。这样便可以对 unit 做一个统一的控制。(例如：multi-user.target 相当于在传统使用 SysV 的系统中运行级别5)；bluetooth.target 只有在蓝牙适配器可用的情况下才调用与蓝牙相关的服务，如：bluetooth 守护进程、obex 守护进程等）\n snapshot ：与 targetunit 相似，快照本身不做什么，唯一的目的就是引用其他 unit 。\n \n ### 认识service的unit文件\n扩展名：.service\n\n路径：\n\n```\n/etc/systemd/system/*     ――――  供系统管理员和用户使用\n/run/systemd/system/*     ――――  运行时配置文件\n/usr/lib/systemd/system/*   ――――  安装程序使用（如RPM包安装）\n```\n\n###### 以下是一段service unit文件的例子，属于/usr/lib/systemd/system/NetworkManager.service文件，它描述的是系统中的网络管理服务。\n\n```\n[Unit]\nDescription=Network Manager\nWants=network.target\nBefore=network.target network.service\n\n[Service]\nType=dbus\nBusName=org.freedesktop.NetworkManager\nExecStart=/usr/sbin/NetworkManager --no-daemon\n# NM doesn't want systemd to kill its children for it\nKillMode=process\n\n[Install]\nWantedBy=multi-user.target\nAlias=dbus-org.freedesktop.NetworkManager.service\nAlso=NetworkManager-dispatcher.service\n```\n\n### 整个文件分三个部分，[Unit]·[Service]·[Install]\n\n* [Unit]：记录unit文件的通用信息。\n* [Service]：记录Service的信息\n* [Install]：安装信息。\n\n#### Unit主要包含以下内容：\n\n●  Description：对本service的描述。\n\n●  Before, After：定义启动顺序，Before=xxx.service，代表本服务在xxx.service启动之前启动。After=xxx.service,代表本服务在xxx之后启动。\n\n●  Requires: 这个单元启动了，那么它“需要”的单元也会被启动; 它“需要”的单元被停止了，它自己也活不了。但是请注意，这个设定并不能控制某单元与它“需要”的单元的启动顺序（启动顺序是另外控制的），即 Systemd 不是先启动 Requires 再启动本单元，而是在本单元被激活时，并行启动两者。于是会产生争分夺秒的问题，如果 Requires 先启动成功，那么皆大欢喜; 如果 Requires 启动得慢，那本单元就会失败（Systemd 没有自动重试）。所以为了系统的健壮性，不建议使用这个标记，而建议使用 Wants 标记。可以使用多个 Requires。\n\n●  RequiresOverridable：跟 Requires 很像。但是如果这条服务是由用户手动启动的，那么 RequiresOverridable 后面的服务即使启动不成功也不报错。跟 Requires 比增加了一定容错性，但是你要确定你的服务是有等待功能的。另外，如果不由用户手动启动而是随系统开机启动，那么依然会有 Requires 面临的问题。\n\n●  Requisite：强势版本的 Requires。要是这里需要的服务启动不成功，那本单元文件不管能不能检测等不能等待都立刻就会失败。\n\n●  Wants：推荐使用。本单元启动了，它“想要”的单元也会被启动。但是启动不成功，对本单元没有影响。\n\n●  Conflicts：一个单元的启动会停止与它“冲突”的单元，反之亦然。\n\n#### Service主要包含以下内容：\n\n●  Type：service的种类，包含下列几种类型：\n\n```\nType=simple（默认值）：systemd认为该服务将立即启动。服务进程不会fork。如果该服务要启动其他服务，不要使用此类型启动，除非该服务是socket激活型。\n\nType=forking：systemd认为当该服务进程fork，且父进程退出后服务启动成功。对于常规的守护进程（daemon），除非你确定此启动方式无法满足需求，使用此类型启动即可。使用此启动类型应同时指定 PIDFile=，以便systemd能够跟踪服务的主进程。\n\nType=oneshot：这一选项适用于只执行一项任务、随后立即退出的服务。可能需要同时设置 RemainAfterExit=yes 使得 systemd 在服务进程退出之后仍然认为服务处于激活状态。\n\nType=notify：与 Type=simple 相同，但约定服务会在就绪后向 systemd 发送一个信号。这一通知的实现由 libsystemd-daemon.so 提供。\n\nType=dbus：若以此方式启动，当指定的 BusName 出现在DBus系统总线上时，systemd认为服务就绪\n```\n\n●  RemainAfterExit：默认值no\n\n默认值为no，这个设置采用booleean值，可以是0、no、off、1、yes、on等值。它表明服务是否应当被视为激活的，即便当它所有的进程都退出了。简言之，这个设置用于告诉systemd服务是否应当是被视为激活状态，而不管进程是否退出。当为true时，即便服务退出，systemd依然将这个服务视为激活状态，反之则服务停止。\n\n●  GuessMainPID\n\n采用boolean值指定systemd在无法确切的查明服务的时候是否需要猜测服务的main pid。除非Type=forking被采用并且PIDFile没有被设置，否则这个选项会被忽略。因为当设置为Type的其他选项，或者显示的指定了PID文件后，systemd总是能够知道main pid。\n\n●  PIDFile\n\n采用一个绝对路径的文件名指定守护进程的PID文件。当Type=forking被设置的时候，建议采取这个设置。当服务启动后，systemd会读取守护进程的主进程id。systemd不会对该文件写入数据。\n\n●  BusName\n\n使用一个D-Bus的总线名称,作为该服务的可访问名称。当Type=dbus的时候，该设置被强制使用。\n\n●  BusPolicy\n\n如果该选项被指定，一个自定义的kdbus终结点将会被创建，并且会被指定为默认的dbus节点安装到服务上。这样的自定义终结点自身持有一个策略规则集合。这些规则将会在总线范围内被强制指定。该选项只有在kdbus被激活时有效。\n\n●  ExecStart：服务启动时执行的命令，通常此命令就是服务的主体。\n\n```\n------如果你服务的类型不是 oneshot，那么它只可以接受一个命令，参数不限。\n------多个命令用分号隔开，多行用 \\ 跨行。\n```\n\n●  ExecStartPre, ExecStartPost：ExecStart执行前后所调用的命令。\n\n●  ExecStop：定义停止服务时所执行的命令，定义服务退出前所做的处理。如果没有指定，使用systemctl stop xxx命令时，服务将立即被终结而不做处理。\n\n●  Restart：定义服务何种情况下重启（启动失败，启动超时，进程被终结）。可选选项：no, on-success, on-failure,on-watchdog, on-abort\n\n●  SuccessExitStatus：参考ExecStart中返回值，定义何种情况算是启动成功。\n\n```\neg：SuccessExitStatus=1 2 8 SIGKILL\n```\n\n●  RestartSec 与 Restart 配合使用，在服务终止多长时间之后才重新启动它。默认是 100ms。\n\n●  KillMode\n可以是 process, control-group, none 中的一种，如果是 process 则服务终止时，只会终止主要的程序(ExecStart接的后面那串指令)，如果是 control-group 时，则由此 daemon 所产生的其他 control-group 的程序，也都会被关闭。如果是 none 的话，则没有程序会被关闭。\n\n●  TimeoutSec\n若这个服务在启动或者是关闭时，因为某些缘故导致无法顺利 \"正常启动或正常结束\" 的情况下，则我们要等多久才进入 \"强制结束\" 的状态！\n\n●  RemainAfterExit\n当设置为 RemainAfterExit=1 时，则当这个服务所属的所有程序都终止之后，此服务会再尝试启动。这对于 Type=oneshot 的服务很有帮助！\n\n环境变量的设置对很多程序来说都是十分重要的，下面的配置则可以以不同的方式为服务程序设置环境变量：\nEnvironment 用来设置环境变量，可以使用多次：\n\n```\n[Service]\n# Client Env Vars\nEnvironment=ETCD_CA_FILE=/path/to/CA.pem\nEnvironment=ETCD_CERT_FILE=/path/to/server.crt\n```\n\n●  EnvironmentFile 通过文件的方式设置环境变量，可以把下面的内容保存到文件 testenv 中：\n\n```\nAA_IPV4_ANCHOR_0=X.X.X.X\nBBB_IPV4_PRIVATE_0=X.X.X.X\nCCC_HOSTNAME=test.example.com\n```\n\n#### Install主要包含以下内容：\n\n●  WantedBy：何种情况下，服务被启用。\n\n```\neg：WantedBy=multi-user.target（多用户环境下启用）\n```\n\n●  Alias：别名\n● Also    当目前这个 unit 被 enable 时，Also 后面接的 unit 也要 enable 的意思。\n\n#### Timer 类型 unit 的详细配置\n\n##### Timer 类型的 unit 主要用来执行定时任务，并有可能取代 cron 服务。由于 timer 类型的 unit 经常与服务类型的 unit 一起使用，所以本文也附带介绍一下 timer unit 的配置。与服务类型的 unit 不同，timer unit 配置文件中的主要部分是 [Timer]，下面是其主要的配置项：\n\n* OnActiveSec    当 timers.target 启动后多久才执行这个 unit。\n* OnBootSec    当开机后多久才执行这个 unit。\n* OnStartupSec    当 systemd 第一次启动后多久才执行这个 unit。\n* OnUnitActiveSec    这个 timer 配置文件所管理的那个 unit 服务在最后一次启动后，隔多久后再执行一次。\n* OnUnitInactiveSec    这个 timer 配置文件所管理的那个 unit 服务在最后一次停止后，隔多久后再执行一次。\n* Unit    一般不需要设置，基本上我们设置都是 服务名称.server + 服务名称.timer。如果你的服务名称和 timer 名称不相同，就需要在 .timer 文件中通过 Unit 项指定服务的名称。\n* OnCalendar    使用实际时间(非循环时间)的方式来启动服务。\n* Persistent    当使用 OnCalendar 的设置时，指定该功能要不要持续执行。\n\n### 旧的命令与systemd命令的映射\n\n```\nservice systemctl Description\nservice name start    ----\u003e  systemctl start name.service   ●Starts a service.\nservice name stop   ----\u003e  systemctl stopname.service   ●Stops a service.\nservice name restart  ----\u003e  systemctl restartname.service  ●Restarts a service.\nservice name condrestart ----\u003e systemctl try-restart name.service ●Restarts a service only if it is running.\nservice name reload  ----\u003e  systemctl reloadname.serviceReloads configuration.\nservice name status ----\u003e  systemctl status name.service\nsystemctl is-active name.service ●Checks if a service isrunning.\nservice --status-all  ----\u003e systemctl list-units –type service --all ●Displays the status of all services.chkconfig systemctl\nchkconfig name on  ----\u003e   systemctl enablename.service ●Enables a service.\nchkconfig name off   ----\u003e   systemctl disablename.service ●Disables a service.\nchkconfig --list name  ----\u003e  systemctl statusname.service\nsystem ctl is-enabled name.service ●Checks if a service is enabled.\nchkconfig --list  ----\u003e systemctl list-unit-files –type service ●Lists all services and checks if they are enabled.\n```\n\n#### 创建自己的systemd服务\n弄清了unit文件的各项意义，我们可以尝试编写自己的服务，与以前用SysV来编写服务相比，整个过程比较简单。unit文件有着简洁的特点，是以前臃肿的脚本所不能比的。\n\n在本例中，尝试写一个命名为my-demo.service的服务，整个服务很简单：在开机的时候将服务启动时的时间写到一个文件当中。可以通过这个小小的例子来说明整个服务的创建过程。\n\nStep1：编写属于自己的unit文件，命令为my-demo.service，整个文件如下：\n\n```\n[Unit]\nDescription=My-demo Service\n\n[Service]\nType=oneshot\nExecStart=/bin/bash /root/test.sh\nStandardOutput=syslog\nStandardError=inherit\n\n[Install]\nWantedBy=multi-user.target\n```\n\n#### 将上述的文件拷贝到RHEL 7系统中/usr/lib/systemd/system/*目录下\n#### 编写unit文件中ExecStart=/bin/bash /root/test.sh所定义的test.sh文件，将其放在定义的目录当中，此文件是服务的执行主体。文件内容如下：\n\n```\n#!/bin/bash\ndate \u003e\u003e /tmp/date\n```\n\n#### 将my-demo.service注册到系统当中执行命令：\n\n```\nsystemctl enable my-demo.service\n```\n\n##### 输出：ln -s'/usr/lib/systemd/system/my-demo.service' '/etc/systemd/system/multi-user.target.wants/my-demo.service'\n\n##### 输出表明，注册的过程实际上就是将服务链接到/etc/systemd/system/目录下。\n\n##### 首先，使用systemctl start [服务名（也是文件名）]可测试服务是否可以成功运行，如果不能运行则可以使用systemctl status [服务名（也是文件名）]查看错误信息和其他服务信息，然后根据报错进行修改，直到可以start，如果不放心还可以测试restart和stop命令。\n\n###### systemctl服务脚本在/usr/lib/systemd/system/目录下，执行systemctl enable name.service相当于添加一个连接到/etc/systemd/system/multi-user.target.wants/目录下。","html":"\u003ch1 id=\"h1-systemctl-\"\u003e\u003ca name=\"systemctl服务脚本编写\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003esystemctl服务脚本编写\u003c/h1\u003e\u003cp\u003eRed Hat Enterprise Linux 7（RHEL 7）已经将服务管理工具从SysVinit和Upstart迁移到了systemd上，相应的服务脚本也需要改变。前面的版本里，所有的启动脚本都是放在/etc/rc.d/init.d/ 目录下。这些脚本都是bash脚本，可以让系统管理员控制这些服务的状态，通常，这些脚本中包含了start，stop，restart这些方法，以提供系统自动调用这些方法。但是在RHEL 7中当中已经完全摒弃了这种方法，而采用了一种叫unit的配置文件来管理服务。\u003c/p\u003e\n\u003ch3 id=\"h3-systemd-unit-\"\u003e\u003ca name=\"Systemd下的unit文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eSystemd下的unit文件\u003c/h3\u003e\u003cp\u003eUnit文件专门用于systemd下控制资源，这些资源包括服务(service)、套接字(socket)、设备(device)、挂载点(mount point)、自动挂载点(automount point)、交换文件或分区(a swap file or partition)…\u003cbr\u003e所有的unit文件都应该配置[Unit]或者[Install]段.由于通用的信息在[Unit]和[Install]中描述，每一个unit应该有一个指定类型段，例如[Service]来对应后台服务类型unit.\u003c/p\u003e\n\u003cp\u003eunit 类型如下：\u003cbr\u003eservice ：守护进程的启动、停止、重启和重载是此类 unit 中最为明显的几个类型。\u003cbr\u003esocket ：此类 unit 封装系统和互联网中的一个socket。当下，systemd支持流式, 数据报和连续包的AF_INET,AF_INET6,AF_UNIXsocket 。也支持传统的 FIFOs 传输模式。每一个 socket unit 都有一个相应的服务 unit 。相应的服务在第一个“连接”进入 socket 或 FIFO 时就会启动(例如：nscd.socket 在有新连接后便启动 nscd.service)。\u003cbr\u003e device ：此类 unit 封装一个存在于 Linux设备树中的设备。每一个使用 udev 规则标记的设备都将会在 systemd 中作为一个设备 unit 出现。udev 的属性设置可以作为配置设备 unit 依赖关系的配置源。\u003c/p\u003e\n\u003cp\u003emount ：此类 unit 封装系统结构层次中的一个挂载点。\u003cbr\u003eautomount ：此类 unit 封装系统结构层次中的一个自挂载点。每一个自挂载 unit 对应一个已挂载的挂载 unit (需要在自挂载目录可以存取的情况下尽早挂载)。\u003cbr\u003etarget ：此类 unit 为其他 unit 进行逻辑分组。它们本身实际上并不做什么，只是引用其他 unit 而已。这样便可以对 unit 做一个统一的控制。(例如：multi-user.target 相当于在传统使用 SysV 的系统中运行级别5)；bluetooth.target 只有在蓝牙适配器可用的情况下才调用与蓝牙相关的服务，如：bluetooth 守护进程、obex 守护进程等）\u003cbr\u003e snapshot ：与 targetunit 相似，快照本身不做什么，唯一的目的就是引用其他 unit 。\u003c/p\u003e\n\u003ch3 id=\"h3--service-unit-\"\u003e\u003ca name=\"认识service的unit文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e认识service的unit文件\u003c/h3\u003e\u003cp\u003e扩展名：.service\u003c/p\u003e\n\u003cp\u003e路径：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/etc/systemd/system/*     ――――  供系统管理员和用户使用\n/run/systemd/system/*     ――――  运行时配置文件\n/usr/lib/systemd/system/*   ――――  安装程序使用（如RPM包安装）\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--service-unit-usr-lib-systemd-system-networkmanager-service-\"\u003e\u003ca name=\"以下是一段service unit文件的例子，属于/usr/lib/systemd/system/NetworkManager.service文件，它描述的是系统中的网络管理服务。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e以下是一段service unit文件的例子，属于/usr/lib/systemd/system/NetworkManager.service文件，它描述的是系统中的网络管理服务。\u003c/h6\u003e\u003cpre\u003e\u003ccode\u003e[Unit]\nDescription=Network Manager\nWants=network.target\nBefore=network.target network.service\n\n[Service]\nType=dbus\nBusName=org.freedesktop.NetworkManager\nExecStart=/usr/sbin/NetworkManager --no-daemon\n# NM doesn\u0026#39;t want systemd to kill its children for it\nKillMode=process\n\n[Install]\nWantedBy=multi-user.target\nAlias=dbus-org.freedesktop.NetworkManager.service\nAlso=NetworkManager-dispatcher.service\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--unit-service-install-\"\u003e\u003ca name=\"整个文件分三个部分，[Unit]·[Service]·[Install]\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e整个文件分三个部分，[Unit]·[Service]·[Install]\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e[Unit]：记录unit文件的通用信息。\u003c/li\u003e\u003cli\u003e[Service]：记录Service的信息\u003c/li\u003e\u003cli\u003e[Install]：安装信息。\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4-unit-\"\u003e\u003ca name=\"Unit主要包含以下内容：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eUnit主要包含以下内容：\u003c/h4\u003e\u003cp\u003e●  Description：对本service的描述。\u003c/p\u003e\n\u003cp\u003e●  Before, After：定义启动顺序，Before=xxx.service，代表本服务在xxx.service启动之前启动。After=xxx.service,代表本服务在xxx之后启动。\u003c/p\u003e\n\u003cp\u003e●  Requires: 这个单元启动了，那么它“需要”的单元也会被启动; 它“需要”的单元被停止了，它自己也活不了。但是请注意，这个设定并不能控制某单元与它“需要”的单元的启动顺序（启动顺序是另外控制的），即 Systemd 不是先启动 Requires 再启动本单元，而是在本单元被激活时，并行启动两者。于是会产生争分夺秒的问题，如果 Requires 先启动成功，那么皆大欢喜; 如果 Requires 启动得慢，那本单元就会失败（Systemd 没有自动重试）。所以为了系统的健壮性，不建议使用这个标记，而建议使用 Wants 标记。可以使用多个 Requires。\u003c/p\u003e\n\u003cp\u003e●  RequiresOverridable：跟 Requires 很像。但是如果这条服务是由用户手动启动的，那么 RequiresOverridable 后面的服务即使启动不成功也不报错。跟 Requires 比增加了一定容错性，但是你要确定你的服务是有等待功能的。另外，如果不由用户手动启动而是随系统开机启动，那么依然会有 Requires 面临的问题。\u003c/p\u003e\n\u003cp\u003e●  Requisite：强势版本的 Requires。要是这里需要的服务启动不成功，那本单元文件不管能不能检测等不能等待都立刻就会失败。\u003c/p\u003e\n\u003cp\u003e●  Wants：推荐使用。本单元启动了，它“想要”的单元也会被启动。但是启动不成功，对本单元没有影响。\u003c/p\u003e\n\u003cp\u003e●  Conflicts：一个单元的启动会停止与它“冲突”的单元，反之亦然。\u003c/p\u003e\n\u003ch4 id=\"h4-service-\"\u003e\u003ca name=\"Service主要包含以下内容：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eService主要包含以下内容：\u003c/h4\u003e\u003cp\u003e●  Type：service的种类，包含下列几种类型：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eType=simple（默认值）：systemd认为该服务将立即启动。服务进程不会fork。如果该服务要启动其他服务，不要使用此类型启动，除非该服务是socket激活型。\n\nType=forking：systemd认为当该服务进程fork，且父进程退出后服务启动成功。对于常规的守护进程（daemon），除非你确定此启动方式无法满足需求，使用此类型启动即可。使用此启动类型应同时指定 PIDFile=，以便systemd能够跟踪服务的主进程。\n\nType=oneshot：这一选项适用于只执行一项任务、随后立即退出的服务。可能需要同时设置 RemainAfterExit=yes 使得 systemd 在服务进程退出之后仍然认为服务处于激活状态。\n\nType=notify：与 Type=simple 相同，但约定服务会在就绪后向 systemd 发送一个信号。这一通知的实现由 libsystemd-daemon.so 提供。\n\nType=dbus：若以此方式启动，当指定的 BusName 出现在DBus系统总线上时，systemd认为服务就绪\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e●  RemainAfterExit：默认值no\u003c/p\u003e\n\u003cp\u003e默认值为no，这个设置采用booleean值，可以是0、no、off、1、yes、on等值。它表明服务是否应当被视为激活的，即便当它所有的进程都退出了。简言之，这个设置用于告诉systemd服务是否应当是被视为激活状态，而不管进程是否退出。当为true时，即便服务退出，systemd依然将这个服务视为激活状态，反之则服务停止。\u003c/p\u003e\n\u003cp\u003e●  GuessMainPID\u003c/p\u003e\n\u003cp\u003e采用boolean值指定systemd在无法确切的查明服务的时候是否需要猜测服务的main pid。除非Type=forking被采用并且PIDFile没有被设置，否则这个选项会被忽略。因为当设置为Type的其他选项，或者显示的指定了PID文件后，systemd总是能够知道main pid。\u003c/p\u003e\n\u003cp\u003e●  PIDFile\u003c/p\u003e\n\u003cp\u003e采用一个绝对路径的文件名指定守护进程的PID文件。当Type=forking被设置的时候，建议采取这个设置。当服务启动后，systemd会读取守护进程的主进程id。systemd不会对该文件写入数据。\u003c/p\u003e\n\u003cp\u003e●  BusName\u003c/p\u003e\n\u003cp\u003e使用一个D-Bus的总线名称,作为该服务的可访问名称。当Type=dbus的时候，该设置被强制使用。\u003c/p\u003e\n\u003cp\u003e●  BusPolicy\u003c/p\u003e\n\u003cp\u003e如果该选项被指定，一个自定义的kdbus终结点将会被创建，并且会被指定为默认的dbus节点安装到服务上。这样的自定义终结点自身持有一个策略规则集合。这些规则将会在总线范围内被强制指定。该选项只有在kdbus被激活时有效。\u003c/p\u003e\n\u003cp\u003e●  ExecStart：服务启动时执行的命令，通常此命令就是服务的主体。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e------如果你服务的类型不是 oneshot，那么它只可以接受一个命令，参数不限。\n------多个命令用分号隔开，多行用 \\ 跨行。\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e●  ExecStartPre, ExecStartPost：ExecStart执行前后所调用的命令。\u003c/p\u003e\n\u003cp\u003e●  ExecStop：定义停止服务时所执行的命令，定义服务退出前所做的处理。如果没有指定，使用systemctl stop xxx命令时，服务将立即被终结而不做处理。\u003c/p\u003e\n\u003cp\u003e●  Restart：定义服务何种情况下重启（启动失败，启动超时，进程被终结）。可选选项：no, on-success, on-failure,on-watchdog, on-abort\u003c/p\u003e\n\u003cp\u003e●  SuccessExitStatus：参考ExecStart中返回值，定义何种情况算是启动成功。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eeg：SuccessExitStatus=1 2 8 SIGKILL\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e●  RestartSec 与 Restart 配合使用，在服务终止多长时间之后才重新启动它。默认是 100ms。\u003c/p\u003e\n\u003cp\u003e●  KillMode\u003cbr\u003e可以是 process, control-group, none 中的一种，如果是 process 则服务终止时，只会终止主要的程序(ExecStart接的后面那串指令)，如果是 control-group 时，则由此 daemon 所产生的其他 control-group 的程序，也都会被关闭。如果是 none 的话，则没有程序会被关闭。\u003c/p\u003e\n\u003cp\u003e●  TimeoutSec\u003cbr\u003e若这个服务在启动或者是关闭时，因为某些缘故导致无法顺利 “正常启动或正常结束” 的情况下，则我们要等多久才进入 “强制结束” 的状态！\u003c/p\u003e\n\u003cp\u003e●  RemainAfterExit\u003cbr\u003e当设置为 RemainAfterExit=1 时，则当这个服务所属的所有程序都终止之后，此服务会再尝试启动。这对于 Type=oneshot 的服务很有帮助！\u003c/p\u003e\n\u003cp\u003e环境变量的设置对很多程序来说都是十分重要的，下面的配置则可以以不同的方式为服务程序设置环境变量：\u003cbr\u003eEnvironment 用来设置环境变量，可以使用多次：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e[Service]\n# Client Env Vars\nEnvironment=ETCD_CA_FILE=/path/to/CA.pem\nEnvironment=ETCD_CERT_FILE=/path/to/server.crt\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e●  EnvironmentFile 通过文件的方式设置环境变量，可以把下面的内容保存到文件 testenv 中：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eAA_IPV4_ANCHOR_0=X.X.X.X\nBBB_IPV4_PRIVATE_0=X.X.X.X\nCCC_HOSTNAME=test.example.com\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-install-\"\u003e\u003ca name=\"Install主要包含以下内容：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eInstall主要包含以下内容：\u003c/h4\u003e\u003cp\u003e●  WantedBy：何种情况下，服务被启用。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eeg：WantedBy=multi-user.target（多用户环境下启用）\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e●  Alias：别名\u003cbr\u003e● Also    当目前这个 unit 被 enable 时，Also 后面接的 unit 也要 enable 的意思。\u003c/p\u003e\n\u003ch4 id=\"h4-timer-unit-\"\u003e\u003ca name=\"Timer 类型 unit 的详细配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eTimer 类型 unit 的详细配置\u003c/h4\u003e\u003ch5 id=\"h5-timer-unit-cron-timer-unit-unit-timer-unit-unit-timer-unit-timer-\"\u003e\u003ca name=\"Timer 类型的 unit 主要用来执行定时任务，并有可能取代 cron 服务。由于 timer 类型的 unit 经常与服务类型的 unit 一起使用，所以本文也附带介绍一下 timer unit 的配置。与服务类型的 unit 不同，timer unit 配置文件中的主要部分是 [Timer]，下面是其主要的配置项：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eTimer 类型的 unit 主要用来执行定时任务，并有可能取代 cron 服务。由于 timer 类型的 unit 经常与服务类型的 unit 一起使用，所以本文也附带介绍一下 timer unit 的配置。与服务类型的 unit 不同，timer unit 配置文件中的主要部分是 [Timer]，下面是其主要的配置项：\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003eOnActiveSec    当 timers.target 启动后多久才执行这个 unit。\u003c/li\u003e\u003cli\u003eOnBootSec    当开机后多久才执行这个 unit。\u003c/li\u003e\u003cli\u003eOnStartupSec    当 systemd 第一次启动后多久才执行这个 unit。\u003c/li\u003e\u003cli\u003eOnUnitActiveSec    这个 timer 配置文件所管理的那个 unit 服务在最后一次启动后，隔多久后再执行一次。\u003c/li\u003e\u003cli\u003eOnUnitInactiveSec    这个 timer 配置文件所管理的那个 unit 服务在最后一次停止后，隔多久后再执行一次。\u003c/li\u003e\u003cli\u003eUnit    一般不需要设置，基本上我们设置都是 服务名称.server + 服务名称.timer。如果你的服务名称和 timer 名称不相同，就需要在 .timer 文件中通过 Unit 项指定服务的名称。\u003c/li\u003e\u003cli\u003eOnCalendar    使用实际时间(非循环时间)的方式来启动服务。\u003c/li\u003e\u003cli\u003ePersistent    当使用 OnCalendar 的设置时，指定该功能要不要持续执行。\u003c/li\u003e\u003c/ul\u003e\n\u003ch3 id=\"h3--systemd-\"\u003e\u003ca name=\"旧的命令与systemd命令的映射\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e旧的命令与systemd命令的映射\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003eservice systemctl Description\nservice name start    ----\u0026gt;  systemctl start name.service   ●Starts a service.\nservice name stop   ----\u0026gt;  systemctl stopname.service   ●Stops a service.\nservice name restart  ----\u0026gt;  systemctl restartname.service  ●Restarts a service.\nservice name condrestart ----\u0026gt; systemctl try-restart name.service ●Restarts a service only if it is running.\nservice name reload  ----\u0026gt;  systemctl reloadname.serviceReloads configuration.\nservice name status ----\u0026gt;  systemctl status name.service\nsystemctl is-active name.service ●Checks if a service isrunning.\nservice --status-all  ----\u0026gt; systemctl list-units –type service --all ●Displays the status of all services.chkconfig systemctl\nchkconfig name on  ----\u0026gt;   systemctl enablename.service ●Enables a service.\nchkconfig name off   ----\u0026gt;   systemctl disablename.service ●Disables a service.\nchkconfig --list name  ----\u0026gt;  systemctl statusname.service\nsystem ctl is-enabled name.service ●Checks if a service is enabled.\nchkconfig --list  ----\u0026gt; systemctl list-unit-files –type service ●Lists all services and checks if they are enabled.\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--systemd-\"\u003e\u003ca name=\"创建自己的systemd服务\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e创建自己的systemd服务\u003c/h4\u003e\u003cp\u003e弄清了unit文件的各项意义，我们可以尝试编写自己的服务，与以前用SysV来编写服务相比，整个过程比较简单。unit文件有着简洁的特点，是以前臃肿的脚本所不能比的。\u003c/p\u003e\n\u003cp\u003e在本例中，尝试写一个命名为my-demo.service的服务，整个服务很简单：在开机的时候将服务启动时的时间写到一个文件当中。可以通过这个小小的例子来说明整个服务的创建过程。\u003c/p\u003e\n\u003cp\u003eStep1：编写属于自己的unit文件，命令为my-demo.service，整个文件如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e[Unit]\nDescription=My-demo Service\n\n[Service]\nType=oneshot\nExecStart=/bin/bash /root/test.sh\nStandardOutput=syslog\nStandardError=inherit\n\n[Install]\nWantedBy=multi-user.target\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--rhel-7-usr-lib-systemd-system-\"\u003e\u003ca name=\"将上述的文件拷贝到RHEL 7系统中/usr/lib/systemd/system/*目录下\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e将上述的文件拷贝到RHEL 7系统中/usr/lib/systemd/system/*目录下\u003c/h4\u003e\u003ch4 id=\"h4--unit-execstart-bin-bash-root-test-sh-test-sh-\"\u003e\u003ca name=\"编写unit文件中ExecStart=/bin/bash /root/test.sh所定义的test.sh文件，将其放在定义的目录当中，此文件是服务的执行主体。文件内容如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e编写unit文件中ExecStart=/bin/bash /root/test.sh所定义的test.sh文件，将其放在定义的目录当中，此文件是服务的执行主体。文件内容如下：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003e#!/bin/bash\ndate \u0026gt;\u0026gt; /tmp/date\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--my-demo-service-\"\u003e\u003ca name=\"将my-demo.service注册到系统当中执行命令：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e将my-demo.service注册到系统当中执行命令：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003esystemctl enable my-demo.service\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--ln-s-usr-lib-systemd-system-my-demo-service-etc-systemd-system-multi-user-target-wants-my-demo-service-\"\u003e\u003ca name=\"输出：ln -s’/usr/lib/systemd/system/my-demo.service’ ‘/etc/systemd/system/multi-user.target.wants/my-demo.service’\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e输出：ln -s’/usr/lib/systemd/system/my-demo.service’ ‘/etc/systemd/system/multi-user.target.wants/my-demo.service’\u003c/h5\u003e\u003ch5 id=\"h5--etc-systemd-system-\"\u003e\u003ca name=\"输出表明，注册的过程实际上就是将服务链接到/etc/systemd/system/目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e输出表明，注册的过程实际上就是将服务链接到/etc/systemd/system/目录下。\u003c/h5\u003e\u003ch5 id=\"h5--systemctl-start-systemctl-status-start-restart-stop-\"\u003e\u003ca name=\"首先，使用systemctl start [服务名（也是文件名）]可测试服务是否可以成功运行，如果不能运行则可以使用systemctl status [服务名（也是文件名）]查看错误信息和其他服务信息，然后根据报错进行修改，直到可以start，如果不放心还可以测试restart和stop命令。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e首先，使用systemctl start [服务名（也是文件名）]可测试服务是否可以成功运行，如果不能运行则可以使用systemctl status [服务名（也是文件名）]查看错误信息和其他服务信息，然后根据报错进行修改，直到可以start，如果不放心还可以测试restart和stop命令。\u003c/h5\u003e\u003ch6 id=\"h6-systemctl-usr-lib-systemd-system-systemctl-enable-name-service-etc-systemd-system-multi-user-target-wants-\"\u003e\u003ca name=\"systemctl服务脚本在/usr/lib/systemd/system/目录下，执行systemctl enable name.service相当于添加一个连接到/etc/systemd/system/multi-user.target.wants/目录下。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003esystemctl服务脚本在/usr/lib/systemd/system/目录下，执行systemctl enable name.service相当于添加一个连接到/etc/systemd/system/multi-user.target.wants/目录下。\u003c/h6\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":26042,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-04T17:07:28.412Z"},"updateTime":{"$date":"2019-03-19T07:36:42.433Z"},"__v":0}
{"_id":{"$oid":"5c7ff159b44ef86163951733"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"AH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command 'Require', perhaps misspelled or defined by a module not included in the server configuration","content":"\u003ch1 id=\"h1-ah00526-syntax-error-on-line-239-of-usr-local-apache-httpd-conf-httpd-conf-invalid-command-require-perhaps-misspelled-or-defined-by-a-module-not-included-in-the-server-configuration\"\u003e\u003ca name=\"AH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command ‘Require’, perhaps misspelled or defined by a module not included in the server configuration\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eAH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command ‘Require’, perhaps misspelled or defined by a module not included in the server configuration\u003c/h1\u003e\u003ch4 id=\"h4--httpd-httpd-\"\u003e\u003ca name=\"今天在源码编译安装完成httpd后启动httpd报错:\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e今天在源码编译安装完成httpd后启动httpd报错:\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eAH00526\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSyntax\u003c/span\u003e\u003cspan class=\"pln\"\u003e error on line \u003c/span\u003e\u003cspan class=\"lit\"\u003e239\u003c/span\u003e\u003cspan class=\"pln\"\u003e of \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eInvalid\u003c/span\u003e\u003cspan class=\"pln\"\u003e command \u003c/span\u003e\u003cspan class=\"str\"\u003e'Require'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e perhaps misspelled \u003c/span\u003e\u003cspan class=\"kwd\"\u003eor\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003edefined\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eby\u003c/span\u003e\u003cspan class=\"pln\"\u003e a \u003c/span\u003e\u003cspan class=\"kwd\"\u003emodule\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e included \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e the server configuration\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--code-authz_core_module-code-httpd-conf-code-disable-authn-core-code-code-disable-authn-core-code-\"\u003e\u003ca name=\"经过上网查询发现是\u003ccode\u003eauthz_core_module\u003c/code\u003e模块没有加载,查看httpd.conf发现没有编译这个模块，再查看编译参数发现是指定\u003ccode\u003e--disable-authn-core\u003c/code\u003e没有编译此模块，到此问题找到，解决方法重新编译去年\u003ccode\u003e--disable-authn-core\u003c/code\u003e参数。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e经过上网查询发现是\u003ccode\u003eauthz_core_module\u003c/code\u003e模块没有加载,查看httpd.conf发现没有编译这个模块，再查看编译参数发现是指定\u003ccode\u003e--disable-authn-core\u003c/code\u003e没有编译此模块，到此问题找到，解决方法重新编译去年\u003ccode\u003e--disable-authn-core\u003c/code\u003e参数。\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"str\"\u003e/configure --prefix=/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eowner \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbd  \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthnz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efcgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauth\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eform \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauth\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edigest \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eallowmethods \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eisapi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecache \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecache \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecache\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edisk\u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ewatchdog \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emacro \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebucketeer \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edumpio \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eecho \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehooks \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ecase\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ecase\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eipc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuffer \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edata \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eratelimit \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eext\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erequest \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003einclude \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ereflector \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esubstitute \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esed \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003echarset\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elite \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeflate \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003exml2enc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edebug \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eforensic \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elogio \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emime\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emagic \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecern\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emeta \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexpires \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eident \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eusertrack \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eunique\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eid \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eremoteip \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econnect \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eftp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efcgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003escgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euwsgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efdpass \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ewstunnel \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eajp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebalancer \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexpress \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehcheck \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecookie \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eslotmem\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eshm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eslotmem\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eplain \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003essl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003essl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehook\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eexport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehook\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eimport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efn\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eimport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efn\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eexport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edialup \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esupport \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtpasswd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtdigest \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erotatelogs \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elogresolve \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtdbm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eab \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003echeckgid \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtcacheclean \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttxt2dbm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efcgistarter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp2 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enghttp2\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp2 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejansson\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecurl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebyrequests \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebytraffic \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebybusyness \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheartbeat \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eunixd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheartbeat \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheartmonitor \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edav  \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003easis \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003einfo \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esuexec \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecgid \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edav\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efs \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edav\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003elock\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003evhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ealias\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enegotiation \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eimagemap \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eactions \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003espeling \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euserdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erewrite \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esuexec\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecapabilities \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev4\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emapped\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--code-httpd-conf-code-code-authz_core_module-code-code-authz_core_module-code-httpd-\"\u003e\u003ca name=\"编译安装完成后，再打开\u003ccode\u003ehttpd.conf\u003c/code\u003e可以看到有了\u003ccode\u003eauthz_core_module\u003c/code\u003e模块，将\u003ccode\u003eauthz_core_module\u003c/code\u003e开启，再执行httpd成功启动\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e编译安装完成后，再打开\u003ccode\u003ehttpd.conf\u003c/code\u003e可以看到有了\u003ccode\u003eauthz_core_module\u003c/code\u003e模块，将\u003ccode\u003eauthz_core_module\u003c/code\u003e开启，再执行httpd成功启动\u003c/h4\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190307/20190307002457_c2e70918ca3ebc6d5eb86a03a440ea7f.png?w=1042\u0026amp;h=616\" title=\"QQ20190307-002341@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307002457_c2e70918ca3ebc6d5eb86a03a440ea7f.png?w=1042\u0026amp;h=616\" alt=\"QQ20190307-002341@2x.png\" title=\"QQ20190307-002341@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-002341@2x.png\"\u003eQQ20190307-002341@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch6 id=\"h6--apache2-4-mod_authz_host-2-2-order-allow-mod_access_compat-load-apache2-4-\"\u003e\u003ca name=\"在Apache2.4版本中，提供了由mod_authz_host支持的新的访问控制配置语法。而2.2版本中的Order、Allow等命令在新版本中也可以得到兼容，实现这个兼容功能的模块就是mod_access_compat。所以Load这个模块后，apache2.4就能识别这些语句了。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在Apache2.4版本中，提供了由mod_authz_host支持的新的访问控制配置语法。而2.2版本中的Order、Allow等命令在新版本中也可以得到兼容，实现这个兼容功能的模块就是mod_access_compat。所以Load这个模块后，apache2.4就能识别这些语句了。\u003c/h6\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190307/20190307010035_e0dd5d087dda875635b40d93958bb71f.png?w=2910\u0026amp;h=472\" title=\"QQ20190307-005909@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307010035_e0dd5d087dda875635b40d93958bb71f.png?w=2910\u0026amp;h=472\" alt=\"QQ20190307-005909@2x.png\" title=\"QQ20190307-005909@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-005909@2x.png\"\u003eQQ20190307-005909@2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190307/20190307020143_a84a1096f0d82bcde5d65b914e493401.png?w=3080\u0026amp;h=576\" title=\"QQ20190307-020027@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307020143_a84a1096f0d82bcde5d65b914e493401.png?w=3080\u0026amp;h=576\" alt=\"QQ20190307-020027@2x.png\" title=\"QQ20190307-020027@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-020027@2x.png\"\u003eQQ20190307-020027@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://httpd.apache.org/docs/2.4/upgrading.html\" title=\"http://httpd.apache.org/docs/2.4/upgrading.html\"\u003eapache升级2.4后常见问题解决：http://httpd.apache.org/docs/2.4/upgrading.html\u003c/a\u003e。\u003c/p\u003e\n","markDown":"# AH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command 'Require', perhaps misspelled or defined by a module not included in the server configuration\n\n#### 今天在源码编译安装完成httpd后启动httpd报错:\n\n```\nAH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command 'Require', perhaps misspelled or defined by a module not included in the server configuration\n```\n#### 经过上网查询发现是```authz_core_module```模块没有加载,查看httpd.conf发现没有编译这个模块，再查看编译参数发现是指定```--disable-authn-core```没有编译此模块，到此问题找到，解决方法重新编译去年```--disable-authn-core```参数。\n\n```\n./configure --prefix=/usr/local/apache/httpd --with-apr=/usr/local/apache/apr --with-apr-util=/usr/local/apache/apr-util --with-pcre=/usr/local/pcre --enable-authz-dbm --enable-authz-owner --enable-authz-dbd  --enable-authnz-fcgi --enable-auth-form --enable-auth-digest --enable-allowmethods --enable-isapi --enable-file-cache --enable-cache --enable-cache-disk--enable-so --enable-watchdog --enable-macro --enable-dbd --enable-bucketeer --enable-dumpio --enable-echo --enable-example-hooks --enable-case-filter --enable-case-filter-in --enable-example-ipc --enable-buffer --enable-data --enable-ratelimit --enable-ext-filter --enable-request --enable-include --enable-reflector --enable-substitute --enable-sed --enable-charset-lite --enable-deflate --enable-xml2enc --enable-proxy-html --enable-http --enable-log-debug --enable-log-forensic --enable-logio --enable-mime-magic --enable-cern-meta --enable-expires --enable-ident --enable-usertrack --enable-unique-id --enable-remoteip --enable-proxy --enable-proxy-connect --enable-proxy-ftp --enable-proxy-http --enable-proxy-fcgi --enable-proxy-scgi --enable-proxy-uwsgi --enable-proxy-fdpass --enable-proxy-wstunnel --enable-proxy-ajp --enable-proxy-balancer --enable-proxy-express --enable-proxy-hcheck --enable-session --enable-session-cookie --enable-session-dbd --enable-slotmem-shm --enable-slotmem-plain --enable-ssl --enable-ssl-staticlib-deps --enable-optional-hook-export --enable-optional-hook-import --enable-optional-fn-import --enable-optional-fn-export --enable-dialup --enable-static-support --enable-static-htpasswd --enable-static-htdigest --enable-static-rotatelogs --enable-static-logresolve --enable-static-htdbm --enable-static-ab --enable-static-checkgid --enable-static-htcacheclean --enable-static-httxt2dbm --enable-static-fcgistarter --enable-http2 --enable-nghttp2-staticlib-deps --enable-proxy-http2 --enable-jansson-staticlib-deps --enable-curl-staticlib-deps --enable-lbmethod-byrequests --enable-lbmethod-bytraffic --enable-lbmethod-bybusyness --enable-lbmethod-heartbeat --enable-unixd --enable-heartbeat --enable-heartmonitor --enable-dav  --enable-asis --enable-info --enable-suexec --enable-cgid --enable-cgi --enable-dav-fs --enable-dav-lock --enable-vhost-alias --enable-negotiation --enable-imagemap --enable-actions --enable-speling --enable-userdir --enable-rewrite --enable-suexec-capabilities --enable-v4-mapped\n```\n\n#### 编译安装完成后，再打开```httpd.conf```可以看到有了```authz_core_module```模块，将```authz_core_module```开启，再执行httpd成功启动\n\n[![QQ20190307-002341@2x.png](/static/images/uploads/20190307/20190307002457_c2e70918ca3ebc6d5eb86a03a440ea7f.png?w=1042\u0026h=616 \"QQ20190307-002341@2x.png\")](/static/images/uploads/20190307/20190307002457_c2e70918ca3ebc6d5eb86a03a440ea7f.png?w=1042\u0026h=616 \"QQ20190307-002341@2x.png\")\n\n###### 在Apache2.4版本中，提供了由mod_authz_host支持的新的访问控制配置语法。而2.2版本中的Order、Allow等命令在新版本中也可以得到兼容，实现这个兼容功能的模块就是mod_access_compat。所以Load这个模块后，apache2.4就能识别这些语句了。\n\n[![QQ20190307-005909@2x.png](/static/images/uploads/20190307/20190307010035_e0dd5d087dda875635b40d93958bb71f.png?w=2910\u0026h=472 \"QQ20190307-005909@2x.png\")](/static/images/uploads/20190307/20190307010035_e0dd5d087dda875635b40d93958bb71f.png?w=2910\u0026h=472 \"QQ20190307-005909@2x.png\")\n[![QQ20190307-020027@2x.png](/static/images/uploads/20190307/20190307020143_a84a1096f0d82bcde5d65b914e493401.png?w=3080\u0026h=576 \"QQ20190307-020027@2x.png\")](/static/images/uploads/20190307/20190307020143_a84a1096f0d82bcde5d65b914e493401.png?w=3080\u0026h=576 \"QQ20190307-020027@2x.png\")\n\n[apache升级2.4后常见问题解决：http://httpd.apache.org/docs/2.4/upgrading.html](http://httpd.apache.org/docs/2.4/upgrading.html 'http://httpd.apache.org/docs/2.4/upgrading.html')。","html":"\u003ch1 id=\"h1-ah00526-syntax-error-on-line-239-of-usr-local-apache-httpd-conf-httpd-conf-invalid-command-require-perhaps-misspelled-or-defined-by-a-module-not-included-in-the-server-configuration\"\u003e\u003ca name=\"AH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command ‘Require’, perhaps misspelled or defined by a module not included in the server configuration\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eAH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command ‘Require’, perhaps misspelled or defined by a module not included in the server configuration\u003c/h1\u003e\u003ch4 id=\"h4--httpd-httpd-\"\u003e\u003ca name=\"今天在源码编译安装完成httpd后启动httpd报错:\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e今天在源码编译安装完成httpd后启动httpd报错:\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003eAH00526: Syntax error on line 239 of /usr/local/apache/httpd/conf/httpd.conf: Invalid command \u0026#39;Require\u0026#39;, perhaps misspelled or defined by a module not included in the server configuration\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--code-authz_core_module-code-httpd-conf-code-disable-authn-core-code-code-disable-authn-core-code-\"\u003e\u003ca name=\"经过上网查询发现是\u003ccode\u003eauthz_core_module\u003c/code\u003e模块没有加载,查看httpd.conf发现没有编译这个模块，再查看编译参数发现是指定\u003ccode\u003e--disable-authn-core\u003c/code\u003e没有编译此模块，到此问题找到，解决方法重新编译去年\u003ccode\u003e--disable-authn-core\u003c/code\u003e参数。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e经过上网查询发现是\u003ccode\u003eauthz_core_module\u003c/code\u003e模块没有加载,查看httpd.conf发现没有编译这个模块，再查看编译参数发现是指定\u003ccode\u003e--disable-authn-core\u003c/code\u003e没有编译此模块，到此问题找到，解决方法重新编译去年\u003ccode\u003e--disable-authn-core\u003c/code\u003e参数。\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003e./configure --prefix=/usr/local/apache/httpd --with-apr=/usr/local/apache/apr --with-apr-util=/usr/local/apache/apr-util --with-pcre=/usr/local/pcre --enable-authz-dbm --enable-authz-owner --enable-authz-dbd  --enable-authnz-fcgi --enable-auth-form --enable-auth-digest --enable-allowmethods --enable-isapi --enable-file-cache --enable-cache --enable-cache-disk--enable-so --enable-watchdog --enable-macro --enable-dbd --enable-bucketeer --enable-dumpio --enable-echo --enable-example-hooks --enable-case-filter --enable-case-filter-in --enable-example-ipc --enable-buffer --enable-data --enable-ratelimit --enable-ext-filter --enable-request --enable-include --enable-reflector --enable-substitute --enable-sed --enable-charset-lite --enable-deflate --enable-xml2enc --enable-proxy-html --enable-http --enable-log-debug --enable-log-forensic --enable-logio --enable-mime-magic --enable-cern-meta --enable-expires --enable-ident --enable-usertrack --enable-unique-id --enable-remoteip --enable-proxy --enable-proxy-connect --enable-proxy-ftp --enable-proxy-http --enable-proxy-fcgi --enable-proxy-scgi --enable-proxy-uwsgi --enable-proxy-fdpass --enable-proxy-wstunnel --enable-proxy-ajp --enable-proxy-balancer --enable-proxy-express --enable-proxy-hcheck --enable-session --enable-session-cookie --enable-session-dbd --enable-slotmem-shm --enable-slotmem-plain --enable-ssl --enable-ssl-staticlib-deps --enable-optional-hook-export --enable-optional-hook-import --enable-optional-fn-import --enable-optional-fn-export --enable-dialup --enable-static-support --enable-static-htpasswd --enable-static-htdigest --enable-static-rotatelogs --enable-static-logresolve --enable-static-htdbm --enable-static-ab --enable-static-checkgid --enable-static-htcacheclean --enable-static-httxt2dbm --enable-static-fcgistarter --enable-http2 --enable-nghttp2-staticlib-deps --enable-proxy-http2 --enable-jansson-staticlib-deps --enable-curl-staticlib-deps --enable-lbmethod-byrequests --enable-lbmethod-bytraffic --enable-lbmethod-bybusyness --enable-lbmethod-heartbeat --enable-unixd --enable-heartbeat --enable-heartmonitor --enable-dav  --enable-asis --enable-info --enable-suexec --enable-cgid --enable-cgi --enable-dav-fs --enable-dav-lock --enable-vhost-alias --enable-negotiation --enable-imagemap --enable-actions --enable-speling --enable-userdir --enable-rewrite --enable-suexec-capabilities --enable-v4-mapped\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--code-httpd-conf-code-code-authz_core_module-code-code-authz_core_module-code-httpd-\"\u003e\u003ca name=\"编译安装完成后，再打开\u003ccode\u003ehttpd.conf\u003c/code\u003e可以看到有了\u003ccode\u003eauthz_core_module\u003c/code\u003e模块，将\u003ccode\u003eauthz_core_module\u003c/code\u003e开启，再执行httpd成功启动\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e编译安装完成后，再打开\u003ccode\u003ehttpd.conf\u003c/code\u003e可以看到有了\u003ccode\u003eauthz_core_module\u003c/code\u003e模块，将\u003ccode\u003eauthz_core_module\u003c/code\u003e开启，再执行httpd成功启动\u003c/h4\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190307/20190307002457_c2e70918ca3ebc6d5eb86a03a440ea7f.png?w=1042\u0026amp;h=616\" title=\"QQ20190307-002341\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307002457_c2e70918ca3ebc6d5eb86a03a440ea7f.png?w=1042\u0026amp;h=616\" alt=\"QQ20190307-002341\u0026#64;2x.png\" title=\"QQ20190307-002341\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-002341\u0026#64;2x.png\"\u003eQQ20190307-002341\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch6 id=\"h6--apache2-4-mod_authz_host-2-2-order-allow-mod_access_compat-load-apache2-4-\"\u003e\u003ca name=\"在Apache2.4版本中，提供了由mod_authz_host支持的新的访问控制配置语法。而2.2版本中的Order、Allow等命令在新版本中也可以得到兼容，实现这个兼容功能的模块就是mod_access_compat。所以Load这个模块后，apache2.4就能识别这些语句了。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在Apache2.4版本中，提供了由mod_authz_host支持的新的访问控制配置语法。而2.2版本中的Order、Allow等命令在新版本中也可以得到兼容，实现这个兼容功能的模块就是mod_access_compat。所以Load这个模块后，apache2.4就能识别这些语句了。\u003c/h6\u003e\u003cp\u003e\u003ca href=\"/static/images/uploads/20190307/20190307010035_e0dd5d087dda875635b40d93958bb71f.png?w=2910\u0026amp;h=472\" title=\"QQ20190307-005909\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307010035_e0dd5d087dda875635b40d93958bb71f.png?w=2910\u0026amp;h=472\" alt=\"QQ20190307-005909\u0026#64;2x.png\" title=\"QQ20190307-005909\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-005909\u0026#64;2x.png\"\u003eQQ20190307-005909\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190307/20190307020143_a84a1096f0d82bcde5d65b914e493401.png?w=3080\u0026amp;h=576\" title=\"QQ20190307-020027\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307020143_a84a1096f0d82bcde5d65b914e493401.png?w=3080\u0026amp;h=576\" alt=\"QQ20190307-020027\u0026#64;2x.png\" title=\"QQ20190307-020027\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-020027\u0026#64;2x.png\"\u003eQQ20190307-020027\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://httpd.apache.org/docs/2.4/upgrading.html\" title=\"http://httpd.apache.org/docs/2.4/upgrading.html\"\u003eapache升级2.4后常见问题解决：http://httpd.apache.org/docs/2.4/upgrading.html\u003c/a\u003e。\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":23763,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-06T16:12:09.243Z"},"updateTime":{"$date":"2019-03-06T18:01:46.959Z"},"__v":0}
{"_id":{"$oid":"5c8001c41b53005f511b993b"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"linux(Centos7.*)下编译安装Apache+Php","content":"\u003ch1 id=\"h1-linux-centos7-apache-php\"\u003e\u003ca name=\"linux(Centos7.*)下编译安装Apache+Php\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003elinux(Centos7.*)下编译安装Apache+Php\u003c/h1\u003e\u003ch3 id=\"h3-u4E0Bu8F7Du8F6Fu4EF6u5305u53CAu4F9Du8D56\"\u003e\u003ca name=\"下载软件包及依赖\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载软件包及依赖\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eApache、apr、apr-util\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewget http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//mirror.bit.edu.cn/apache//httpd/httpd-2.4.38.tar.gz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewget http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//mirror.bit.edu.cn/apache/apr/apr-util-1.6.1.tar.gz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewget http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//mirror.bit.edu.cn/apache/apr/apr-1.6.5.tar.gz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003epcre\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewget ftp\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ePhp\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ewget http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//php.net/distributions/php-7.3.2.tar.gz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u89E3u538Bu5E76u5B89u88C5\"\u003e\u003ca name=\"解压并安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解压并安装\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e安装依赖\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eyum \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey install gcc\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e++\u003c/span\u003e\u003cspan class=\"pln\"\u003e unzip zip\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建安装目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装apr\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf apr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.6\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e5.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd apr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.6\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e5\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eprefix\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr  \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexperimental\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibtool \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edebug \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eprofile\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装apr-util\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf apr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.6\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd apr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.6\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eprefix\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装pcre\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf pcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e8.43\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd pcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e8.43\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eprefix\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre16 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre32 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejit \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutf \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eunicode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproperties \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enewline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecr \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enewline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elf \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enewline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecrlf \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enewline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eanycrlf \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enewline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eany \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebsr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eanycrlf \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edisable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estack\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erecursion \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcregrep\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibz \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcregrep\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibbz2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装apache\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf httpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.4\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e38.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd httpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.4\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e38\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eprefix\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapr\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eowner \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbd  \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauthnz\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efcgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauth\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eform \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eauth\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edigest \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eallowmethods \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eisapi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecache \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecache \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecache\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edisk\u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ewatchdog \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emacro \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebucketeer \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edumpio \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eecho \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehooks \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ecase\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ecase\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eipc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuffer \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edata \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eratelimit \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eext\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erequest \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003einclude \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ereflector \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esubstitute \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esed \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003echarset\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elite \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeflate \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003exml2enc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edebug \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eforensic \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elogio \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emime\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emagic \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecern\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emeta \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexpires \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eident \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eusertrack \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eunique\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eid \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eremoteip \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econnect \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eftp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efcgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003escgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euwsgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efdpass \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ewstunnel \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eajp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebalancer \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexpress \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehcheck \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecookie \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edbd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eslotmem\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eshm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eslotmem\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eplain \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003essl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003essl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehook\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eexport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehook\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eimport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efn\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eimport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptional\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efn\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eexport\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edialup \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esupport \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtpasswd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtdigest \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erotatelogs \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elogresolve \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtdbm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eab \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003echeckgid \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtcacheclean \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttxt2dbm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efcgistarter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp2 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enghttp2\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eproxy\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp2 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejansson\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecurl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estaticlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edeps \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebyrequests \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebytraffic \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebybusyness \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elbmethod\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheartbeat \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eunixd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheartbeat \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheartmonitor \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edav  \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003easis \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003einfo \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esuexec \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecgid \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecgi \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edav\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efs \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edav\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003elock\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003evhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003ealias\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003enegotiation \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eimagemap \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eactions \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003espeling \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euserdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erewrite \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esuexec\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecapabilities \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev4\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emapped\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装php\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003etar \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezxvf php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.tar\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egz \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e cd php\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e7.3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e./\u003c/span\u003e\u003cspan class=\"pln\"\u003econfigure \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eprefix\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econfig\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efile\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epath\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eapxs2\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapxs \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efpm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efpm\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003euser\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003ewww \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efpm\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003egroup\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003ewww \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003einline\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eoptimization \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edisable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edebug \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003edisable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erpath \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eshared \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esoap \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003exmlrpc \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eregex \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esqlite3 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezlib \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebcmath \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eiconv \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebz2 \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecalendar \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecurl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecdb \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edom \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eexif \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efileinfo \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilter \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epcre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eftp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopenssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejpeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epng\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efreetype\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejis\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econv \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egettext \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egmp \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emhash \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ejson \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003embstring \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003embregex \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003embregex\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebacktrack \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eonig \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqli\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqlnd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emysql\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqlnd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezlib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epdo\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esqlite \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ereadline \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esession \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eshmop \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esimplexml \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esockets \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esysvmsg \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esysvsem \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esysvshm \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ewddx \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003elibxml\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edir \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003exsl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ezip \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emysqlnd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecompression\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esupport \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epear \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eopcache\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u914Du7F6E\"\u003e\u003ca name=\"配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eapache配置支持php\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapache\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eServerRoot\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/usr/local/apache/httpd\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eListen\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e authn_file_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_authn_file\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e authn_core_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_authn_core\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e authz_host_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_authz_host\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"com\"\u003e# 2.4*权限配置模块\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e authz_groupfile_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_authz_groupfile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e authz_user_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_authz_user\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e access_compat_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_access_compat\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"com\"\u003e# 权限配置兼容模块\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e auth_basic_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_auth_basic\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e reqtimeout_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_reqtimeout\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e filter_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_filter\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e mime_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_mime\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e log_config_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_log_config\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e env_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_env\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e headers_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_headers\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e unique_id_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_unique_id\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e setenvif_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_setenvif\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e version_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_version\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e ssl_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_ssl\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"com\"\u003e#开启ssl模块\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e http2_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_http2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"com\"\u003e#开启http2模块\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e unixd_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_unixd\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e status_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_status\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e autoindex_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_autoindex\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e dir_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_dir\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e alias_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_alias\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e rewrite_module modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emod_rewrite\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"com\"\u003e# 重写模块\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eLoadModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e php7_module        modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elibphp7\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eso \u003c/span\u003e\u003cspan class=\"com\"\u003e# 开启php支持模块\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eUser\u003c/span\u003e\u003cspan class=\"pln\"\u003e www \u003c/span\u003e\u003cspan class=\"com\"\u003e# 启动httpd服务的用户\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eGroup\u003c/span\u003e\u003cspan class=\"pln\"\u003e www \u003c/span\u003e\u003cspan class=\"com\"\u003e# 启动httpd服务的用户组\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eServerAdmin\u003c/span\u003e\u003cspan class=\"pln\"\u003e thebulelife@163\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom \u003c/span\u003e\u003cspan class=\"com\"\u003e# 管理员邮箱\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eServerName\u003c/span\u003e\u003cspan class=\"pln\"\u003e localhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e# 服务域名\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eDocumentRoot\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/home/wwwroot\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"typ\"\u003eDirectory\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/home/wwwroot\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"typ\"\u003eIfModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e dir_module\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"typ\"\u003eDirectoryIndex\u003c/span\u003e\u003cspan class=\"pln\"\u003e index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtm index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp \u003c/span\u003e\u003cspan class=\"com\"\u003e# 支持解析的文件后缀\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"typ\"\u003eIfModule\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"typ\"\u003eIfModule\u003c/span\u003e\u003cspan class=\"pln\"\u003e mime_module\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eAddType\u003c/span\u003e\u003cspan class=\"pln\"\u003e application\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ex\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp \u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp \u003c/span\u003e\u003cspan class=\"com\"\u003e# 对php文件让php解析\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eAddType\u003c/span\u003e\u003cspan class=\"pln\"\u003e application\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ex\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttpd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esource \u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp7\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"typ\"\u003eIfModule\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"typ\"\u003eDirectory\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ephp配置\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003elocal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eini\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003edate\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etimezone \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eAsia\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"typ\"\u003eShanghai\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e;设置服务器时区为上海\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eauto_start \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e;设置开启\u003c/span\u003e\u003cspan class=\"pln\"\u003esession\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建测试文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;?\u003c/span\u003e\u003cspan class=\"pln\"\u003ephp\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ephpinfo\u003c/span\u003e\u003cspan class=\"pun\"\u003e();\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e启动服务\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e打开浏览器输入：\u003ca href=\"http://localhost\"\u003ehttp://localhost\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190307/20190307014950_b921cbd262d379c92d1f1e3360b462ea.png?w=1872\u0026amp;h=1690\" title=\"QQ20190307-011928@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307014950_b921cbd262d379c92d1f1e3360b462ea.png?w=1872\u0026amp;h=1690\" alt=\"QQ20190307-011928@2x.png\" title=\"QQ20190307-011928@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-011928@2x.png\"\u003eQQ20190307-011928@2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190307/20190307015002_a49daa914847100f66c417fb3b21197e.png?w=1874\u0026amp;h=1656\" title=\"QQ20190307-011946@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307015002_a49daa914847100f66c417fb3b21197e.png?w=1874\u0026amp;h=1656\" alt=\"QQ20190307-011946@2x.png\" title=\"QQ20190307-011946@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-011946@2x.png\"\u003eQQ20190307-011946@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 id=\"h4--apache-php-http-httpd-apache-org-docs-2-4-upgrading-html-\"\u003e\u003ca name=\"到此apache+php源码编译安装、配置完成。如果启动遇到问题请查看：  http://httpd.apache.org/docs/2.4/upgrading.html 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e到此apache+php源码编译安装、配置完成。如果启动遇到问题请查看：\u003ca href=\"http://httpd.apache.org/docs/2.4/upgrading.html\" title=\"http://httpd.apache.org/docs/2.4/upgrading.html\"\u003ehttp://httpd.apache.org/docs/2.4/upgrading.html\u003c/a\u003e。\u003c/h4\u003e","markDown":"# linux(Centos7.*)下编译安装Apache+Php\n\n### 下载软件包及依赖\n\n* Apache、apr、apr-util\n\n```\nwget http://mirror.bit.edu.cn/apache//httpd/httpd-2.4.38.tar.gz\nwget http://mirror.bit.edu.cn/apache/apr/apr-util-1.6.1.tar.gz\nwget http://mirror.bit.edu.cn/apache/apr/apr-1.6.5.tar.gz\n```\n\n* pcre\n\n```\nwget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\n```\n\n* Php\n\n```\nwget http://php.net/distributions/php-7.3.2.tar.gz\n```\n\n### 解压并安装\n\n* 安装依赖\n\n```\nyum -y install gcc-c++ unzip zip\n```\n\n* 创建安装目录\n\n```\nmkdir -p /usr/local/apache\nmkdir -p /usr/local/apache/apr\nmkdir -p /usr/local/apache/apr-util\nmkdir -p /usr/local/apache/httpd\nmkdir -p /usr/local/php\nmkdir -p /usr/local/pcre\n```\n\n* 安装apr\n\n```\ntar -zxvf apr-1.6.5.tar.gz \u0026\u0026 cd apr-1.6.5\n./configure --prefix=/usr/local/apache/apr  --enable-experimental-libtool --enable-debug --enable-profile\nmake\nmake install\n```\n\n* 安装apr-util\n\n```\ntar -zxvf apr-util-1.6.1.tar.gz \u0026\u0026 cd apr-util-1.6.1\n./configure --prefix=/usr/local/apache/apr-util --with-apr=/usr/local/apache/apr\nmake\nmake install\n```\n\n* 安装pcre\n\n```\ntar -zxvf pcre-8.43.tar.gz \u0026\u0026 cd pcre-8.43\n./configure --prefix=/usr/local/pcre --enable-pcre16 --enable-pcre32 --enable-jit --enable-utf --enable-unicode-properties --enable-newline-is-cr --enable-newline-is-lf --enable-newline-is-crlf --enable-newline-is-anycrlf --enable-newline-is-any --enable-bsr-anycrlf --disable-stack-for-recursion --enable-pcregrep-libz --enable-pcregrep-libbz2\nmake\nmake install\n```\n\n* 安装apache\n\n```\ntar -zxvf httpd-2.4.38.tar.gz \u0026\u0026 cd httpd-2.4.38\n\n./configure --prefix=/usr/local/apache/httpd --with-apr=/usr/local/apache/apr --with-apr-util=/usr/local/apache/apr-util --with-pcre=/usr/local/pcre --enable-authz-dbm --enable-authz-owner --enable-authz-dbd  --enable-authnz-fcgi --enable-auth-form --enable-auth-digest --enable-allowmethods --enable-isapi --enable-file-cache --enable-cache --enable-cache-disk--enable-so --enable-watchdog --enable-macro --enable-dbd --enable-bucketeer --enable-dumpio --enable-echo --enable-example-hooks --enable-case-filter --enable-case-filter-in --enable-example-ipc --enable-buffer --enable-data --enable-ratelimit --enable-ext-filter --enable-request --enable-include --enable-reflector --enable-substitute --enable-sed --enable-charset-lite --enable-deflate --enable-xml2enc --enable-proxy-html --enable-http --enable-log-debug --enable-log-forensic --enable-logio --enable-mime-magic --enable-cern-meta --enable-expires --enable-ident --enable-usertrack --enable-unique-id --enable-remoteip --enable-proxy --enable-proxy-connect --enable-proxy-ftp --enable-proxy-http --enable-proxy-fcgi --enable-proxy-scgi --enable-proxy-uwsgi --enable-proxy-fdpass --enable-proxy-wstunnel --enable-proxy-ajp --enable-proxy-balancer --enable-proxy-express --enable-proxy-hcheck --enable-session --enable-session-cookie --enable-session-dbd --enable-slotmem-shm --enable-slotmem-plain --enable-ssl --enable-ssl-staticlib-deps --enable-optional-hook-export --enable-optional-hook-import --enable-optional-fn-import --enable-optional-fn-export --enable-dialup --enable-static-support --enable-static-htpasswd --enable-static-htdigest --enable-static-rotatelogs --enable-static-logresolve --enable-static-htdbm --enable-static-ab --enable-static-checkgid --enable-static-htcacheclean --enable-static-httxt2dbm --enable-static-fcgistarter --enable-http2 --enable-nghttp2-staticlib-deps --enable-proxy-http2 --enable-jansson-staticlib-deps --enable-curl-staticlib-deps --enable-lbmethod-byrequests --enable-lbmethod-bytraffic --enable-lbmethod-bybusyness --enable-lbmethod-heartbeat --enable-unixd --enable-heartbeat --enable-heartmonitor --enable-dav  --enable-asis --enable-info --enable-suexec --enable-cgid --enable-cgi --enable-dav-fs --enable-dav-lock --enable-vhost-alias --enable-negotiation --enable-imagemap --enable-actions --enable-speling --enable-userdir --enable-rewrite --enable-suexec-capabilities --enable-v4-mapped\nmake\nmake install\n```\n\n* 安装php\n\n```\ntar -zxvf php-7.3.2.tar.gz \u0026\u0026 cd php-7.3.2\n./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-apxs2=/usr/local/apache/httpd/bin/apxs --enable-fpm --with-fpm-user=www --with-fpm-group=www --enable-inline-optimization --disable-debug --disable-rpath --enable-shared --enable-soap --with-xmlrpc --with-openssl --with-pcre-regex --with-sqlite3 --with-zlib --enable-bcmath --with-iconv --with-bz2 --enable-calendar --with-curl --with-cdb --enable-dom --enable-exif --enable-fileinfo --enable-filter --with-pcre-dir --enable-ftp --with-gd --with-openssl-dir --with-jpeg-dir --with-png-dir --with-freetype-dir --enable-gd-jis-conv --with-gettext --with-gmp --with-mhash --enable-json --enable-mbstring --enable-mbregex --enable-mbregex-backtrack --with-onig --enable-pdo --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-zlib-dir --with-pdo-sqlite --with-readline --enable-session --enable-shmop --enable-simplexml --enable-sockets --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-wddx --with-libxml-dir --with-xsl --enable-zip --enable-mysqlnd-compression-support --with-pear --enable-opcache\nmake\nmake install\n```\n\n### 配置\n\n* apache配置支持php\n\n```\nvim /usr/local/apache/http/conf/httpd.conf\n...\nServerRoot \"/usr/local/apache/httpd\"\nListen 80\nLoadModule authn_file_module modules/mod_authn_file.so\nLoadModule authn_core_module modules/mod_authn_core.so\nLoadModule authz_host_module modules/mod_authz_host.so # 2.4*权限配置模块\nLoadModule authz_groupfile_module modules/mod_authz_groupfile.so\nLoadModule authz_user_module modules/mod_authz_user.so\nLoadModule access_compat_module modules/mod_access_compat.so # 权限配置兼容模块\nLoadModule auth_basic_module modules/mod_auth_basic.so\nLoadModule reqtimeout_module modules/mod_reqtimeout.so\nLoadModule filter_module modules/mod_filter.so\nLoadModule mime_module modules/mod_mime.so\nLoadModule log_config_module modules/mod_log_config.so\nLoadModule env_module modules/mod_env.so\nLoadModule headers_module modules/mod_headers.so\nLoadModule unique_id_module modules/mod_unique_id.so\nLoadModule setenvif_module modules/mod_setenvif.so\nLoadModule version_module modules/mod_version.so\nLoadModule ssl_module modules/mod_ssl.so #开启ssl模块\nLoadModule http2_module modules/mod_http2.so #开启http2模块\nLoadModule unixd_module modules/mod_unixd.so\nLoadModule status_module modules/mod_status.so\nLoadModule autoindex_module modules/mod_autoindex.so\nLoadModule dir_module modules/mod_dir.so\nLoadModule alias_module modules/mod_alias.so\nLoadModule rewrite_module modules/mod_rewrite.so # 重写模块\nLoadModule php7_module        modules/libphp7.so # 开启php支持模块\nUser www # 启动httpd服务的用户\nGroup www # 启动httpd服务的用户组\nServerAdmin thebulelife@163.com # 管理员邮箱\nServerName localhost:80 # 服务域名\nDocumentRoot \"/home/wwwroot\" # 项目目录\n\u003cDirectory \"/home/wwwroot\"\u003e # 项目目录\n\u003cIfModule dir_module\u003e\n    DirectoryIndex index.html index.htm index.php # 支持解析的文件后缀\n\u003c/IfModule\u003e\n\u003cIfModule mime_module\u003e\n...\nAddType application/x-httpd-php .php # 对php文件让php解析\nAddType application/x-httpd-php-source .php7\n\u003c/IfModule\u003e\n...\n\u003c/Directory\u003e\n...\n```\n\n* php配置\n\n```\nvim /usr/local/php/etc/php/ini\n...\ndate.timezone = Asia/Shanghai ;设置服务器时区为上海\nsession.auto_start = 1 ;设置开启session\n...\n```\n\n* 创建测试文件\n\n```\nvim index.php\n\u003c?php\nphpinfo();\n```\n\n* 启动服务\n\n\u003e 打开浏览器输入：http://localhost\n\n[![QQ20190307-011928@2x.png](/static/images/uploads/20190307/20190307014950_b921cbd262d379c92d1f1e3360b462ea.png?w=1872\u0026h=1690 \"QQ20190307-011928@2x.png\")](/static/images/uploads/20190307/20190307014950_b921cbd262d379c92d1f1e3360b462ea.png?w=1872\u0026h=1690 \"QQ20190307-011928@2x.png\")\n[![QQ20190307-011946@2x.png](/static/images/uploads/20190307/20190307015002_a49daa914847100f66c417fb3b21197e.png?w=1874\u0026h=1656 \"QQ20190307-011946@2x.png\")](/static/images/uploads/20190307/20190307015002_a49daa914847100f66c417fb3b21197e.png?w=1874\u0026h=1656 \"QQ20190307-011946@2x.png\")\n\n#### 到此apache+php源码编译安装、配置完成。如果启动遇到问题请查看：[http://httpd.apache.org/docs/2.4/upgrading.html](http://httpd.apache.org/docs/2.4/upgrading.html 'http://httpd.apache.org/docs/2.4/upgrading.html')。","html":"\u003ch1 id=\"h1-linux-centos7-apache-php\"\u003e\u003ca name=\"linux(Centos7.*)下编译安装Apache+Php\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003elinux(Centos7.*)下编译安装Apache+Php\u003c/h1\u003e\u003ch3 id=\"h3-u4E0Bu8F7Du8F6Fu4EF6u5305u53CAu4F9Du8D56\"\u003e\u003ca name=\"下载软件包及依赖\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下载软件包及依赖\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eApache、apr、apr-util\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ewget http://mirror.bit.edu.cn/apache//httpd/httpd-2.4.38.tar.gz\nwget http://mirror.bit.edu.cn/apache/apr/apr-util-1.6.1.tar.gz\nwget http://mirror.bit.edu.cn/apache/apr/apr-1.6.5.tar.gz\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003epcre\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ewget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.43.tar.gz\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ePhp\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ewget http://php.net/distributions/php-7.3.2.tar.gz\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u89E3u538Bu5E76u5B89u88C5\"\u003e\u003ca name=\"解压并安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e解压并安装\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e安装依赖\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eyum -y install gcc-c++ unzip zip\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建安装目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003emkdir -p /usr/local/apache\nmkdir -p /usr/local/apache/apr\nmkdir -p /usr/local/apache/apr-util\nmkdir -p /usr/local/apache/httpd\nmkdir -p /usr/local/php\nmkdir -p /usr/local/pcre\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装apr\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003etar -zxvf apr-1.6.5.tar.gz \u0026amp;\u0026amp; cd apr-1.6.5\n./configure --prefix=/usr/local/apache/apr  --enable-experimental-libtool --enable-debug --enable-profile\nmake\nmake install\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装apr-util\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003etar -zxvf apr-util-1.6.1.tar.gz \u0026amp;\u0026amp; cd apr-util-1.6.1\n./configure --prefix=/usr/local/apache/apr-util --with-apr=/usr/local/apache/apr\nmake\nmake install\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装pcre\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003etar -zxvf pcre-8.43.tar.gz \u0026amp;\u0026amp; cd pcre-8.43\n./configure --prefix=/usr/local/pcre --enable-pcre16 --enable-pcre32 --enable-jit --enable-utf --enable-unicode-properties --enable-newline-is-cr --enable-newline-is-lf --enable-newline-is-crlf --enable-newline-is-anycrlf --enable-newline-is-any --enable-bsr-anycrlf --disable-stack-for-recursion --enable-pcregrep-libz --enable-pcregrep-libbz2\nmake\nmake install\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装apache\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003etar -zxvf httpd-2.4.38.tar.gz \u0026amp;\u0026amp; cd httpd-2.4.38\n\n./configure --prefix=/usr/local/apache/httpd --with-apr=/usr/local/apache/apr --with-apr-util=/usr/local/apache/apr-util --with-pcre=/usr/local/pcre --enable-authz-dbm --enable-authz-owner --enable-authz-dbd  --enable-authnz-fcgi --enable-auth-form --enable-auth-digest --enable-allowmethods --enable-isapi --enable-file-cache --enable-cache --enable-cache-disk--enable-so --enable-watchdog --enable-macro --enable-dbd --enable-bucketeer --enable-dumpio --enable-echo --enable-example-hooks --enable-case-filter --enable-case-filter-in --enable-example-ipc --enable-buffer --enable-data --enable-ratelimit --enable-ext-filter --enable-request --enable-include --enable-reflector --enable-substitute --enable-sed --enable-charset-lite --enable-deflate --enable-xml2enc --enable-proxy-html --enable-http --enable-log-debug --enable-log-forensic --enable-logio --enable-mime-magic --enable-cern-meta --enable-expires --enable-ident --enable-usertrack --enable-unique-id --enable-remoteip --enable-proxy --enable-proxy-connect --enable-proxy-ftp --enable-proxy-http --enable-proxy-fcgi --enable-proxy-scgi --enable-proxy-uwsgi --enable-proxy-fdpass --enable-proxy-wstunnel --enable-proxy-ajp --enable-proxy-balancer --enable-proxy-express --enable-proxy-hcheck --enable-session --enable-session-cookie --enable-session-dbd --enable-slotmem-shm --enable-slotmem-plain --enable-ssl --enable-ssl-staticlib-deps --enable-optional-hook-export --enable-optional-hook-import --enable-optional-fn-import --enable-optional-fn-export --enable-dialup --enable-static-support --enable-static-htpasswd --enable-static-htdigest --enable-static-rotatelogs --enable-static-logresolve --enable-static-htdbm --enable-static-ab --enable-static-checkgid --enable-static-htcacheclean --enable-static-httxt2dbm --enable-static-fcgistarter --enable-http2 --enable-nghttp2-staticlib-deps --enable-proxy-http2 --enable-jansson-staticlib-deps --enable-curl-staticlib-deps --enable-lbmethod-byrequests --enable-lbmethod-bytraffic --enable-lbmethod-bybusyness --enable-lbmethod-heartbeat --enable-unixd --enable-heartbeat --enable-heartmonitor --enable-dav  --enable-asis --enable-info --enable-suexec --enable-cgid --enable-cgi --enable-dav-fs --enable-dav-lock --enable-vhost-alias --enable-negotiation --enable-imagemap --enable-actions --enable-speling --enable-userdir --enable-rewrite --enable-suexec-capabilities --enable-v4-mapped\nmake\nmake install\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装php\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003etar -zxvf php-7.3.2.tar.gz \u0026amp;\u0026amp; cd php-7.3.2\n./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-apxs2=/usr/local/apache/httpd/bin/apxs --enable-fpm --with-fpm-user=www --with-fpm-group=www --enable-inline-optimization --disable-debug --disable-rpath --enable-shared --enable-soap --with-xmlrpc --with-openssl --with-pcre-regex --with-sqlite3 --with-zlib --enable-bcmath --with-iconv --with-bz2 --enable-calendar --with-curl --with-cdb --enable-dom --enable-exif --enable-fileinfo --enable-filter --with-pcre-dir --enable-ftp --with-gd --with-openssl-dir --with-jpeg-dir --with-png-dir --with-freetype-dir --enable-gd-jis-conv --with-gettext --with-gmp --with-mhash --enable-json --enable-mbstring --enable-mbregex --enable-mbregex-backtrack --with-onig --enable-pdo --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-zlib-dir --with-pdo-sqlite --with-readline --enable-session --enable-shmop --enable-simplexml --enable-sockets --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-wddx --with-libxml-dir --with-xsl --enable-zip --enable-mysqlnd-compression-support --with-pear --enable-opcache\nmake\nmake install\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u914Du7F6E\"\u003e\u003ca name=\"配置\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e配置\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003eapache配置支持php\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003evim /usr/local/apache/http/conf/httpd.conf\n...\nServerRoot \u0026quot;/usr/local/apache/httpd\u0026quot;\nListen 80\nLoadModule authn_file_module modules/mod_authn_file.so\nLoadModule authn_core_module modules/mod_authn_core.so\nLoadModule authz_host_module modules/mod_authz_host.so # 2.4*权限配置模块\nLoadModule authz_groupfile_module modules/mod_authz_groupfile.so\nLoadModule authz_user_module modules/mod_authz_user.so\nLoadModule access_compat_module modules/mod_access_compat.so # 权限配置兼容模块\nLoadModule auth_basic_module modules/mod_auth_basic.so\nLoadModule reqtimeout_module modules/mod_reqtimeout.so\nLoadModule filter_module modules/mod_filter.so\nLoadModule mime_module modules/mod_mime.so\nLoadModule log_config_module modules/mod_log_config.so\nLoadModule env_module modules/mod_env.so\nLoadModule headers_module modules/mod_headers.so\nLoadModule unique_id_module modules/mod_unique_id.so\nLoadModule setenvif_module modules/mod_setenvif.so\nLoadModule version_module modules/mod_version.so\nLoadModule ssl_module modules/mod_ssl.so #开启ssl模块\nLoadModule http2_module modules/mod_http2.so #开启http2模块\nLoadModule unixd_module modules/mod_unixd.so\nLoadModule status_module modules/mod_status.so\nLoadModule autoindex_module modules/mod_autoindex.so\nLoadModule dir_module modules/mod_dir.so\nLoadModule alias_module modules/mod_alias.so\nLoadModule rewrite_module modules/mod_rewrite.so # 重写模块\nLoadModule php7_module        modules/libphp7.so # 开启php支持模块\nUser www # 启动httpd服务的用户\nGroup www # 启动httpd服务的用户组\nServerAdmin thebulelife@163.com # 管理员邮箱\nServerName localhost:80 # 服务域名\nDocumentRoot \u0026quot;/home/wwwroot\u0026quot; # 项目目录\n\u0026lt;Directory \u0026quot;/home/wwwroot\u0026quot;\u0026gt; # 项目目录\n\u0026lt;IfModule dir_module\u0026gt;\n    DirectoryIndex index.html index.htm index.php # 支持解析的文件后缀\n\u0026lt;/IfModule\u0026gt;\n\u0026lt;IfModule mime_module\u0026gt;\n...\nAddType application/x-httpd-php .php # 对php文件让php解析\nAddType application/x-httpd-php-source .php7\n\u0026lt;/IfModule\u0026gt;\n...\n\u0026lt;/Directory\u0026gt;\n...\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ephp配置\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003evim /usr/local/php/etc/php/ini\n...\ndate.timezone = Asia/Shanghai ;设置服务器时区为上海\nsession.auto_start = 1 ;设置开启session\n...\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建测试文件\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003evim index.php\n\u0026lt;?php\nphpinfo();\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e启动服务\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e打开浏览器输入：\u003ca href=\"http://localhost\"\u003ehttp://localhost\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ca href=\"/static/images/uploads/20190307/20190307014950_b921cbd262d379c92d1f1e3360b462ea.png?w=1872\u0026amp;h=1690\" title=\"QQ20190307-011928\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307014950_b921cbd262d379c92d1f1e3360b462ea.png?w=1872\u0026amp;h=1690\" alt=\"QQ20190307-011928\u0026#64;2x.png\" title=\"QQ20190307-011928\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-011928\u0026#64;2x.png\"\u003eQQ20190307-011928\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"/static/images/uploads/20190307/20190307015002_a49daa914847100f66c417fb3b21197e.png?w=1874\u0026amp;h=1656\" title=\"QQ20190307-011946\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190307/20190307015002_a49daa914847100f66c417fb3b21197e.png?w=1874\u0026amp;h=1656\" alt=\"QQ20190307-011946\u0026#64;2x.png\" title=\"QQ20190307-011946\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190307-011946\u0026#64;2x.png\"\u003eQQ20190307-011946\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 id=\"h4--apache-php-http-httpd-apache-org-docs-2-4-upgrading-html-\"\u003e\u003ca name=\"到此apache+php源码编译安装、配置完成。如果启动遇到问题请查看：  http://httpd.apache.org/docs/2.4/upgrading.html 。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e到此apache+php源码编译安装、配置完成。如果启动遇到问题请查看：\u003ca href=\"http://httpd.apache.org/docs/2.4/upgrading.html\" title=\"http://httpd.apache.org/docs/2.4/upgrading.html\"\u003ehttp://httpd.apache.org/docs/2.4/upgrading.html\u003c/a\u003e。\u003c/h4\u003e","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":52917,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-06T17:22:12.586Z"},"updateTime":{"$date":"2019-03-06T17:58:11.245Z"},"__v":0}
{"_id":{"$oid":"5c83294bb413fb355e3ae1b8"},"hearts":[{"$oid":"5c3c910585710f035b21350c"},{"$oid":"5c3e2295fc56f30dec47c533"},{"$oid":"5c3e2295fc56f30dec47c533"},{"$oid":"5c3e2295fc56f30dec47c533"}],"follows":[],"collects":[],"shares":[],"commentsOwn":[{"$oid":"5c3c910585710f035b21350c"}],"comments":[{"$oid":"5c8378944e49b3435358b0e1"}],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3cc64d70830e13d1bf35b9","title":"使用Node+Express+ejs+Mongoose搭建网站开发环境","content":"\u003ch1 id=\"h1--node-express-ejs-mongoose-\"\u003e\u003ca name=\"使用Node+Express+ejs+Mongoose搭建网站开发环境\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用Node+Express+ejs+Mongoose搭建网站开发环境\u003c/h1\u003e\u003cp\u003e以前大部分网站开发都是使用PHP、Python、Java等结合对应的框架做为网站开发环境，近几年随着NodeJS的流行，出现了许多的基于NodeJS的框架、工具等作为网站开发的环境来开发网站本编文章将介绍使用NodeJS+Express+ejs搭建网站开发环境，以前使用swig作为网站模板来开发，但是由于swig停止维护，所以在此使用ejs来作为网站模板来开发。\u003c/p\u003e\n\u003ch3 id=\"h3-express\"\u003e\u003ca name=\"Express\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eExpress\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eexpress是一个基于NodeJS的快速简单的web开发框架。\u003cbr\u003e连接：\u003ca target=\"_blank\" href=\"http://www.expressjs.com.cn/\" title=\"http://www.expressjs.com.cn/\"\u003ehttp://www.expressjs.com.cn/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-ejs\"\u003e\u003ca name=\"Ejs\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eEjs\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eEJS是一种简单、有效、可嵌入html中的模板语言，它允许您使用简单的JavaScript生成HTML标记。\u003cbr\u003e 连接：\u003ca target=\"_blank\" href=\"https://www.ejs.co/\" title=\"https://www.ejs.co/\"\u003ehttps://www.ejs.co/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-mongoose\"\u003e\u003ca name=\"Mongoose\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eMongoose\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eMongoose是一个在NodeJS下优雅的mongodb对象建模工具，使用它可以快速、方便的开发基于MongoDB数据库的应用。\u003cbr\u003e连接：\u003ca target=\"_blank\" href=\"https://mongoosejs.com/\" title=\"https://mongoosejs.com/\"\u003ehttps://mongoosejs.com/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u5B89u88C5u76F8u5E94u7684u5DE5u5177u5305\"\u003e\u003ca name=\"安装相应的工具包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装相应的工具包\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e创建项目目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapplication                        \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapplication\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eviews            \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目静态模板目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapplication\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003estatics            \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目静态资源目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapplication\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003emodels            \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目Mongoose数据库模型目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapplication\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eschemas            \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目Mongoose数据库结构目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapplication\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003erouters            \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目路由目录，所有访问都由此目录下的文件控制\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emkdir \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ep \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/web/\u003c/span\u003e\u003cspan class=\"pln\"\u003eproject\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapplication\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elogs                \u003c/span\u003e\u003cspan class=\"com\"\u003e# 项目日志目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e初始化项目，并创建package.json文件，设置项目版本、作者信息、启动命令等信息。\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm init\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e使用此命令将在项目目录下生成package.json文件，以后安装的工具信息都此文件中记录，下图中红框标出的是启动文件，如果不写默认index.js，在后面创建启动文件时要跟此处的名字相同。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190309/20190309111155_3dd96c1c227bf6976f056d3b87ec479d.png?w=1106\u0026amp;h=568\" title=\"QQ20190309-110818@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190309/20190309111155_3dd96c1c227bf6976f056d3b87ec479d.png?w=1106\u0026amp;h=568\" alt=\"QQ20190309-110818@2x.png\" title=\"QQ20190309-110818@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190309-110818@2x.png\"\u003eQQ20190309-110818@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e安装Express\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm i express\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装ejs\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm i ejs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装Mongoose\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm i mongodb\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm i mongoose\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u521Bu5EFAu5E76u914Du7F6Eu76F8u5E94u7684u5F00u53D1u73AFu5883u53CAu6587u4EF6\"\u003e\u003ca name=\"创建并配置相应的开发环境及文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e创建并配置相应的开发环境及文件\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e创建项目启动文件index.js\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e'use strict'\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e/*\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e * 项目入口\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e * 导入工具包，并设置相应的参数\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e */\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e os \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'os'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e fs \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'fs'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e path \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'path'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e express \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'express'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e ejs \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'ejs'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// 初始express上下文为app，以后所有的操作都使用app来执行。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e app \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e express\u003c/span\u003e\u003cspan class=\"pun\"\u003e()\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e//设置模板引擎\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eapp\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eengine\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'html'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e ejs\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003erenderFile\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e//  设置模板路径\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eapp\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003eset\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'views'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e path\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejoin\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003e__dirname\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/application/views'\u003c/span\u003e\u003cspan class=\"pun\"\u003e));\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// 注册模板\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eapp\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003eset\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'view engine'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'html'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// 不保存视图缓存\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eapp\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003eset\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'view cache'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efalse\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e//设置静态文件托管，访问时使用```域名:端口/static/```为基础。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eapp\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003euse\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'/static'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e express\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003estatic\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003epath\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejoin\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003e__dirname\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/application/statics'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)));\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// 定义路由\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eapp\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003euse\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003epath\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejoin\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003e__dirname\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'/application/routers/index'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)));\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// 此处监听3000端口，在新版本的node下如果要监听小于1000以下的端口需要root权限。\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eapp\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elisten\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e3000\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003emodule\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexports \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e app\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e到此一个简单的基于express+ejs的启动配置就好了。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e创建路由文件，并指定相应的模板文件\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在\u003ccode\u003e~/web/project/application/routers\u003c/code\u003e，创建index.js\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e'use strict'\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e os \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'os'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e fs \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'fs'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e path \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'path'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e express \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'express'\u003c/span\u003e\u003cspan class=\"pun\"\u003e);\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e router \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e express\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"typ\"\u003eRouter\u003c/span\u003e\u003cspan class=\"pun\"\u003e()\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003erouter\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"kwd\"\u003eget\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'/'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ereq\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e res\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enext\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    res\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003erender\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'../views/index'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        title\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'index'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        text\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'Hello Express And EJS .'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e});\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e});\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003emodule\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexports \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e router\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建模板文件\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在\u003ccode\u003e~/web/project/application/views\u003c/code\u003e，创建index.html\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e\u0026lt;html\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"str\"\u003e\u0026lt;head\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"str\"\u003e\u0026lt;title\u0026gt;\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026lt;%=\u003c/span\u003e\u003cspan class=\"pln\"\u003e title \u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\"pln\"\u003etitle\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehead\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"str\"\u003e\u0026lt;body\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026lt;%=\u003c/span\u003e\u003cspan class=\"pln\"\u003e text \u003c/span\u003e\u003cspan class=\"pun\"\u003e%\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebody\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehtml\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e启动并浏览\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode index\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--localhost-3000-\"\u003e\u003ca name=\"在浏览器中输入localhost:3000查看\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在浏览器中输入localhost:3000查看\u003c/h6\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190309/20190309114348_d8cf180f56792c7dca07a92992027789.png?w=2438\u0026amp;h=256\" title=\"QQ20190309-114211@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190309/20190309114348_d8cf180f56792c7dca07a92992027789.png?w=2438\u0026amp;h=256\" alt=\"QQ20190309-114211@2x.png\" title=\"QQ20190309-114211@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190309-114211@2x.png\"\u003eQQ20190309-114211@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n","markDown":"# 使用Node+Express+ejs+Mongoose搭建网站开发环境\n\n以前大部分网站开发都是使用PHP、Python、Java等结合对应的框架做为网站开发环境，近几年随着NodeJS的流行，出现了许多的基于NodeJS的框架、工具等作为网站开发的环境来开发网站本编文章将介绍使用NodeJS+Express+ejs搭建网站开发环境，以前使用swig作为网站模板来开发，但是由于swig停止维护，所以在此使用ejs来作为网站模板来开发。\n\n### Express\n\n\u003e express是一个基于NodeJS的快速简单的web开发框架。\n\u003e 连接：[http://www.expressjs.com.cn/](http://www.expressjs.com.cn/ 'http://www.expressjs.com.cn/')\n\n### Ejs\n\n\u003e EJS是一种简单、有效、可嵌入html中的模板语言，它允许您使用简单的JavaScript生成HTML标记。\n\u003e  连接：[https://www.ejs.co/](https://www.ejs.co/ 'https://www.ejs.co/')\n\n### Mongoose\n\n\u003e Mongoose是一个在NodeJS下优雅的mongodb对象建模工具，使用它可以快速、方便的开发基于MongoDB数据库的应用。\n\u003e 连接：[https://mongoosejs.com/](https://mongoosejs.com/ 'https://mongoosejs.com/')\n\n### 安装相应的工具包\n\n* 创建项目目录\n\n```\nmkdir -p ~/web/project\nmkdir -p ~/web/project/application\u0009\u0009\u0009\u0009\u0009\u0009# 项目目录\nmkdir -p ~/web/project/application/views\u0009\u0009\u0009# 项目静态模板目录\nmkdir -p ~/web/project/application/statics\u0009\u0009\u0009# 项目静态资源目录\nmkdir -p ~/web/project/application/models\u0009\u0009\u0009# 项目Mongoose数据库模型目录\nmkdir -p ~/web/project/application/schemas\u0009\u0009\u0009# 项目Mongoose数据库结构目录\nmkdir -p ~/web/project/application/routers\u0009\u0009\u0009# 项目路由目录，所有访问都由此目录下的文件控制\nmkdir -p ~/web/project/application/logs\u0009\u0009\u0009\u0009# 项目日志目录\n```\n\n* 初始化项目，并创建package.json文件，设置项目版本、作者信息、启动命令等信息。\n\n```\nnpm init\n```\n\n\u003e 使用此命令将在项目目录下生成package.json文件，以后安装的工具信息都此文件中记录，下图中红框标出的是启动文件，如果不写默认index.js，在后面创建启动文件时要跟此处的名字相同。\n\n[![QQ20190309-110818@2x.png](/static/images/uploads/20190309/20190309111155_3dd96c1c227bf6976f056d3b87ec479d.png?w=1106\u0026h=568 \"QQ20190309-110818@2x.png\")](/static/images/uploads/20190309/20190309111155_3dd96c1c227bf6976f056d3b87ec479d.png?w=1106\u0026h=568 \"QQ20190309-110818@2x.png\")\n\n* 安装Express\n\n```\nnpm i express\n```\n\n* 安装ejs\n\n```\nnpm i ejs\n```\n\n* 安装Mongoose\n\n```\nnpm i mongodb\nnpm i mongoose\n```\n\n### 创建并配置相应的开发环境及文件\n\n* 创建项目启动文件index.js\n\n```\nvim index.js\n\n'use strict';\n\n/*\n * 项目入口\n * 导入工具包，并设置相应的参数\n */\n \nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst express = require('express');\nconst ejs = require('ejs');\n// 初始express上下文为app，以后所有的操作都使用app来执行。\nconst app = express()\n\n//设置模板引擎\napp.engine('html', ejs.renderFile);\n//  设置模板路径\napp.set('views', path.join(__dirname, '/application/views'));\n// 注册模板\napp.set('view engine', 'html');\n// 不保存视图缓存\napp.set('view cache', false);\n\n//设置静态文件托管，访问时使用```域名:端口/static/```为基础。\napp.use('/static', express.static(path.join(__dirname, '/application/statics')));\n// 定义路由\napp.use('/', require(path.join(__dirname, '/application/routers/index')));\n// 此处监听3000端口，在新版本的node下如果要监听小于1000以下的端口需要root权限。\napp.listen(3000)\nmodule.exports = app;\n\n```\n\n\u003e 到此一个简单的基于express+ejs的启动配置就好了。\n\n* 创建路由文件，并指定相应的模板文件\n\n\u003e 在```~/web/project/application/routers```，创建index.js\n\n```\nvim index.js\n\n'use strict';\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst express = require('express');\nconst router = express.Router()\n\nrouter.get('/', (req, res, next) =\u003e {\n\u0009res.render('../views/index', {\n\u0009\u0009title: 'index',\n\u0009\u0009text: 'Hello Express And EJS .'\n\u0009});\n});\n\nmodule.exports = router;\n```\n\n* 创建模板文件\n\n\u003e 在```~/web/project/application/views```，创建index.html\n\n```\nvim index.html\n\n\u003chtml\u003e\n\u0009\u003chead\u003e\n\u0009\u0009\u003ctitle\u003e\u003c%= title %\u003e\u003c/title\u003e\n\u0009\u003c/head\u003e\n\u0009\u003cbody\u003e\n\u0009\u0009\u003c%= text %\u003e\n\u0009\u003c/body\u003e\n\u003c/html\u003e\n```\n\n* 启动并浏览\n\n```\nnode index.js\n```\n\n###### 在浏览器中输入localhost:3000查看\n\n[![QQ20190309-114211@2x.png](/static/images/uploads/20190309/20190309114348_d8cf180f56792c7dca07a92992027789.png?w=2438\u0026h=256 \"QQ20190309-114211@2x.png\")](/static/images/uploads/20190309/20190309114348_d8cf180f56792c7dca07a92992027789.png?w=2438\u0026h=256 \"QQ20190309-114211@2x.png\")","html":"\u003ch1 id=\"h1--node-express-ejs-mongoose-\"\u003e\u003ca name=\"使用Node+Express+ejs+Mongoose搭建网站开发环境\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用Node+Express+ejs+Mongoose搭建网站开发环境\u003c/h1\u003e\u003cp\u003e以前大部分网站开发都是使用PHP、Python、Java等结合对应的框架做为网站开发环境，近几年随着NodeJS的流行，出现了许多的基于NodeJS的框架、工具等作为网站开发的环境来开发网站本编文章将介绍使用NodeJS+Express+ejs搭建网站开发环境，以前使用swig作为网站模板来开发，但是由于swig停止维护，所以在此使用ejs来作为网站模板来开发。\u003c/p\u003e\n\u003ch3 id=\"h3-express\"\u003e\u003ca name=\"Express\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eExpress\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eexpress是一个基于NodeJS的快速简单的web开发框架。\u003cbr\u003e连接：\u003ca target=\"_blank\" href=\"http://www.expressjs.com.cn/\" title=\"http://www.expressjs.com.cn/\"\u003ehttp://www.expressjs.com.cn/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-ejs\"\u003e\u003ca name=\"Ejs\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eEjs\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eEJS是一种简单、有效、可嵌入html中的模板语言，它允许您使用简单的JavaScript生成HTML标记。\u003cbr\u003e 连接：\u003ca target=\"_blank\" href=\"https://www.ejs.co/\" title=\"https://www.ejs.co/\"\u003ehttps://www.ejs.co/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-mongoose\"\u003e\u003ca name=\"Mongoose\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eMongoose\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003eMongoose是一个在NodeJS下优雅的mongodb对象建模工具，使用它可以快速、方便的开发基于MongoDB数据库的应用。\u003cbr\u003e连接：\u003ca target=\"_blank\" href=\"https://mongoosejs.com/\" title=\"https://mongoosejs.com/\"\u003ehttps://mongoosejs.com/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u5B89u88C5u76F8u5E94u7684u5DE5u5177u5305\"\u003e\u003ca name=\"安装相应的工具包\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装相应的工具包\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e创建项目目录\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003emkdir -p ~/web/project\nmkdir -p ~/web/project/application                        # 项目目录\nmkdir -p ~/web/project/application/views            # 项目静态模板目录\nmkdir -p ~/web/project/application/statics            # 项目静态资源目录\nmkdir -p ~/web/project/application/models            # 项目Mongoose数据库模型目录\nmkdir -p ~/web/project/application/schemas            # 项目Mongoose数据库结构目录\nmkdir -p ~/web/project/application/routers            # 项目路由目录，所有访问都由此目录下的文件控制\nmkdir -p ~/web/project/application/logs                # 项目日志目录\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e初始化项目，并创建package.json文件，设置项目版本、作者信息、启动命令等信息。\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enpm init\n\u003c/code\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e使用此命令将在项目目录下生成package.json文件，以后安装的工具信息都此文件中记录，下图中红框标出的是启动文件，如果不写默认index.js，在后面创建启动文件时要跟此处的名字相同。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190309/20190309111155_3dd96c1c227bf6976f056d3b87ec479d.png?w=1106\u0026amp;h=568\" title=\"QQ20190309-110818\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190309/20190309111155_3dd96c1c227bf6976f056d3b87ec479d.png?w=1106\u0026amp;h=568\" alt=\"QQ20190309-110818\u0026#64;2x.png\" title=\"QQ20190309-110818\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190309-110818\u0026#64;2x.png\"\u003eQQ20190309-110818\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e安装Express\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enpm i express\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装ejs\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enpm i ejs\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装Mongoose\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enpm i mongodb\nnpm i mongoose\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3-u521Bu5EFAu5E76u914Du7F6Eu76F8u5E94u7684u5F00u53D1u73AFu5883u53CAu6587u4EF6\"\u003e\u003ca name=\"创建并配置相应的开发环境及文件\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e创建并配置相应的开发环境及文件\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e创建项目启动文件index.js\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003evim index.js\n\n\u0026#39;use strict\u0026#39;;\n\n/*\n * 项目入口\n * 导入工具包，并设置相应的参数\n */\n\nconst os = require(\u0026#39;os\u0026#39;);\nconst fs = require(\u0026#39;fs\u0026#39;);\nconst path = require(\u0026#39;path\u0026#39;);\nconst express = require(\u0026#39;express\u0026#39;);\nconst ejs = require(\u0026#39;ejs\u0026#39;);\n// 初始express上下文为app，以后所有的操作都使用app来执行。\nconst app = express()\n\n//设置模板引擎\napp.engine(\u0026#39;html\u0026#39;, ejs.renderFile);\n//  设置模板路径\napp.set(\u0026#39;views\u0026#39;, path.join(__dirname, \u0026#39;/application/views\u0026#39;));\n// 注册模板\napp.set(\u0026#39;view engine\u0026#39;, \u0026#39;html\u0026#39;);\n// 不保存视图缓存\napp.set(\u0026#39;view cache\u0026#39;, false);\n\n//设置静态文件托管，访问时使用```域名:端口/static/```为基础。\napp.use(\u0026#39;/static\u0026#39;, express.static(path.join(__dirname, \u0026#39;/application/statics\u0026#39;)));\n// 定义路由\napp.use(\u0026#39;/\u0026#39;, require(path.join(__dirname, \u0026#39;/application/routers/index\u0026#39;)));\n// 此处监听3000端口，在新版本的node下如果要监听小于1000以下的端口需要root权限。\napp.listen(3000)\nmodule.exports = app;\n\u003c/code\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e到此一个简单的基于express+ejs的启动配置就好了。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e创建路由文件，并指定相应的模板文件\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在\u003ccode\u003e~/web/project/application/routers\u003c/code\u003e，创建index.js\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003evim index.js\n\n\u0026#39;use strict\u0026#39;;\n\nconst os = require(\u0026#39;os\u0026#39;);\nconst fs = require(\u0026#39;fs\u0026#39;);\nconst path = require(\u0026#39;path\u0026#39;);\nconst express = require(\u0026#39;express\u0026#39;);\nconst router = express.Router()\n\nrouter.get(\u0026#39;/\u0026#39;, (req, res, next) =\u0026gt; {\n    res.render(\u0026#39;../views/index\u0026#39;, {\n        title: \u0026#39;index\u0026#39;,\n        text: \u0026#39;Hello Express And EJS .\u0026#39;\n    });\n});\n\nmodule.exports = router;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e创建模板文件\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在\u003ccode\u003e~/web/project/application/views\u003c/code\u003e，创建index.html\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003evim index.html\n\n\u0026lt;html\u0026gt;\n    \u0026lt;head\u0026gt;\n        \u0026lt;title\u0026gt;\u0026lt;%= title %\u0026gt;\u0026lt;/title\u0026gt;\n    \u0026lt;/head\u0026gt;\n    \u0026lt;body\u0026gt;\n        \u0026lt;%= text %\u0026gt;\n    \u0026lt;/body\u0026gt;\n\u0026lt;/html\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e启动并浏览\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enode index.js\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--localhost-3000-\"\u003e\u003ca name=\"在浏览器中输入localhost:3000查看\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在浏览器中输入localhost:3000查看\u003c/h6\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190309/20190309114348_d8cf180f56792c7dca07a92992027789.png?w=2438\u0026amp;h=256\" title=\"QQ20190309-114211\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190309/20190309114348_d8cf180f56792c7dca07a92992027789.png?w=2438\u0026amp;h=256\" alt=\"QQ20190309-114211\u0026#64;2x.png\" title=\"QQ20190309-114211\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190309-114211\u0026#64;2x.png\"\u003eQQ20190309-114211\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3cc64d70830e13d1bf35b9"},"heart":4,"follow":0,"collect":0,"share":0,"comment":1,"read":0,"KeyWords":17706,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-09T02:47:39.940Z"},"updateTime":{"$date":"2019-03-09T05:25:26.812Z"},"__v":5}
{"_id":{"$oid":"5c8541d5e9272a193281e9ea"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c6578a44c1a6008d89009bc","title":"SyntaxError: Non-ASCII character '\\xe5' in file file_learn.py on line 3, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details","content":"\u003ch1 id=\"h1-syntaxerror-non-ascii-character-xe5-in-file-file_learn-py-on-line-3-but-no-encoding-declared-see-a-target-_blank-href-http-python-org-dev-peps-pep-0263-http-python-org-dev-peps-pep-0263-a-for-details\"\u003e\u003ca name=\"SyntaxError: Non-ASCII character ‘\\xe5’ in file file_learn.py on line 3, but no encoding declared; see \u003ca target=\" _blank\"=\"\" href=\"http://python.org/dev/peps/pep-0263/\"\u003ehttp://python.org/dev/peps/pep-0263/\u003c/a\u003e for details\" class=\"reference-link\"\u0026gt;\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eSyntaxError: Non-ASCII character ‘\\xe5’ in file file_learn.py on line 3, but no encoding declared; see \u003ca target=\"_blank\" href=\"http://python.org/dev/peps/pep-0263/\"\u003ehttp://python.org/dev/peps/pep-0263/\u003c/a\u003e for details\u003c/h1\u003e\u003ch4 id=\"h4--code-python-code-\"\u003e\u003ca name=\"在\u003ccode\u003ePython\u003c/code\u003e开发时如果字符串都是英文执行时没什么总是，但是当有中文时执行就会报错。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003ePython\u003c/code\u003e开发时如果字符串都是英文执行时没什么总是，但是当有中文时执行就会报错。\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eprint\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'您好，世界！'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"执行输出：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行输出：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ebluelifes\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eMacBook\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003ePro\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003epython bluelifeleer$ python file_learn\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epy \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"typ\"\u003eFile\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"file_learn.py\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e line \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eSyntaxError\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eNon\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eASCII character \u003c/span\u003e\u003cspan class=\"str\"\u003e'\\xe5'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pln\"\u003e file file_learn\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003epy on line \u003c/span\u003e\u003cspan class=\"lit\"\u003e3\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e but \u003c/span\u003e\u003cspan class=\"kwd\"\u003eno\u003c/span\u003e\u003cspan class=\"pln\"\u003e encoding declared\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e see http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//python.org/dev/peps/pep-0263/ for details\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-python-ascii-code-coding-utf-8-code-code-coding-utf-8-code-\"\u003e\u003ca name=\"Python中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。解决方法就是指定文件编码方式\u003ccode\u003e#coding=utf-8\u003c/code\u003e或\u003ccode\u003e#-*- coding: UTF-8-*-\u003c/code\u003e，如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ePython中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。解决方法就是指定文件编码方式\u003ccode\u003e#coding=utf-8\u003c/code\u003e或\u003ccode\u003e#-*- coding: UTF-8-*-\u003c/code\u003e，如下：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#coding=utf-8    # 等号两边没有空格\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003eprint\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'您好，世界！'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"此时再执行就正常输出不会再报错。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e此时再执行就正常输出不会再报错。\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e最好的方式就是任何时候都指定编码方式，如果使用编辑器，编辑器的编码方式设置为utf-8模式，文件中有中文不指定编码方式也不会报错。\u003c/p\u003e\n\u003c/blockquote\u003e\n","markDown":"# SyntaxError: Non-ASCII character '\\xe5' in file file_learn.py on line 3, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\n\n#### 在```Python```开发时如果字符串都是英文执行时没什么总是，但是当有中文时执行就会报错。\n\n```\nprint('您好，世界！')\n```\n\n#### 执行输出：\n\n```\nbluelifes-MacBook-Pro:python bluelifeleer$ python file_learn.py \n  File \"file_learn.py\", line 3\nSyntaxError: Non-ASCII character '\\xe5' in file file_learn.py on line 3, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\n```\n\n#### Python中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。解决方法就是指定文件编码方式```#coding=utf-8```或```#-*- coding: UTF-8-*-```，如下：\n\n```\n#coding=utf-8\u0009# 等号两边没有空格\n\nprint('您好，世界！')\n```\n\n#### 此时再执行就正常输出不会再报错。\n\n\u003e 最好的方式就是任何时候都指定编码方式，如果使用编辑器，编辑器的编码方式设置为utf-8模式，文件中有中文不指定编码方式也不会报错。","html":"\u003ch1 id=\"h1-syntaxerror-non-ascii-character-xe5-in-file-file_learn-py-on-line-3-but-no-encoding-declared-see-a-target-_blank-href-http-python-org-dev-peps-pep-0263-http-python-org-dev-peps-pep-0263-a-for-details\"\u003e\u003ca name=\"SyntaxError: Non-ASCII character ‘\\xe5’ in file file_learn.py on line 3, but no encoding declared; see \u003ca target=\"_blank\" href=\"http://python.org/dev/peps/pep-0263/\"\u003ehttp://python.org/dev/peps/pep-0263/\u003c/a\u003e for details\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eSyntaxError: Non-ASCII character ‘\\xe5’ in file file_learn.py on line 3, but no encoding declared; see \u003ca target=\"_blank\" href=\"http://python.org/dev/peps/pep-0263/\"\u003ehttp://python.org/dev/peps/pep-0263/\u003c/a\u003e for details\u003c/h1\u003e\u003ch4 id=\"h4--code-python-code-\"\u003e\u003ca name=\"在\u003ccode\u003ePython\u003c/code\u003e开发时如果字符串都是英文执行时没什么总是，但是当有中文时执行就会报错。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e在\u003ccode\u003ePython\u003c/code\u003e开发时如果字符串都是英文执行时没什么总是，但是当有中文时执行就会报错。\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003eprint(\u0026#39;您好，世界！\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"执行输出：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e执行输出：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003ebluelifes-MacBook-Pro:python bluelifeleer$ python file_learn.py \n  File \u0026quot;file_learn.py\u0026quot;, line 3\nSyntaxError: Non-ASCII character \u0026#39;\\xe5\u0026#39; in file file_learn.py on line 3, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-python-ascii-code-coding-utf-8-code-code-coding-utf-8-code-\"\u003e\u003ca name=\"Python中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。解决方法就是指定文件编码方式\u003ccode\u003e#coding=utf-8\u003c/code\u003e或\u003ccode\u003e#-*- coding: UTF-8-*-\u003c/code\u003e，如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ePython中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。解决方法就是指定文件编码方式\u003ccode\u003e#coding=utf-8\u003c/code\u003e或\u003ccode\u003e#-*- coding: UTF-8-*-\u003c/code\u003e，如下：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003e#coding=utf-8    # 等号两边没有空格\n\nprint(\u0026#39;您好，世界！\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"此时再执行就正常输出不会再报错。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e此时再执行就正常输出不会再报错。\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e最好的方式就是任何时候都指定编码方式，如果使用编辑器，编辑器的编码方式设置为utf-8模式，文件中有中文不指定编码方式也不会报错。\u003c/p\u003e\n\u003c/blockquote\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c6578a44c1a6008d89009bc"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":3737,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-10T16:56:53.656Z"},"updateTime":{"$date":"2019-03-10T17:09:23.182Z"},"__v":0}
{"_id":{"$oid":"5c87c77e0c45771543db27d7"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3cc64d70830e13d1bf35b9","title":"安装Node使用的canvas","content":"\u003ch1 id=\"h1--node-node-canvas\"\u003e\u003ca name=\"安装Node使用的node-canvas\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装Node使用的node-canvas\u003c/h1\u003e\u003cblockquote\u003e\n\u003cp\u003enode-canvas是一个在node.js服务端口生成、操作canvas的接口API。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u5B89u88C5\"\u003e\u003ca name=\"安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003e安装依赖\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003eMac\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ebrew install pkg\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econfig cairo pango libpng jpeg giflib librsvg\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003eUbuntu\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo apt\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"kwd\"\u003eget\u003c/span\u003e\u003cspan class=\"pln\"\u003e install build\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eessential libcairo2\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edev libpango1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edev libjpeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edev libgif\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edev librsvg2\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edev\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003eFedora\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo yum install gcc\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ec\u003c/span\u003e\u003cspan class=\"pun\"\u003e++\u003c/span\u003e\u003cspan class=\"pln\"\u003e cairo\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel pango\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel libjpeg\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eturbo\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel giflib\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edevel\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003eWindow下安装请参考：\u003ca target=\"_blank\" href=\"https://github.com/Automattic/node-canvas/wiki/Installation:-Windows\" title=\"https://github.com/Automattic/node-canvas/wiki/Installation:-Windows\"\u003ehttps://github.com/Automattic/node-canvas/wiki/Installation:-Windows\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e安装node-canvas\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm i canvas\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e\u003ca target=\"_blank\" href=\"https://www.npmjs.com/package/canvas\" title=\"https://www.npmjs.com/package/canvas\"\u003e文档：https://www.npmjs.com/package/canvas\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u53EFu80FDu9047u5230u7684u95EEu9898\"\u003e\u003ca name=\"可能遇到的问题\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可能遇到的问题\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e npm i canvas\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas@2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e3.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e install \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode_modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecanvas\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp install \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003efallback\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eto\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuild\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp WARN \u003c/span\u003e\u003cspan class=\"typ\"\u003eUsing\u003c/span\u003e\u003cspan class=\"pln\"\u003e request \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp https download \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp WARN \u003c/span\u003e\u003cspan class=\"typ\"\u003ePre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuilt binaries \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e installable \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas@2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e3.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eand\u003c/span\u003e\u003cspan class=\"pln\"\u003e node@10\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e15.2\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev64 ABI\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e glibc\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003efalling back to source compile \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp WARN \u003c/span\u003e\u003cspan class=\"typ\"\u003eHit\u003c/span\u003e\u003cspan class=\"pln\"\u003e error EACCES\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e permission denied\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkdir \u003c/span\u003e\u003cspan class=\"str\"\u003e'/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp WARN EACCES user \u003c/span\u003e\u003cspan class=\"str\"\u003e\"root\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e does \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e have permission to access the dev dir \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/root/.node-gyp/10.15.2\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp WARN EACCES attempting to reinstall \u003c/span\u003e\u003cspan class=\"kwd\"\u003eusing\u003c/span\u003e\u003cspan class=\"pln\"\u003e temporary dev dir \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/.node-gyp\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp WARN install got an error\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e rolling back install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp WARN install got an error\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e rolling back install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e configure error \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e stack \u003c/span\u003e\u003cspan class=\"typ\"\u003eError\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e EACCES\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e permission denied\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e mkdir \u003c/span\u003e\u003cspan class=\"str\"\u003e'/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/.node-gyp'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSystem\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eLinux\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e3.10\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e957.5\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.el7.x86\u003c/span\u003e\u003cspan class=\"pln\"\u003e_64\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e command \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/usr/local/node/bin/node\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"configure\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--fallback-to-build\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--module_name=canvas\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--napi_version=3\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--node_abi_napi=napi\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--napi_build_version=0\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--node_napi_label=node-v64\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e cwd \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode_modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecanvas\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e node \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev v10\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e15.2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev v3\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e8.0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e ok \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e build error \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e stack \u003c/span\u003e\u003cspan class=\"typ\"\u003eError\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eFailed\u003c/span\u003e\u003cspan class=\"pln\"\u003e to execute \u003c/span\u003e\u003cspan class=\"str\"\u003e'/usr/local/node/bin/node /usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e stack     at \u003c/span\u003e\u003cspan class=\"typ\"\u003eChildProcess\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u0026lt;\u003c/span\u003e\u003cspan class=\"pln\"\u003eanonymous\u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e/home/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode_modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elib\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eutil\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecompile\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejs\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e83\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e29\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e stack     at \u003c/span\u003e\u003cspan class=\"typ\"\u003eChildProcess\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eemit \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eevents\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejs\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e189\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e13\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e stack     at maybeClose \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"kwd\"\u003einternal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003echild_process\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejs\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e970\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e16\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e stack     at \u003c/span\u003e\u003cspan class=\"typ\"\u003eProcess\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"typ\"\u003eChildProcess\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e_handle\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eonexit \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"kwd\"\u003einternal\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003echild_process\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ejs\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e259\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e5\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSystem\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eLinux\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e3.10\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e957.5\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e1.el7.x86\u003c/span\u003e\u003cspan class=\"pln\"\u003e_64\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e command \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/usr/local/node/bin/node\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/home/wwwroot/node/blog.mcloudhub.com/node_modules/.bin/node-pre-gyp\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"install\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"--fallback-to-build\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e cwd \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode_modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecanvas\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e node \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev v10\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e15.2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev v0\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e11.0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e ok \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"typ\"\u003eFailed\u003c/span\u003e\u003cspan class=\"pln\"\u003e to execute \u003c/span\u003e\u003cspan class=\"str\"\u003e'/usr/local/node/bin/node /usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm WARN optional SKIPPING OPTIONAL DEPENDENCY\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e fsevents@1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.7\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003enode_modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003efsevents\u003c/span\u003e\u003cspan class=\"pun\"\u003e):\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm WARN notsup SKIPPING OPTIONAL DEPENDENCY\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eUnsupported\u003c/span\u003e\u003cspan class=\"pln\"\u003e platform \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e fsevents@1\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e2.7\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e wanted \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003cspan class=\"str\"\u003e\"os\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e\"darwin\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"str\"\u003e\"arch\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e\"any\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003cspan class=\"str\"\u003e\"os\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e\"linux\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"str\"\u003e\"arch\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"str\"\u003e\"x64\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e})\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e code ELIFECYCLE\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e errno \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas@2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e3.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e install\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e`node-pre-gyp install --fallback-to-build`\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eExit\u003c/span\u003e\u003cspan class=\"pln\"\u003e status \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eFailed\u003c/span\u003e\u003cspan class=\"pln\"\u003e at the canvas@2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e3.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e install script\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eThis\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e probably \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e a problem \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pln\"\u003e npm\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eThere\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eis\u003c/span\u003e\u003cspan class=\"pln\"\u003e likely additional logging output above\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e A complete log of \u003c/span\u003e\u003cspan class=\"kwd\"\u003ethis\u003c/span\u003e\u003cspan class=\"pln\"\u003e run can be found \u003c/span\u003e\u003cspan class=\"kwd\"\u003ein\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm ERR\u003c/span\u003e\u003cspan class=\"pun\"\u003e!\u003c/span\u003e\u003cspan class=\"pln\"\u003e     \u003c/span\u003e\u003cspan class=\"str\"\u003e/root/\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003enpm\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003e_logs\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e2019\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e03\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e12T14\u003c/span\u003e\u003cspan class=\"pln\"\u003e_49_42_027Z\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edebug\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--code-sudo-code-\"\u003e\u003ca name=\"由上可以看出是权限问题，使用\u003ccode\u003esudo\u003c/code\u003e提升权限，再次安装就可成功。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e由上可以看出是权限问题，使用\u003ccode\u003esudo\u003c/code\u003e提升权限，再次安装就可成功。\u003c/h5\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003eroot@localhost blog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e]#\u003c/span\u003e\u003cspan class=\"pln\"\u003e sudo npm i canvas\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas@2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e3.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e install \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode_modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecanvas\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp install \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003efallback\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eto\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuild\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp WARN \u003c/span\u003e\u003cspan class=\"typ\"\u003eUsing\u003c/span\u003e\u003cspan class=\"pln\"\u003e request \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp https download \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp WARN \u003c/span\u003e\u003cspan class=\"typ\"\u003ePre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuilt binaries \u003c/span\u003e\u003cspan class=\"kwd\"\u003enot\u003c/span\u003e\u003cspan class=\"pln\"\u003e installable \u003c/span\u003e\u003cspan class=\"kwd\"\u003efor\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas@2\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e3.1\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003eand\u003c/span\u003e\u003cspan class=\"pln\"\u003e node@10\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"lit\"\u003e15.2\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ev64 ABI\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e glibc\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003efalling back to source compile \u003c/span\u003e\u003cspan class=\"kwd\"\u003ewith\u003c/span\u003e\u003cspan class=\"pln\"\u003e node\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epre\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003egyp WARN \u003c/span\u003e\u003cspan class=\"typ\"\u003eHit\u003c/span\u003e\u003cspan class=\"pln\"\u003e error read ECONNRESET \u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emake\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eEntering\u003c/span\u003e\u003cspan class=\"pln\"\u003e directory \u003c/span\u003e\u003cspan class=\"str\"\u003e`/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  SOLINK_MODULE(target) Release/obj.target/canvas-postbuild.node\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  COPY Release/canvas-postbuild.node\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/backend/Backend.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/backend/ImageBackend.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/backend/PdfBackend.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/backend/SvgBackend.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/bmp/BMPParser.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/Backends.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/Canvas.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/CanvasGradient.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/CanvasPattern.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/CanvasRenderingContext2d.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/closure.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/color.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/Image.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/ImageData.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/init.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  CXX(target) Release/obj.target/canvas/src/register_font.o\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  SOLINK_MODULE(target) Release/obj.target/canvas.node\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  COPY Release/canvas.node\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003emake: Leaving directory `\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ehome\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ewwwroot\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eblog\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enode_modules\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuild\u003c/span\u003e\u003cspan class=\"str\"\u003e'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003enpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents):\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003enpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e+ canvas@2.3.1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003eadded 29 packages from 22 contributors and audited 8025 packages in 335.826s\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003efound 2 low severity vulnerabilities\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e  run `npm audit fix` to fix them, or `npm audit` for details\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"至此安装成功。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e至此安装成功。\u003c/h6\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"注意：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注意：\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在Mac系统下有可能即使使用\u003ccode\u003esudo npm install canvas\u003c/code\u003e也一直报错：没有在项目目录下\u003ccode\u003enode_modules\u003c/code\u003e目录下创建canvas目录的权限，此时可以添加\u003ccode\u003e--unsafe-perm\u003c/code\u003e参数解决。\u003c/p\u003e\n\u003cp\u003e经查看npm命令帮助发现\u003ccode\u003e--unsafe-perm\u003c/code\u003e参数的功能是：在运行包脚本时禁止UID/GID切换，就是禁止用户角色的切换。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u4F7Fu7528\"\u003e\u003ca name=\"使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用\u003c/h3\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e'use strict'\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003cspan class=\"pln\"\u003e createCanvas\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e loadImage \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003erequire\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'canvas'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e createCanvas\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e200\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e200\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003econst\u003c/span\u003e\u003cspan class=\"pln\"\u003e ctx \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003egetContext\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'2d'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// Write \"Awesome!\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003efont \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'30px Impact'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003erotate\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e0.1\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003efillText\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'Awesome!'\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e50\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// Draw line under text\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"kwd\"\u003evar\u003c/span\u003e\u003cspan class=\"pln\"\u003e text \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e ctx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emeasureText\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'Awesome!'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003estrokeStyle \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'rgba(0,0,0,0.5)'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ebeginPath\u003c/span\u003e\u003cspan class=\"pun\"\u003e()\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elineTo\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e50\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e102\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elineTo\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e50\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e text\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ewidth\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e102\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ectx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003estroke\u003c/span\u003e\u003cspan class=\"pun\"\u003e()\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e// Draw cat with lime helmet\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eloadImage\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'examples/images/lime-cat.jpg'\u003c/span\u003e\u003cspan class=\"pun\"\u003e).\u003c/span\u003e\u003cspan class=\"kwd\"\u003ethen\u003c/span\u003e\u003cspan class=\"pun\"\u003e((\u003c/span\u003e\u003cspan class=\"pln\"\u003eimage\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  ctx\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003edrawImage\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003eimage\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e50\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e70\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e70\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  console\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"str\"\u003e'\u0026lt;img src=\"'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e canvas\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003etoDataURL\u003c/span\u003e\u003cspan class=\"pun\"\u003e()\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'\" /\u0026gt;'\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e})\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190313/20190313211217_915efa06dae247c8d0745525e5ff387d.png?w=940\u0026amp;h=320\" title=\"QQ20190313-021131@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190313/20190313211217_915efa06dae247c8d0745525e5ff387d.png?w=940\u0026amp;h=320\" alt=\"QQ20190313-021131@2x.png\" title=\"QQ20190313-021131@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190313-021131@2x.png\"\u003eQQ20190313-021131@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n","markDown":"# 安装Node使用的node-canvas\n\n\u003e node-canvas是一个在node.js服务端口生成、操作canvas的接口API。\n\n### 安装\n\n* 安装依赖\n\n* * Mac\n\n```\nbrew install pkg-config cairo pango libpng jpeg giflib librsvg\n```\n\n* * Ubuntu\n\n```\nsudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev\n```\n\n* * Fedora\n\n```\nsudo yum install gcc-c++ cairo-devel pango-devel libjpeg-turbo-devel giflib-devel\n```\n\n* * Window下安装请参考：[https://github.com/Automattic/node-canvas/wiki/Installation:-Windows](https://github.com/Automattic/node-canvas/wiki/Installation:-Windows 'https://github.com/Automattic/node-canvas/wiki/Installation:-Windows')\n* 安装node-canvas\n\n```\nnpm i canvas\n```\n\n\u003e [文档：https://www.npmjs.com/package/canvas](https://www.npmjs.com/package/canvas 'https://www.npmjs.com/package/canvas')\n\n### 可能遇到的问题\n\n```\n[root@localhost blog.mcloudhub.com]# npm i canvas\n\n\u003e canvas@2.3.1 install /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\n\u003e node-pre-gyp install --fallback-to-build\n\nnode-pre-gyp WARN Using request for node-pre-gyp https download \nnode-pre-gyp WARN Pre-built binaries not installable for canvas@2.3.1 and node@10.15.2 (node-v64 ABI, glibc) (falling back to source compile with node-gyp) \nnode-pre-gyp WARN Hit error EACCES: permission denied, mkdir '/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build' \ngyp WARN EACCES user \"root\" does not have permission to access the dev dir \"/root/.node-gyp/10.15.2\"\ngyp WARN EACCES attempting to reinstall using temporary dev dir \"/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/.node-gyp\"\ngyp WARN install got an error, rolling back install\ngyp WARN install got an error, rolling back install\ngyp ERR! configure error \ngyp ERR! stack Error: EACCES: permission denied, mkdir '/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/.node-gyp'\ngyp ERR! System Linux 3.10.0-957.5.1.el7.x86_64\ngyp ERR! command \"/usr/local/node/bin/node\" \"/usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"configure\" \"--fallback-to-build\" \"--module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node\" \"--module_name=canvas\" \"--module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release\" \"--napi_version=3\" \"--node_abi_napi=napi\" \"--napi_build_version=0\" \"--node_napi_label=node-v64\"\ngyp ERR! cwd /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\ngyp ERR! node -v v10.15.2\ngyp ERR! node-gyp -v v3.8.0\ngyp ERR! not ok \nnode-pre-gyp ERR! build error \nnode-pre-gyp ERR! stack Error: Failed to execute '/usr/local/node/bin/node /usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64' (1)\nnode-pre-gyp ERR! stack     at ChildProcess.\u003canonymous\u003e (/home/wwwroot/node/blog.mcloudhub.com/node_modules/node-pre-gyp/lib/util/compile.js:83:29)\nnode-pre-gyp ERR! stack     at ChildProcess.emit (events.js:189:13)\nnode-pre-gyp ERR! stack     at maybeClose (internal/child_process.js:970:16)\nnode-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)\nnode-pre-gyp ERR! System Linux 3.10.0-957.5.1.el7.x86_64\nnode-pre-gyp ERR! command \"/usr/local/node/bin/node\" \"/home/wwwroot/node/blog.mcloudhub.com/node_modules/.bin/node-pre-gyp\" \"install\" \"--fallback-to-build\"\nnode-pre-gyp ERR! cwd /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\nnode-pre-gyp ERR! node -v v10.15.2\nnode-pre-gyp ERR! node-pre-gyp -v v0.11.0\nnode-pre-gyp ERR! not ok \nFailed to execute '/usr/local/node/bin/node /usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64' (1)\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! canvas@2.3.1 install: `node-pre-gyp install --fallback-to-build`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the canvas@2.3.1 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2019-03-12T14_49_42_027Z-debug.log\n```\n\n##### 由上可以看出是权限问题，使用```sudo```提升权限，再次安装就可成功。\n\n```\n[root@localhost blog.mcloudhub.com]# sudo npm i canvas\n\n\u003e canvas@2.3.1 install /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\n\u003e node-pre-gyp install --fallback-to-build\n\nnode-pre-gyp WARN Using request for node-pre-gyp https download \nnode-pre-gyp WARN Pre-built binaries not installable for canvas@2.3.1 and node@10.15.2 (node-v64 ABI, glibc) (falling back to source compile with node-gyp) \nnode-pre-gyp WARN Hit error read ECONNRESET \nmake: Entering directory `/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build'\n  SOLINK_MODULE(target) Release/obj.target/canvas-postbuild.node\n  COPY Release/canvas-postbuild.node\n  CXX(target) Release/obj.target/canvas/src/backend/Backend.o\n  CXX(target) Release/obj.target/canvas/src/backend/ImageBackend.o\n  CXX(target) Release/obj.target/canvas/src/backend/PdfBackend.o\n  CXX(target) Release/obj.target/canvas/src/backend/SvgBackend.o\n  CXX(target) Release/obj.target/canvas/src/bmp/BMPParser.o\n  CXX(target) Release/obj.target/canvas/src/Backends.o\n  CXX(target) Release/obj.target/canvas/src/Canvas.o\n  CXX(target) Release/obj.target/canvas/src/CanvasGradient.o\n  CXX(target) Release/obj.target/canvas/src/CanvasPattern.o\n  CXX(target) Release/obj.target/canvas/src/CanvasRenderingContext2d.o\n  CXX(target) Release/obj.target/canvas/src/closure.o\n  CXX(target) Release/obj.target/canvas/src/color.o\n  CXX(target) Release/obj.target/canvas/src/Image.o\n  CXX(target) Release/obj.target/canvas/src/ImageData.o\n  CXX(target) Release/obj.target/canvas/src/init.o\n  CXX(target) Release/obj.target/canvas/src/register_font.o\n  SOLINK_MODULE(target) Release/obj.target/canvas.node\n  COPY Release/canvas.node\nmake: Leaving directory `/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build'\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\n+ canvas@2.3.1\nadded 29 packages from 22 contributors and audited 8025 packages in 335.826s\nfound 2 low severity vulnerabilities\n  run `npm audit fix` to fix them, or `npm audit` for details\n```\n\n###### 至此安装成功。\n\n### 注意：\n\n\u003e 在Mac系统下有可能即使使用```sudo npm install canvas```也一直报错：没有在项目目录下```node_modules```目录下创建canvas目录的权限，此时可以添加```--unsafe-perm```参数解决。\n\n\u003e 经查看npm命令帮助发现```--unsafe-perm```参数的功能是：在运行包脚本时禁止UID/GID切换，就是禁止用户角色的切换。\n\n### 使用\n\n```\n'use strict';\nconst { createCanvas, loadImage } = require('canvas')\nconst canvas = createCanvas(200, 200)\nconst ctx = canvas.getContext('2d')\n \n// Write \"Awesome!\"\nctx.font = '30px Impact'\nctx.rotate(0.1)\nctx.fillText('Awesome!', 50, 100)\n \n// Draw line under text\nvar text = ctx.measureText('Awesome!')\nctx.strokeStyle = 'rgba(0,0,0,0.5)'\nctx.beginPath()\nctx.lineTo(50, 102)\nctx.lineTo(50 + text.width, 102)\nctx.stroke()\n \n// Draw cat with lime helmet\nloadImage('examples/images/lime-cat.jpg').then((image) =\u003e {\n  ctx.drawImage(image, 50, 0, 70, 70)\n  console.log('\u003cimg src=\"' + canvas.toDataURL() + '\" /\u003e')\n})\n```\n\n[![QQ20190313-021131@2x.png](/static/images/uploads/20190313/20190313211217_915efa06dae247c8d0745525e5ff387d.png?w=940\u0026h=320 \"QQ20190313-021131@2x.png\")](/static/images/uploads/20190313/20190313211217_915efa06dae247c8d0745525e5ff387d.png?w=940\u0026h=320 \"QQ20190313-021131@2x.png\")","html":"\u003ch1 id=\"h1--node-node-canvas\"\u003e\u003ca name=\"安装Node使用的node-canvas\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装Node使用的node-canvas\u003c/h1\u003e\u003cblockquote\u003e\n\u003cp\u003enode-canvas是一个在node.js服务端口生成、操作canvas的接口API。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u5B89u88C5\"\u003e\u003ca name=\"安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e安装\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003e安装依赖\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003eMac\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ebrew install pkg-config cairo pango libpng jpeg giflib librsvg\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003eUbuntu\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003eFedora\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esudo yum install gcc-c++ cairo-devel pango-devel libjpeg-turbo-devel giflib-devel\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003eWindow下安装请参考：\u003ca target=\"_blank\" href=\"https://github.com/Automattic/node-canvas/wiki/Installation:-Windows\" title=\"https://github.com/Automattic/node-canvas/wiki/Installation:-Windows\"\u003ehttps://github.com/Automattic/node-canvas/wiki/Installation:-Windows\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e安装node-canvas\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003enpm i canvas\n\u003c/code\u003e\u003c/pre\u003e\u003cblockquote\u003e\n\u003cp\u003e\u003ca target=\"_blank\" href=\"https://www.npmjs.com/package/canvas\" title=\"https://www.npmjs.com/package/canvas\"\u003e文档：https://www.npmjs.com/package/canvas\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u53EFu80FDu9047u5230u7684u95EEu9898\"\u003e\u003ca name=\"可能遇到的问题\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可能遇到的问题\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost blog.mcloudhub.com]# npm i canvas\n\n\u0026gt; canvas@2.3.1 install /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\n\u0026gt; node-pre-gyp install --fallback-to-build\n\nnode-pre-gyp WARN Using request for node-pre-gyp https download \nnode-pre-gyp WARN Pre-built binaries not installable for canvas@2.3.1 and node@10.15.2 (node-v64 ABI, glibc) (falling back to source compile with node-gyp) \nnode-pre-gyp WARN Hit error EACCES: permission denied, mkdir \u0026#39;/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build\u0026#39; \ngyp WARN EACCES user \u0026quot;root\u0026quot; does not have permission to access the dev dir \u0026quot;/root/.node-gyp/10.15.2\u0026quot;\ngyp WARN EACCES attempting to reinstall using temporary dev dir \u0026quot;/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/.node-gyp\u0026quot;\ngyp WARN install got an error, rolling back install\ngyp WARN install got an error, rolling back install\ngyp ERR! configure error \ngyp ERR! stack Error: EACCES: permission denied, mkdir \u0026#39;/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/.node-gyp\u0026#39;\ngyp ERR! System Linux 3.10.0-957.5.1.el7.x86_64\ngyp ERR! command \u0026quot;/usr/local/node/bin/node\u0026quot; \u0026quot;/usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\u0026quot; \u0026quot;configure\u0026quot; \u0026quot;--fallback-to-build\u0026quot; \u0026quot;--module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node\u0026quot; \u0026quot;--module_name=canvas\u0026quot; \u0026quot;--module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release\u0026quot; \u0026quot;--napi_version=3\u0026quot; \u0026quot;--node_abi_napi=napi\u0026quot; \u0026quot;--napi_build_version=0\u0026quot; \u0026quot;--node_napi_label=node-v64\u0026quot;\ngyp ERR! cwd /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\ngyp ERR! node -v v10.15.2\ngyp ERR! node-gyp -v v3.8.0\ngyp ERR! not ok \nnode-pre-gyp ERR! build error \nnode-pre-gyp ERR! stack Error: Failed to execute \u0026#39;/usr/local/node/bin/node /usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64\u0026#39; (1)\nnode-pre-gyp ERR! stack     at ChildProcess.\u0026lt;anonymous\u0026gt; (/home/wwwroot/node/blog.mcloudhub.com/node_modules/node-pre-gyp/lib/util/compile.js:83:29)\nnode-pre-gyp ERR! stack     at ChildProcess.emit (events.js:189:13)\nnode-pre-gyp ERR! stack     at maybeClose (internal/child_process.js:970:16)\nnode-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)\nnode-pre-gyp ERR! System Linux 3.10.0-957.5.1.el7.x86_64\nnode-pre-gyp ERR! command \u0026quot;/usr/local/node/bin/node\u0026quot; \u0026quot;/home/wwwroot/node/blog.mcloudhub.com/node_modules/.bin/node-pre-gyp\u0026quot; \u0026quot;install\u0026quot; \u0026quot;--fallback-to-build\u0026quot;\nnode-pre-gyp ERR! cwd /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\nnode-pre-gyp ERR! node -v v10.15.2\nnode-pre-gyp ERR! node-pre-gyp -v v0.11.0\nnode-pre-gyp ERR! not ok \nFailed to execute \u0026#39;/usr/local/node/bin/node /usr/local/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release/canvas.node --module_name=canvas --module_path=/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build/Release --napi_version=3 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v64\u0026#39; (1)\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {\u0026quot;os\u0026quot;:\u0026quot;darwin\u0026quot;,\u0026quot;arch\u0026quot;:\u0026quot;any\u0026quot;} (current: {\u0026quot;os\u0026quot;:\u0026quot;linux\u0026quot;,\u0026quot;arch\u0026quot;:\u0026quot;x64\u0026quot;})\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! canvas@2.3.1 install: `node-pre-gyp install --fallback-to-build`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the canvas@2.3.1 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2019-03-12T14_49_42_027Z-debug.log\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--code-sudo-code-\"\u003e\u003ca name=\"由上可以看出是权限问题，使用\u003ccode\u003esudo\u003c/code\u003e提升权限，再次安装就可成功。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e由上可以看出是权限问题，使用\u003ccode\u003esudo\u003c/code\u003e提升权限，再次安装就可成功。\u003c/h5\u003e\u003cpre\u003e\u003ccode\u003e[root@localhost blog.mcloudhub.com]# sudo npm i canvas\n\n\u0026gt; canvas@2.3.1 install /home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas\n\u0026gt; node-pre-gyp install --fallback-to-build\n\nnode-pre-gyp WARN Using request for node-pre-gyp https download \nnode-pre-gyp WARN Pre-built binaries not installable for canvas@2.3.1 and node@10.15.2 (node-v64 ABI, glibc) (falling back to source compile with node-gyp) \nnode-pre-gyp WARN Hit error read ECONNRESET \nmake: Entering directory `/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build\u0026#39;\n  SOLINK_MODULE(target) Release/obj.target/canvas-postbuild.node\n  COPY Release/canvas-postbuild.node\n  CXX(target) Release/obj.target/canvas/src/backend/Backend.o\n  CXX(target) Release/obj.target/canvas/src/backend/ImageBackend.o\n  CXX(target) Release/obj.target/canvas/src/backend/PdfBackend.o\n  CXX(target) Release/obj.target/canvas/src/backend/SvgBackend.o\n  CXX(target) Release/obj.target/canvas/src/bmp/BMPParser.o\n  CXX(target) Release/obj.target/canvas/src/Backends.o\n  CXX(target) Release/obj.target/canvas/src/Canvas.o\n  CXX(target) Release/obj.target/canvas/src/CanvasGradient.o\n  CXX(target) Release/obj.target/canvas/src/CanvasPattern.o\n  CXX(target) Release/obj.target/canvas/src/CanvasRenderingContext2d.o\n  CXX(target) Release/obj.target/canvas/src/closure.o\n  CXX(target) Release/obj.target/canvas/src/color.o\n  CXX(target) Release/obj.target/canvas/src/Image.o\n  CXX(target) Release/obj.target/canvas/src/ImageData.o\n  CXX(target) Release/obj.target/canvas/src/init.o\n  CXX(target) Release/obj.target/canvas/src/register_font.o\n  SOLINK_MODULE(target) Release/obj.target/canvas.node\n  COPY Release/canvas.node\nmake: Leaving directory `/home/wwwroot/node/blog.mcloudhub.com/node_modules/canvas/build\u0026#39;\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {\u0026quot;os\u0026quot;:\u0026quot;darwin\u0026quot;,\u0026quot;arch\u0026quot;:\u0026quot;any\u0026quot;} (current: {\u0026quot;os\u0026quot;:\u0026quot;linux\u0026quot;,\u0026quot;arch\u0026quot;:\u0026quot;x64\u0026quot;})\n\n+ canvas@2.3.1\nadded 29 packages from 22 contributors and audited 8025 packages in 335.826s\nfound 2 low severity vulnerabilities\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--\"\u003e\u003ca name=\"至此安装成功。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e至此安装成功。\u003c/h6\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"注意：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e注意：\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在Mac系统下有可能即使使用\u003ccode\u003esudo npm install canvas\u003c/code\u003e也一直报错：没有在项目目录下\u003ccode\u003enode_modules\u003c/code\u003e目录下创建canvas目录的权限，此时可以添加\u003ccode\u003e--unsafe-perm\u003c/code\u003e参数解决。\u003c/p\u003e\n\u003cp\u003e经查看npm命令帮助发现\u003ccode\u003e--unsafe-perm\u003c/code\u003e参数的功能是：在运行包脚本时禁止UID/GID切换，就是禁止用户角色的切换。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"h3-u4F7Fu7528\"\u003e\u003ca name=\"使用\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e使用\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\u0026#39;use strict\u0026#39;;\nconst { createCanvas, loadImage } = require(\u0026#39;canvas\u0026#39;)\nconst canvas = createCanvas(200, 200)\nconst ctx = canvas.getContext(\u0026#39;2d\u0026#39;)\n\n// Write \u0026quot;Awesome!\u0026quot;\nctx.font = \u0026#39;30px Impact\u0026#39;\nctx.rotate(0.1)\nctx.fillText(\u0026#39;Awesome!\u0026#39;, 50, 100)\n\n// Draw line under text\nvar text = ctx.measureText(\u0026#39;Awesome!\u0026#39;)\nctx.strokeStyle = \u0026#39;rgba(0,0,0,0.5)\u0026#39;\nctx.beginPath()\nctx.lineTo(50, 102)\nctx.lineTo(50 + text.width, 102)\nctx.stroke()\n\n// Draw cat with lime helmet\nloadImage(\u0026#39;examples/images/lime-cat.jpg\u0026#39;).then((image) =\u0026gt; {\n  ctx.drawImage(image, 50, 0, 70, 70)\n  console.log(\u0026#39;\u0026lt;img src=\u0026quot;\u0026#39; + canvas.toDataURL() + \u0026#39;\u0026quot; /\u0026gt;\u0026#39;)\n})\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190313/20190313211217_915efa06dae247c8d0745525e5ff387d.png?w=940\u0026amp;h=320\" title=\"QQ20190313-021131\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190313/20190313211217_915efa06dae247c8d0745525e5ff387d.png?w=940\u0026amp;h=320\" alt=\"QQ20190313-021131\u0026#64;2x.png\" title=\"QQ20190313-021131\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190313-021131\u0026#64;2x.png\"\u003eQQ20190313-021131\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3cc64d70830e13d1bf35b9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":36409,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-12T14:51:42.458Z"},"updateTime":{"$date":"2019-03-13T13:12:22.790Z"},"__v":0}
{"_id":{"$oid":"5c8bbe51f723671d50c3b3fe"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[{"$oid":"5c691f32121c291f93358abe"},{"$oid":"5c691f32121c291f93358abe"},{"$oid":"5c3e2295fc56f30dec47c533"}],"comments":[{"$oid":"5c8bdcb0f723671d50c3b405"},{"$oid":"5c8bdd59464a76225ef5bcb2"},{"$oid":"5c8bdece8a3f1c22b37a7d1a"}],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c4b37d17942cc042f5cbf68","title":"css之选择器详解","content":"\u003ch1 id=\"h1-css-\"\u003e\u003ca name=\"css之选择器详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ecss之选择器详解\u003c/h1\u003e\u003cp\u003eCSS （Cascading Style Sheets，层叠样式表）是用来控制网页在浏览器中的显示外观的声明式语言。浏览器会根据 CSS 的样式定义将其选定的元素显示为恰当的形式。一条 CSS 的样式定义包括属性和属性值，它们共同决定网页的外观。\u003c/p\u003e\n\u003cp\u003eCSS 与 HTML 和 JavaScript 并称 Web 三大核心技术。一般用它来定义 HTML 元素 的样式，但它也能用于其他标记语言，如 SVG 和 XML。\u003c/p\u003e\n\u003cp\u003e一条 CSS 规则包含一个 选择符 和一组 属性 定义。下面这个例子用来将页面中的所有 \u0026lt;p\u0026gt; 标签显示为黑色背景和黄色文本：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e/* p 选择符用来选择页面中的所有 \u0026lt;p\u0026gt; 标签 */\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    p \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e/* color 属性用来定义文本颜色，这里为黄色 */\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        color\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e yellow\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"com\"\u003e/* background-color 属性用来定义元素的背景色，这里为黑色 */\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        background\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e black\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5-css-c-css-\"\u003e\u003ca name=\"CSS 中的 “C” 表示 “层叠的”，意为多个选择符之间具有特定的优先级。这一点非常重要，因为复杂网站可能会有非常多的 CSS 规则，因此必须规定好这些规则的优先级，以免乱套。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCSS 中的 “C” 表示 “层叠的”，意为多个选择符之间具有特定的优先级。这一点非常重要，因为复杂网站可能会有非常多的 CSS 规则，因此必须规定好这些规则的优先级，以免乱套。\u003c/h5\u003e\u003ch3 id=\"h3-css-\"\u003e\u003ca name=\"css选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ecss选择器\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在CSS中，选择器用于定位我们想要样式化的网页HTML 元素。各种各样可用的CSS选择器允许我们精确选择要样式化的元素。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4-u57FAu7840u9009u62E9u5668\"\u003e\u003ca name=\"基础选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e基础选择器\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e类型选择器（又名元素选择器）\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e此选择器只是一个选择器名和指定的HTML元素名的不区分大小写的匹配。这是选择所有指定类型的最简单方式。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"tag\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003ecss selector\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ep\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e:#\u003c/span\u003e\u003cspan class=\"pln\"\u003ef00\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e类选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e类选择器由一个点（.）以及类后面的类名组成。类名是在HTML class文档元素属性中没有空格的任何值。由你自己选择一个名字。同样值得一提的是，文档中的多个元素可以具有相同的类名，而单个元素可以有多个类名(以空格分开多个类名的形式书写)。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"css-box\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003ecss selector\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecss\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebox\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e:#\u003c/span\u003e\u003cspan class=\"pln\"\u003ef00\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eID 选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eID选择器由哈希/磅符号 (#)组成，后面是给定元素的ID名称。 任何元素都可以使用id属性设置唯一的ID名称。 由你自己选择的ID是什么。 这是选择单个元素的最有效的方式。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eid\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"css-box\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003ecss selector\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#css-box{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e:#\u003c/span\u003e\u003cspan class=\"pln\"\u003ef00\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e通用选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e通用选择（*）是最终的王牌。它允许选择在一个页面中的所有元素。由于给每个元素应用同样的规则几乎没有什么实际价值，更常见的做法是与其他选择器结合使用(参考下面 组合 .)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecss\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e'*'\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003epadding\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003emargin\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efont\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esize\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e15px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e:#\u003c/span\u003e\u003cspan class=\"lit\"\u003e333\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003efont\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efamily\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e apple\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esystem\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e SF UI \u003c/span\u003e\u003cspan class=\"typ\"\u003eText\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eArial\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003ePingFang\u003c/span\u003e\u003cspan class=\"pln\"\u003e SC\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eHiragino\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eSans\u003c/span\u003e\u003cspan class=\"pln\"\u003e GB\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMicrosoft\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eYaHei\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eWenQuanYi\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eMicro\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"typ\"\u003eHei\u003c/span\u003e\u003cspan class=\"pun\"\u003e,\u003c/span\u003e\u003cspan class=\"pln\"\u003e sans\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eserif\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：一般能用选择器用户设置一个页面默认的样式，如：字体、字号、颜色等。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：一般能用选择器用户设置一个页面默认的样式，如：字体、字号、颜色等。\u003c/h6\u003e\u003ch4 id=\"h4-u5C5Eu6027u9009u62E9u5668\"\u003e\u003ca name=\"属性选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e属性选择器\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e属性选择器是一种特殊类型的选择器，它根据元素的 属性 和属性值来匹配元素。它们的通用语法由方括号 ([]) 组成，其中包含属性名称，后跟可选条件以匹配属性的值。 属性选择器可以根据其匹配属性值的方式分为两类： 存在和值属性选择器和子串值属性选择器。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e存在和值（Presence and value）属性选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e这些属性选择器尝试匹配精确的属性值：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr]：该选择器选择包含 attr 属性的所有元素，不论 attr 的值为何。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr=val]：该选择器仅选择 attr 属性被赋值为 val 的所有元素。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr~=val]：该选择器仅选择具有 attr 属性的元素，而且要求 val 值是 attr 值包含的被空格分隔的取值列表里中的一个。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4--input-text-\"\u003e\u003ca name=\"下面实例将使用属性选择器将input属性为text的输入框下边框显示为红色：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面实例将使用属性选择器将input属性为text的输入框下边框显示为红色：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"tag\"\u003e\u0026lt;form\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eaction\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"necessary\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e用户名：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入用户名\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"necessary\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e密码：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入密码\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"email\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e邮箱：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"email\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入邮箱\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"phone\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"necessary\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e手机：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"phone\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入手机\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss \u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eform\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eitems\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pun\"\u003e%;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"kwd\"\u003eauto\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                overflow\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e hidden\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                margin\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e20px\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            label\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                display\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eblock\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003efloat\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eleft\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e120px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e30px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                line\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheight\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e30px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                text\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ealign\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e right\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            input\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                display\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eblock\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003efloat\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eleft\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e220px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e28px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                line\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheight\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e28px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                padding\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                border\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1px\u003c/span\u003e\u003cspan class=\"pln\"\u003e solid \u003c/span\u003e\u003cspan class=\"com\"\u003e#ccc;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                border\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eradius\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e4px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003enecessary\u003c/span\u003e\u003cspan class=\"pun\"\u003e::\u003c/span\u003e\u003cspan class=\"pln\"\u003ebefore\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e20px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e20px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                content\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'*'\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                color\u003c/span\u003e\u003cspan class=\"pun\"\u003e:#\u003c/span\u003e\u003cspan class=\"pln\"\u003ef00\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                margin\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e8px\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            input\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003etext\u003c/span\u003e\u003cspan class=\"pun\"\u003e]{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                border\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebottom\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1px\u003c/span\u003e\u003cspan class=\"pln\"\u003e solid \u003c/span\u003e\u003cspan class=\"com\"\u003e#f00;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            input\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003epassword\u003c/span\u003e\u003cspan class=\"pun\"\u003e]{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                border\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1px\u003c/span\u003e\u003cspan class=\"pln\"\u003e solid \u003c/span\u003e\u003cspan class=\"com\"\u003e#ccc;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"效果如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果如下：\u003c/h4\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190316/20190316004510_72d3a23b69b10252df05892c1f25db09.png?w=908\u0026amp;h=474\" title=\"QQ20190316-004058@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190316/20190316004510_72d3a23b69b10252df05892c1f25db09.png?w=908\u0026amp;h=474\" alt=\"QQ20190316-004058@2x.png\" title=\"QQ20190316-004058@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190316-004058@2x.png\"\u003eQQ20190316-004058@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch6 id=\"h6--input-text-css-\"\u003e\u003ca name=\"提示：由上面代码可以看出已经通过基础（标签）选择器为input设置了边框宽度、颜色、样式，后面又通过属性选择器给text文本输入框改变了下边框的颜色，在css中越早设置的样式越早渲染，后面设置的样式会在渲染时将之前的样式覆盖。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：由上面代码可以看出已经通过基础（标签）选择器为input设置了边框宽度、颜色、样式，后面又通过属性选择器给text文本输入框改变了下边框的颜色，在css中越早设置的样式越早渲染，后面设置的样式会在渲染时将之前的样式覆盖。\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e子串值（Substring value）属性选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e这种情况的属性选择器也被称为“伪正则选择器”，因为它们提供类似 regular expression 的灵活匹配方式（但请注意，这些选择器并不是真正的正则表达式）：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr|=val] : 选择attr属性的值是 val 或值以 val- 开头的元素（注意，这里的 “-” 不是一个错误，这是用来处理语言编码的）。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr^=val] : 选择attr属性的值以 val 开头（包括 val）的元素。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr$=val] : 选择attr属性的值以 val 结尾（包括 val）的元素。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr*=val] : 选择attr属性的值中包含子字符串 val 的元素（一个子字符串就是一个字符串的一部分而已，例如，”cat“ 是 字符串 ”caterpillar“ 的子字符串）。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003edfbsdbdfbsd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u4F2Au7C7B\"\u003e\u003ca name=\"伪类\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e伪类\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e一个 CSS  伪类（pseudo-class） 是一个以冒号(:)作为前缀，被添加到一个选择器末尾的关键字，当你希望样式在特定状态下才被呈现到指定的元素时，你可以往元素的选择器后面加上对应的伪类（pseudo-class）。你可能希望某个元素在处于某种状态下呈现另一种样式，例如当鼠标悬停在元素上面时，或者当一个复选框被禁用或被勾选时，又或者当一个元素是它在 DOM 树中父元素的第一个子元素时。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e:active\u003c/td\u003e\n\u003ctd\u003e:any\u003c/td\u003e\n\u003ctd\u003e:checked\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:default\u003c/td\u003e\n\u003ctd\u003e:dir()\u003c/td\u003e\n\u003ctd\u003e:disabled\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:empty\u003c/td\u003e\n\u003ctd\u003e:enabled\u003c/td\u003e\n\u003ctd\u003e:first\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:first-child\u003c/td\u003e\n\u003ctd\u003e:first-of-type\u003c/td\u003e\n\u003ctd\u003e:fullscreen\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:focus\u003c/td\u003e\n\u003ctd\u003e:hover\u003c/td\u003e\n\u003ctd\u003e:left\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:indeterminate\u003c/td\u003e\n\u003ctd\u003e:in-range\u003c/td\u003e\n\u003ctd\u003e:invalid\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:lang()\u003c/td\u003e\n\u003ctd\u003e:last-child\u003c/td\u003e\n\u003ctd\u003e:last-of-type\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:link\u003c/td\u003e\n\u003ctd\u003e:not()\u003c/td\u003e\n\u003ctd\u003e:nth-child()\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:nth-last-child()\u003c/td\u003e\n\u003ctd\u003e:nth-last-of-type()\u003c/td\u003e\n\u003ctd\u003e:nth-of-type()\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:only-child\u003c/td\u003e\n\u003ctd\u003e:only-of-type\u003c/td\u003e\n\u003ctd\u003e:optional\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:out-of-range\u003c/td\u003e\n\u003ctd\u003e:read-only\u003c/td\u003e\n\u003ctd\u003e:read-write\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:required\u003c/td\u003e\n\u003ctd\u003e:right\u003c/td\u003e\n\u003ctd\u003e:root\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:scope\u003c/td\u003e\n\u003ctd\u003e:target\u003c/td\u003e\n\u003ctd\u003e:valid\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:visited\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e接下来将使用\u003ccode\u003e:nth-of-type\u003c/code\u003e显示一个隔行换色的样式：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"tag\"\u003e\u0026lt;ul\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;li\u0026gt;\u0026lt;a\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ehref\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"#\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003eUnited Kingdom\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;li\u0026gt;\u0026lt;a\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ehref\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"#\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003eGermany\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;li\u0026gt;\u0026lt;a\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ehref\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"#\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003eFinland\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;li\u0026gt;\u0026lt;a\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ehref\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"#\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003eRussia\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;li\u0026gt;\u0026lt;a\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ehref\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"#\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003eSpain\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;li\u0026gt;\u0026lt;a\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ehref\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"#\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003ePoland\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/ul\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eul \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  padding\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eli \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  padding\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e3px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  margin\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ebottom\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e5px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  list\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003estyle\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e none\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ea \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  text\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edecoration\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e none\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  color\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e black\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ea\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003ehover \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  text\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edecoration\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e underline\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  color\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e red\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eli\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003enth\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eof\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e2n\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  background\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e#ccc;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eli\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003enth\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eof\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"lit\"\u003e2n\u003c/span\u003e\u003cspan class=\"pun\"\u003e+\u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  background\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecolor\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e#eee;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"效果如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果如下：\u003c/h5\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190316/20190316000447_ffbe7c292ca4ec334999df75f185dcf0.png?w=1494\u0026amp;h=382\" title=\"QQ20190316-000322@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190316/20190316000447_ffbe7c292ca4ec334999df75f185dcf0.png?w=1494\u0026amp;h=382\" alt=\"QQ20190316-000322@2x.png\" title=\"QQ20190316-000322@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190316-000322@2x.png\"\u003eQQ20190316-000322@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 id=\"h4-u4F2Au5143u7D20\"\u003e\u003ca name=\"伪元素\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e伪元素\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e伪元素（Pseudo-element）跟伪类很像，但它们又有不同的地方。它们都是关键字，但这次伪元素前缀是两个冒号 (::) ， 同样是添加到选择器后面去选择某个元素的某个部分，它们都拥有特别的行为和有趣的特性。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4--after\"\u003e\u003ca name=\"::after\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::after\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--before\"\u003e\u003ca name=\"::before\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::before\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--first-letter\"\u003e\u003ca name=\"::first-letter\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::first-letter\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--first-line\"\u003e\u003ca name=\"::first-line\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::first-line\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--selection\"\u003e\u003ca name=\"::selection\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::selection\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--backdrop\"\u003e\u003ca name=\"::backdrop\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::backdrop\u003c/h4\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e有时候在有些网站注册信息时输入框前面有一个红色的星号表示此项必填，接下来将使用\u003ccode\u003e::befor\u003c/code\u003e伪元素来实现此效果：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"tag\"\u003e\u0026lt;form\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eaction\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"necessary\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e用户名：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入用户名\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"necessary\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e密码：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入密码\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"email\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e邮箱：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"email\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入邮箱\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;div\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"form-items\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;label\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003efor\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"phone\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eclass\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"necessary\"\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"pln\"\u003e手机：\u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/label\u0026gt;\u0026lt;input\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003etype\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003ename\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"phone\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003evalue\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"atn\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"atv\"\u003e\"输入手机\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"tag\"\u003e/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e        \u003c/span\u003e\u003cspan class=\"tag\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eform\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eitems\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e100\u003c/span\u003e\u003cspan class=\"pun\"\u003e%;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"kwd\"\u003eauto\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                overflow\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e hidden\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                margin\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e20px\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            label\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                display\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eblock\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003efloat\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eleft\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e120px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e30px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                line\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheight\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e30px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                text\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ealign\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e right\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            input\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                display\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eblock\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                \u003c/span\u003e\u003cspan class=\"kwd\"\u003efloat\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003eleft\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e220px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e28px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                line\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eheight\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e28px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                padding\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e10px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                border\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e1px\u003c/span\u003e\u003cspan class=\"pln\"\u003e solid \u003c/span\u003e\u003cspan class=\"com\"\u003e#ccc;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                border\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eradius\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e4px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003enecessary\u003c/span\u003e\u003cspan class=\"pun\"\u003e::\u003c/span\u003e\u003cspan class=\"pln\"\u003ebefore\u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                width\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e20px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                height\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e20px\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                content\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'*'\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                color\u003c/span\u003e\u003cspan class=\"pun\"\u003e:#\u003c/span\u003e\u003cspan class=\"pln\"\u003ef00\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e                margin\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e8px\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e            \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"效果如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果如下：\u003c/h5\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190316/20190316002318_365c9a302d635998679d3cd2661ce98d.png?w=872\u0026amp;h=464\" title=\"QQ20190316-001924@2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190316/20190316002318_365c9a302d635998679d3cd2661ce98d.png?w=872\u0026amp;h=464\" alt=\"QQ20190316-001924@2x.png\" title=\"QQ20190316-001924@2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190316-001924@2x.png\"\u003eQQ20190316-001924@2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 id=\"h4-u7EC4u5408u9009u62E9u5668u548Cu591Au91CDu9009u62E9u5668\"\u003e\u003ca name=\"组合选择器和多重选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e组合选择器和多重选择器\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e虽然一次使用一个选择器就很有用，但在某些情形中却可能效率低下。 CSS选择器在你开始组合他们进行细粒度选择的时候变得更具使用价值。基于元素之间的相互关联关系，CSS提供了几种方法来对元素进行选择。下表使用连接符展示了这些关联关系(A和B代表前文所述的任意选择器):\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名称\u003c/th\u003e\n\u003cth\u003e组合器\u003c/th\u003e\n\u003cth\u003e选择\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e选择器组\u003c/td\u003e\n\u003ctd\u003eA,B\u003c/td\u003e\n\u003ctd\u003e匹配满足A（和/或）B的任意元素（参见下方 同一规则集上的多个选择器）.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e后代选择器\u003c/td\u003e\n\u003ctd\u003eA B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A的后代结点（B是A的子节点，或者A的子节点的子节点）\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e子选择器\u003c/td\u003e\n\u003ctd\u003eA \u0026gt; B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A的直接子节点\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e相邻兄弟选择器\u003c/td\u003e\n\u003ctd\u003eA + B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A的下一个兄弟节点（AB有相同的父结点，并且B紧跟在A的后面）\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e通用兄弟选择器\u003c/td\u003e\n\u003ctd\u003eA ~ B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A之后的兄弟节点中的任意一个（AB有相同的父节点，B在A之后，但不一定是紧挨着A）\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n","markDown":"# css之选择器详解\n\nCSS （Cascading Style Sheets，层叠样式表）是用来控制网页在浏览器中的显示外观的声明式语言。浏览器会根据 CSS 的样式定义将其选定的元素显示为恰当的形式。一条 CSS 的样式定义包括属性和属性值，它们共同决定网页的外观。\n\nCSS 与 HTML 和 JavaScript 并称 Web 三大核心技术。一般用它来定义 HTML 元素 的样式，但它也能用于其他标记语言，如 SVG 和 XML。\n\n一条 CSS 规则包含一个 选择符 和一组 属性 定义。下面这个例子用来将页面中的所有 \u003cp\u003e 标签显示为黑色背景和黄色文本：\n\n```\n\u0009/* p 选择符用来选择页面中的所有 \u003cp\u003e 标签 */\n\u0009p {\n\u0009\u0009/* color 属性用来定义文本颜色，这里为黄色 */\n\u0009\u0009color: yellow;\n\u0009\u0009/* background-color 属性用来定义元素的背景色，这里为黑色 */\n\u0009\u0009background-color: black;\n\u0009}\n```\n\n##### CSS 中的 “C” 表示 “层叠的”，意为多个选择符之间具有特定的优先级。这一点非常重要，因为复杂网站可能会有非常多的 CSS 规则，因此必须规定好这些规则的优先级，以免乱套。\n\n### css选择器\n\n\u003e 在CSS中，选择器用于定位我们想要样式化的网页HTML 元素。各种各样可用的CSS选择器允许我们精确选择要样式化的元素。\n\n#### 基础选择器\n\n* 类型选择器（又名元素选择器）\n\n此选择器只是一个选择器名和指定的HTML元素名的不区分大小写的匹配。这是选择所有指定类型的最简单方式。\n\n* html\n\n```\n\u003cp\u003ecss selector\u003c/p\u003e\n```\n\n* css\n\n```\np{\ncolor:#f00;\n}\n```\n\n* 类选择器\n\n类选择器由一个点（.）以及类后面的类名组成。类名是在HTML class文档元素属性中没有空格的任何值。由你自己选择一个名字。同样值得一提的是，文档中的多个元素可以具有相同的类名，而单个元素可以有多个类名(以空格分开多个类名的形式书写)。\n\n* html\n\n```\n\u003cdiv class=\"css-box\"\u003ecss selector\u003c/div\u003e\n```\n\n* css\n\n```\n.css-box{\ncolor:#f00;\n}\n```\n\n* ID 选择器\n\nID选择器由哈希/磅符号 (#)组成，后面是给定元素的ID名称。 任何元素都可以使用id属性设置唯一的ID名称。 由你自己选择的ID是什么。 这是选择单个元素的最有效的方式。\n\n* html\n\n```\n\u003cdiv id=\"css-box\"\u003ecss selector\u003c/div\u003e\n```\n\n* css\n\n```\n#css-box{\ncolor:#f00;\n}\n```\n\n* 通用选择器\n\n通用选择（*）是最终的王牌。它允许选择在一个页面中的所有元素。由于给每个元素应用同样的规则几乎没有什么实际价值，更常见的做法是与其他选择器结合使用(参考下面 组合 .)\n\n* css\n```\n'*' {\npadding:0;\nmargin:0;\nfont-size:15px;\ncolor:#333;\nfont-family: apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif;\n}\n```\n\n###### 提示：一般能用选择器用户设置一个页面默认的样式，如：字体、字号、颜色等。\n\n#### 属性选择器\n\n\u003e 属性选择器是一种特殊类型的选择器，它根据元素的 属性 和属性值来匹配元素。它们的通用语法由方括号 ([]) 组成，其中包含属性名称，后跟可选条件以匹配属性的值。 属性选择器可以根据其匹配属性值的方式分为两类： 存在和值属性选择器和子串值属性选择器。\n\n* 存在和值（Presence and value）属性选择器\n\n这些属性选择器尝试匹配精确的属性值：\n\n* * [attr]：该选择器选择包含 attr 属性的所有元素，不论 attr 的值为何。\n* * [attr=val]：该选择器仅选择 attr 属性被赋值为 val 的所有元素。\n* * [attr~=val]：该选择器仅选择具有 attr 属性的元素，而且要求 val 值是 attr 值包含的被空格分隔的取值列表里中的一个。\n\n#### 下面实例将使用属性选择器将input属性为text的输入框下边框显示为红色：\n\n* html\n\n```\n\u003cform action=\"\"\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"name\" class=\"necessary\"\u003e用户名：\u003c/label\u003e\u003cinput type=\"text\" name=\"name\" value=\"\" placeholder=\"输入用户名\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"password\" class=\"necessary\"\u003e密码：\u003c/label\u003e\u003cinput type=\"password\" name=\"password\" value=\"\" placeholder=\"输入密码\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"email\"\u003e邮箱：\u003c/label\u003e\u003cinput type=\"text\" name=\"email\" value=\"\" placeholder=\"输入邮箱\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"phone\" class=\"necessary\"\u003e手机：\u003c/label\u003e\u003cinput type=\"text\" name=\"phone\" value=\"\" placeholder=\"输入手机\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u003c/form\u003e\n```\n\n* css \n\n```\n.form-items{\n\u0009\u0009\u0009\u0009width:100%;\n\u0009\u0009\u0009\u0009height:auto;\n\u0009\u0009\u0009\u0009overflow: hidden;\n\u0009\u0009\u0009\u0009margin:0 0 20px 0;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009label{\n\u0009\u0009\u0009\u0009display:block;\n\u0009\u0009\u0009\u0009float:left;\n\u0009\u0009\u0009\u0009width:120px;\n\u0009\u0009\u0009\u0009height:30px;\n\u0009\u0009\u0009\u0009line-height: 30px;\n\u0009\u0009\u0009\u0009text-align: right;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009input{\n\u0009\u0009\u0009\u0009display:block;\n\u0009\u0009\u0009\u0009float:left;\n\u0009\u0009\u0009\u0009width:220px;\n\u0009\u0009\u0009\u0009height:28px;\n\u0009\u0009\u0009\u0009line-height: 28px;\n\u0009\u0009\u0009\u0009padding:0 0 0 10px;\n\u0009\u0009\u0009\u0009border:1px solid #ccc;\n\u0009\u0009\u0009\u0009border-radius:4px;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009.necessary::before{\n\u0009\u0009\u0009\u0009width:20px;\n\u0009\u0009\u0009\u0009height:20px;\n\u0009\u0009\u0009\u0009content: '*';\n\u0009\u0009\u0009\u0009color:#f00;\n\u0009\u0009\u0009\u0009margin:0 8px 0 0;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009input[type=text]{\n\u0009\u0009\u0009\u0009border-bottom:1px solid #f00;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009input[type=password]{\n\u0009\u0009\u0009\u0009border:1px solid #ccc;\n\u0009\u0009\u0009}\n```\n\n#### 效果如下：\n\n[![QQ20190316-004058@2x.png](/static/images/uploads/20190316/20190316004510_72d3a23b69b10252df05892c1f25db09.png?w=908\u0026h=474 \"QQ20190316-004058@2x.png\")](/static/images/uploads/20190316/20190316004510_72d3a23b69b10252df05892c1f25db09.png?w=908\u0026h=474 \"QQ20190316-004058@2x.png\")\n\n###### 提示：由上面代码可以看出已经通过基础（标签）选择器为input设置了边框宽度、颜色、样式，后面又通过属性选择器给text文本输入框改变了下边框的颜色，在css中越早设置的样式越早渲染，后面设置的样式会在渲染时将之前的样式覆盖。\n\n* 子串值（Substring value）属性选择器\n\n这种情况的属性选择器也被称为“伪正则选择器”，因为它们提供类似 regular expression 的灵活匹配方式（但请注意，这些选择器并不是真正的正则表达式）：\n\n* * [attr|=val] : 选择attr属性的值是 val 或值以 val- 开头的元素（注意，这里的 “-” 不是一个错误，这是用来处理语言编码的）。\n* * [attr^=val] : 选择attr属性的值以 val 开头（包括 val）的元素。\n* * [attr$=val] : 选择attr属性的值以 val 结尾（包括 val）的元素。\n* * [attr*=val] : 选择attr属性的值中包含子字符串 val 的元素（一个子字符串就是一个字符串的一部分而已，例如，”cat“ 是 字符串 ”caterpillar“ 的子字符串）。\n\n\n```\ndfbsdbdfbsd\n```\n\n#### 伪类\n\n\u003e 一个 CSS  伪类（pseudo-class） 是一个以冒号(:)作为前缀，被添加到一个选择器末尾的关键字，当你希望样式在特定状态下才被呈现到指定的元素时，你可以往元素的选择器后面加上对应的伪类（pseudo-class）。你可能希望某个元素在处于某种状态下呈现另一种样式，例如当鼠标悬停在元素上面时，或者当一个复选框被禁用或被勾选时，又或者当一个元素是它在 DOM 树中父元素的第一个子元素时。\n\n|    |    |    |\n|----|----|----|\n| :active   |  :any  |  :checked  |\n| :default  |  :dir()  |  :disabled  |\n|  :empty  |  :enabled  |  :first  |\n|  :first-child  |  :first-of-type  |  :fullscreen  |\n|  :focus  |  :hover  |  :left  |\n|  :indeterminate  |  :in-range  |  :invalid  |\n|  :lang()  |  :last-child  |  :last-of-type  |\n|  :link  |  :not()  |  :nth-child()  |\n|  :nth-last-child()  |  :nth-last-of-type()  |  :nth-of-type()  |\n|  :only-child  |  :only-of-type  |  :optional  |\n|  :out-of-range  |  :read-only  |  :read-write  |\n|  :required  |  :right  |  :root  |\n|  :scope  |  :target  |  :valid  |\n|  :visited  |    |    |\n\n接下来将使用```:nth-of-type```显示一个隔行换色的样式：\n\n* html\n\n```\n\u003cul\u003e\n  \u003cli\u003e\u003ca href=\"#\"\u003eUnited Kingdom\u003c/a\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#\"\u003eGermany\u003c/a\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#\"\u003eFinland\u003c/a\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#\"\u003eRussia\u003c/a\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#\"\u003eSpain\u003c/a\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#\"\u003ePoland\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n```\n\n* css\n\n```\nul {\n  padding: 0;\n}\n\nli {\n  padding: 3px;\n  margin-bottom: 5px;\n  list-style-type: none;\n}\n\na {\n  text-decoration: none;\n  color: black;\n}\n\na:hover {\n  text-decoration: underline;\n  color: red;\n}\n\nli:nth-of-type(2n) {\n  background-color: #ccc;\n}\n\nli:nth-of-type(2n+1) {\n  background-color: #eee;\n}\n```\n\n##### 效果如下：\n\n[![QQ20190316-000322@2x.png](/static/images/uploads/20190316/20190316000447_ffbe7c292ca4ec334999df75f185dcf0.png?w=1494\u0026h=382 \"QQ20190316-000322@2x.png\")](/static/images/uploads/20190316/20190316000447_ffbe7c292ca4ec334999df75f185dcf0.png?w=1494\u0026h=382 \"QQ20190316-000322@2x.png\")\n\n#### 伪元素\n\n\u003e 伪元素（Pseudo-element）跟伪类很像，但它们又有不同的地方。它们都是关键字，但这次伪元素前缀是两个冒号 (::) ， 同样是添加到选择器后面去选择某个元素的某个部分，它们都拥有特别的行为和有趣的特性。\n\n* #### ::after\n* #### ::before\n* #### ::first-letter\n* #### ::first-line\n* #### ::selection\n* #### ::backdrop\n\n有时候在有些网站注册信息时输入框前面有一个红色的星号表示此项必填，接下来将使用```::befor```伪元素来实现此效果：\n\n* html\n\n```\n\u003cform action=\"\"\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"name\" class=\"necessary\"\u003e用户名：\u003c/label\u003e\u003cinput type=\"text\" name=\"name\" value=\"\" placeholder=\"输入用户名\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"password\" class=\"necessary\"\u003e密码：\u003c/label\u003e\u003cinput type=\"password\" name=\"password\" value=\"\" placeholder=\"输入密码\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"email\"\u003e邮箱：\u003c/label\u003e\u003cinput type=\"text\" name=\"email\" value=\"\" placeholder=\"输入邮箱\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u0009\u003cdiv class=\"form-items\"\u003e\n\u0009\u0009\u0009\u0009\u003clabel for=\"phone\" class=\"necessary\"\u003e手机：\u003c/label\u003e\u003cinput type=\"text\" name=\"phone\" value=\"\" placeholder=\"输入手机\" /\u003e\n\u0009\u0009\u0009\u003c/div\u003e\n\u0009\u0009\u003c/form\u003e\n```\n\n* css\n\n```\n.form-items{\n\u0009\u0009\u0009\u0009width:100%;\n\u0009\u0009\u0009\u0009height:auto;\n\u0009\u0009\u0009\u0009overflow: hidden;\n\u0009\u0009\u0009\u0009margin:0 0 20px 0;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009label{\n\u0009\u0009\u0009\u0009display:block;\n\u0009\u0009\u0009\u0009float:left;\n\u0009\u0009\u0009\u0009width:120px;\n\u0009\u0009\u0009\u0009height:30px;\n\u0009\u0009\u0009\u0009line-height: 30px;\n\u0009\u0009\u0009\u0009text-align: right;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009input{\n\u0009\u0009\u0009\u0009display:block;\n\u0009\u0009\u0009\u0009float:left;\n\u0009\u0009\u0009\u0009width:220px;\n\u0009\u0009\u0009\u0009height:28px;\n\u0009\u0009\u0009\u0009line-height: 28px;\n\u0009\u0009\u0009\u0009padding:0 0 0 10px;\n\u0009\u0009\u0009\u0009border:1px solid #ccc;\n\u0009\u0009\u0009\u0009border-radius:4px;\n\u0009\u0009\u0009}\n\n\u0009\u0009\u0009.necessary::before{\n\u0009\u0009\u0009\u0009width:20px;\n\u0009\u0009\u0009\u0009height:20px;\n\u0009\u0009\u0009\u0009content: '*';\n\u0009\u0009\u0009\u0009color:#f00;\n\u0009\u0009\u0009\u0009margin:0 8px 0 0;\n\u0009\u0009\u0009}\n```\n\n##### 效果如下：\n\n[![QQ20190316-001924@2x.png](/static/images/uploads/20190316/20190316002318_365c9a302d635998679d3cd2661ce98d.png?w=872\u0026h=464 \"QQ20190316-001924@2x.png\")](/static/images/uploads/20190316/20190316002318_365c9a302d635998679d3cd2661ce98d.png?w=872\u0026h=464 \"QQ20190316-001924@2x.png\")\n\n#### 组合选择器和多重选择器\n\n\u003e 虽然一次使用一个选择器就很有用，但在某些情形中却可能效率低下。 CSS选择器在你开始组合他们进行细粒度选择的时候变得更具使用价值。基于元素之间的相互关联关系，CSS提供了几种方法来对元素进行选择。下表使用连接符展示了这些关联关系(A和B代表前文所述的任意选择器):\n\n|  名称 |  组合器  |  选择   |\n|----|----|----|\n|  选择器组  |  A,B  |  匹配满足A（和/或）B的任意元素（参见下方 同一规则集上的多个选择器）.  |\n|  后代选择器  |  A B  |  匹配B元素，满足条件：B是A的后代结点（B是A的子节点，或者A的子节点的子节点）  |\n|  子选择器  |  A \u003e B  |  匹配B元素，满足条件：B是A的直接子节点  |\n|  相邻兄弟选择器  |  A + B  |  匹配B元素，满足条件：B是A的下一个兄弟节点（AB有相同的父结点，并且B紧跟在A的后面）  |\n|  通用兄弟选择器  |  A ~ B   |  匹配B元素，满足条件：B是A之后的兄弟节点中的任意一个（AB有相同的父节点，B在A之后，但不一定是紧挨着A）  |","html":"\u003ch1 id=\"h1-css-\"\u003e\u003ca name=\"css之选择器详解\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ecss之选择器详解\u003c/h1\u003e\u003cp\u003eCSS （Cascading Style Sheets，层叠样式表）是用来控制网页在浏览器中的显示外观的声明式语言。浏览器会根据 CSS 的样式定义将其选定的元素显示为恰当的形式。一条 CSS 的样式定义包括属性和属性值，它们共同决定网页的外观。\u003c/p\u003e\n\u003cp\u003eCSS 与 HTML 和 JavaScript 并称 Web 三大核心技术。一般用它来定义 HTML 元素 的样式，但它也能用于其他标记语言，如 SVG 和 XML。\u003c/p\u003e\n\u003cp\u003e一条 CSS 规则包含一个 选择符 和一组 属性 定义。下面这个例子用来将页面中的所有 \u0026lt;p\u0026gt; 标签显示为黑色背景和黄色文本：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    /* p 选择符用来选择页面中的所有 \u0026lt;p\u0026gt; 标签 */\n    p {\n        /* color 属性用来定义文本颜色，这里为黄色 */\n        color: yellow;\n        /* background-color 属性用来定义元素的背景色，这里为黑色 */\n        background-color: black;\n    }\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5-css-c-css-\"\u003e\u003ca name=\"CSS 中的 “C” 表示 “层叠的”，意为多个选择符之间具有特定的优先级。这一点非常重要，因为复杂网站可能会有非常多的 CSS 规则，因此必须规定好这些规则的优先级，以免乱套。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCSS 中的 “C” 表示 “层叠的”，意为多个选择符之间具有特定的优先级。这一点非常重要，因为复杂网站可能会有非常多的 CSS 规则，因此必须规定好这些规则的优先级，以免乱套。\u003c/h5\u003e\u003ch3 id=\"h3-css-\"\u003e\u003ca name=\"css选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003ecss选择器\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在CSS中，选择器用于定位我们想要样式化的网页HTML 元素。各种各样可用的CSS选择器允许我们精确选择要样式化的元素。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"h4-u57FAu7840u9009u62E9u5668\"\u003e\u003ca name=\"基础选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e基础选择器\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e类型选择器（又名元素选择器）\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e此选择器只是一个选择器名和指定的HTML元素名的不区分大小写的匹配。这是选择所有指定类型的最简单方式。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;p\u0026gt;css selector\u0026lt;/p\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ep{\ncolor:#f00;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e类选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e类选择器由一个点（.）以及类后面的类名组成。类名是在HTML class文档元素属性中没有空格的任何值。由你自己选择一个名字。同样值得一提的是，文档中的多个元素可以具有相同的类名，而单个元素可以有多个类名(以空格分开多个类名的形式书写)。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;div class=\u0026quot;css-box\u0026quot;\u0026gt;css selector\u0026lt;/div\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e.css-box{\ncolor:#f00;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eID 选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eID选择器由哈希/磅符号 (#)组成，后面是给定元素的ID名称。 任何元素都可以使用id属性设置唯一的ID名称。 由你自己选择的ID是什么。 这是选择单个元素的最有效的方式。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;div id=\u0026quot;css-box\u0026quot;\u0026gt;css selector\u0026lt;/div\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e#css-box{\ncolor:#f00;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e通用选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e通用选择（*）是最终的王牌。它允许选择在一个页面中的所有元素。由于给每个元素应用同样的规则几乎没有什么实际价值，更常见的做法是与其他选择器结合使用(参考下面 组合 .)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecss\u003cpre\u003e\u003ccode\u003e\u0026#39;*\u0026#39; {\npadding:0;\nmargin:0;\nfont-size:15px;\ncolor:#333;\nfont-family: apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003ch6 id=\"h6--\"\u003e\u003ca name=\"提示：一般能用选择器用户设置一个页面默认的样式，如：字体、字号、颜色等。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：一般能用选择器用户设置一个页面默认的样式，如：字体、字号、颜色等。\u003c/h6\u003e\u003ch4 id=\"h4-u5C5Eu6027u9009u62E9u5668\"\u003e\u003ca name=\"属性选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e属性选择器\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e属性选择器是一种特殊类型的选择器，它根据元素的 属性 和属性值来匹配元素。它们的通用语法由方括号 ([]) 组成，其中包含属性名称，后跟可选条件以匹配属性的值。 属性选择器可以根据其匹配属性值的方式分为两类： 存在和值属性选择器和子串值属性选择器。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e存在和值（Presence and value）属性选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e这些属性选择器尝试匹配精确的属性值：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr]：该选择器选择包含 attr 属性的所有元素，不论 attr 的值为何。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr=val]：该选择器仅选择 attr 属性被赋值为 val 的所有元素。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr~=val]：该选择器仅选择具有 attr 属性的元素，而且要求 val 值是 attr 值包含的被空格分隔的取值列表里中的一个。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003ch4 id=\"h4--input-text-\"\u003e\u003ca name=\"下面实例将使用属性选择器将input属性为text的输入框下边框显示为红色：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e下面实例将使用属性选择器将input属性为text的输入框下边框显示为红色：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;form action=\u0026quot;\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;name\u0026quot; class=\u0026quot;necessary\u0026quot;\u0026gt;用户名：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;text\u0026quot; name=\u0026quot;name\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入用户名\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;password\u0026quot; class=\u0026quot;necessary\u0026quot;\u0026gt;密码：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;password\u0026quot; name=\u0026quot;password\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入密码\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;email\u0026quot;\u0026gt;邮箱：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;text\u0026quot; name=\u0026quot;email\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入邮箱\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;phone\u0026quot; class=\u0026quot;necessary\u0026quot;\u0026gt;手机：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;text\u0026quot; name=\u0026quot;phone\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入手机\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/form\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss \u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e.form-items{\n                width:100%;\n                height:auto;\n                overflow: hidden;\n                margin:0 0 20px 0;\n            }\n\n            label{\n                display:block;\n                float:left;\n                width:120px;\n                height:30px;\n                line-height: 30px;\n                text-align: right;\n            }\n\n            input{\n                display:block;\n                float:left;\n                width:220px;\n                height:28px;\n                line-height: 28px;\n                padding:0 0 0 10px;\n                border:1px solid #ccc;\n                border-radius:4px;\n            }\n\n            .necessary::before{\n                width:20px;\n                height:20px;\n                content: \u0026#39;*\u0026#39;;\n                color:#f00;\n                margin:0 8px 0 0;\n            }\n\n            input[type=text]{\n                border-bottom:1px solid #f00;\n            }\n\n            input[type=password]{\n                border:1px solid #ccc;\n            }\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4--\"\u003e\u003ca name=\"效果如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果如下：\u003c/h4\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190316/20190316004510_72d3a23b69b10252df05892c1f25db09.png?w=908\u0026amp;h=474\" title=\"QQ20190316-004058\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190316/20190316004510_72d3a23b69b10252df05892c1f25db09.png?w=908\u0026amp;h=474\" alt=\"QQ20190316-004058\u0026#64;2x.png\" title=\"QQ20190316-004058\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190316-004058\u0026#64;2x.png\"\u003eQQ20190316-004058\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch6 id=\"h6--input-text-css-\"\u003e\u003ca name=\"提示：由上面代码可以看出已经通过基础（标签）选择器为input设置了边框宽度、颜色、样式，后面又通过属性选择器给text文本输入框改变了下边框的颜色，在css中越早设置的样式越早渲染，后面设置的样式会在渲染时将之前的样式覆盖。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：由上面代码可以看出已经通过基础（标签）选择器为input设置了边框宽度、颜色、样式，后面又通过属性选择器给text文本输入框改变了下边框的颜色，在css中越早设置的样式越早渲染，后面设置的样式会在渲染时将之前的样式覆盖。\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e子串值（Substring value）属性选择器\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e这种情况的属性选择器也被称为“伪正则选择器”，因为它们提供类似 regular expression 的灵活匹配方式（但请注意，这些选择器并不是真正的正则表达式）：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr|=val] : 选择attr属性的值是 val 或值以 val- 开头的元素（注意，这里的 “-” 不是一个错误，这是用来处理语言编码的）。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr^=val] : 选择attr属性的值以 val 开头（包括 val）的元素。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr$=val] : 选择attr属性的值以 val 结尾（包括 val）的元素。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e[attr*=val] : 选择attr属性的值中包含子字符串 val 的元素（一个子字符串就是一个字符串的一部分而已，例如，”cat“ 是 字符串 ”caterpillar“ 的子字符串）。\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003edfbsdbdfbsd\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-u4F2Au7C7B\"\u003e\u003ca name=\"伪类\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e伪类\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e一个 CSS  伪类（pseudo-class） 是一个以冒号(:)作为前缀，被添加到一个选择器末尾的关键字，当你希望样式在特定状态下才被呈现到指定的元素时，你可以往元素的选择器后面加上对应的伪类（pseudo-class）。你可能希望某个元素在处于某种状态下呈现另一种样式，例如当鼠标悬停在元素上面时，或者当一个复选框被禁用或被勾选时，又或者当一个元素是它在 DOM 树中父元素的第一个子元素时。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e:active\u003c/td\u003e\n\u003ctd\u003e:any\u003c/td\u003e\n\u003ctd\u003e:checked\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:default\u003c/td\u003e\n\u003ctd\u003e:dir()\u003c/td\u003e\n\u003ctd\u003e:disabled\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:empty\u003c/td\u003e\n\u003ctd\u003e:enabled\u003c/td\u003e\n\u003ctd\u003e:first\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:first-child\u003c/td\u003e\n\u003ctd\u003e:first-of-type\u003c/td\u003e\n\u003ctd\u003e:fullscreen\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:focus\u003c/td\u003e\n\u003ctd\u003e:hover\u003c/td\u003e\n\u003ctd\u003e:left\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:indeterminate\u003c/td\u003e\n\u003ctd\u003e:in-range\u003c/td\u003e\n\u003ctd\u003e:invalid\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:lang()\u003c/td\u003e\n\u003ctd\u003e:last-child\u003c/td\u003e\n\u003ctd\u003e:last-of-type\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:link\u003c/td\u003e\n\u003ctd\u003e:not()\u003c/td\u003e\n\u003ctd\u003e:nth-child()\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:nth-last-child()\u003c/td\u003e\n\u003ctd\u003e:nth-last-of-type()\u003c/td\u003e\n\u003ctd\u003e:nth-of-type()\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:only-child\u003c/td\u003e\n\u003ctd\u003e:only-of-type\u003c/td\u003e\n\u003ctd\u003e:optional\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:out-of-range\u003c/td\u003e\n\u003ctd\u003e:read-only\u003c/td\u003e\n\u003ctd\u003e:read-write\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:required\u003c/td\u003e\n\u003ctd\u003e:right\u003c/td\u003e\n\u003ctd\u003e:root\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:scope\u003c/td\u003e\n\u003ctd\u003e:target\u003c/td\u003e\n\u003ctd\u003e:valid\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:visited\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e接下来将使用\u003ccode\u003e:nth-of-type\u003c/code\u003e显示一个隔行换色的样式：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;#\u0026quot;\u0026gt;United Kingdom\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;#\u0026quot;\u0026gt;Germany\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;#\u0026quot;\u0026gt;Finland\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;#\u0026quot;\u0026gt;Russia\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;#\u0026quot;\u0026gt;Spain\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;#\u0026quot;\u0026gt;Poland\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eul {\n  padding: 0;\n}\n\nli {\n  padding: 3px;\n  margin-bottom: 5px;\n  list-style-type: none;\n}\n\na {\n  text-decoration: none;\n  color: black;\n}\n\na:hover {\n  text-decoration: underline;\n  color: red;\n}\n\nli:nth-of-type(2n) {\n  background-color: #ccc;\n}\n\nli:nth-of-type(2n+1) {\n  background-color: #eee;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"效果如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果如下：\u003c/h5\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190316/20190316000447_ffbe7c292ca4ec334999df75f185dcf0.png?w=1494\u0026amp;h=382\" title=\"QQ20190316-000322\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190316/20190316000447_ffbe7c292ca4ec334999df75f185dcf0.png?w=1494\u0026amp;h=382\" alt=\"QQ20190316-000322\u0026#64;2x.png\" title=\"QQ20190316-000322\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190316-000322\u0026#64;2x.png\"\u003eQQ20190316-000322\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 id=\"h4-u4F2Au5143u7D20\"\u003e\u003ca name=\"伪元素\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e伪元素\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e伪元素（Pseudo-element）跟伪类很像，但它们又有不同的地方。它们都是关键字，但这次伪元素前缀是两个冒号 (::) ， 同样是添加到选择器后面去选择某个元素的某个部分，它们都拥有特别的行为和有趣的特性。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ch4 id=\"h4--after\"\u003e\u003ca name=\"::after\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::after\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--before\"\u003e\u003ca name=\"::before\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::before\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--first-letter\"\u003e\u003ca name=\"::first-letter\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::first-letter\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--first-line\"\u003e\u003ca name=\"::first-line\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::first-line\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--selection\"\u003e\u003ca name=\"::selection\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::selection\u003c/h4\u003e\u003c/li\u003e\u003cli\u003e\u003ch4 id=\"h4--backdrop\"\u003e\u003ca name=\"::backdrop\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e::backdrop\u003c/h4\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e有时候在有些网站注册信息时输入框前面有一个红色的星号表示此项必填，接下来将使用\u003ccode\u003e::befor\u003c/code\u003e伪元素来实现此效果：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehtml\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;form action=\u0026quot;\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;name\u0026quot; class=\u0026quot;necessary\u0026quot;\u0026gt;用户名：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;text\u0026quot; name=\u0026quot;name\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入用户名\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;password\u0026quot; class=\u0026quot;necessary\u0026quot;\u0026gt;密码：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;password\u0026quot; name=\u0026quot;password\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入密码\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;email\u0026quot;\u0026gt;邮箱：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;text\u0026quot; name=\u0026quot;email\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入邮箱\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;form-items\u0026quot;\u0026gt;\n                \u0026lt;label for=\u0026quot;phone\u0026quot; class=\u0026quot;necessary\u0026quot;\u0026gt;手机：\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026quot;text\u0026quot; name=\u0026quot;phone\u0026quot; value=\u0026quot;\u0026quot; placeholder=\u0026quot;输入手机\u0026quot; /\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/form\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003ecss\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e.form-items{\n                width:100%;\n                height:auto;\n                overflow: hidden;\n                margin:0 0 20px 0;\n            }\n\n            label{\n                display:block;\n                float:left;\n                width:120px;\n                height:30px;\n                line-height: 30px;\n                text-align: right;\n            }\n\n            input{\n                display:block;\n                float:left;\n                width:220px;\n                height:28px;\n                line-height: 28px;\n                padding:0 0 0 10px;\n                border:1px solid #ccc;\n                border-radius:4px;\n            }\n\n            .necessary::before{\n                width:20px;\n                height:20px;\n                content: \u0026#39;*\u0026#39;;\n                color:#f00;\n                margin:0 8px 0 0;\n            }\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--\"\u003e\u003ca name=\"效果如下：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e效果如下：\u003c/h5\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"/static/images/uploads/20190316/20190316002318_365c9a302d635998679d3cd2661ce98d.png?w=872\u0026amp;h=464\" title=\"QQ20190316-001924\u0026#64;2x.png\"\u003e\u003cspan class=\"image-box\"\u003e\u003cimg src=\"/static/images/uploads/20190316/20190316002318_365c9a302d635998679d3cd2661ce98d.png?w=872\u0026amp;h=464\" alt=\"QQ20190316-001924\u0026#64;2x.png\" title=\"QQ20190316-001924\u0026#64;2x.png\"\u003e\u003c/span\u003e\u003cspan class=\"image-title\" title=\"QQ20190316-001924\u0026#64;2x.png\"\u003eQQ20190316-001924\u0026#64;2x.png\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 id=\"h4-u7EC4u5408u9009u62E9u5668u548Cu591Au91CDu9009u62E9u5668\"\u003e\u003ca name=\"组合选择器和多重选择器\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e组合选择器和多重选择器\u003c/h4\u003e\u003cblockquote\u003e\n\u003cp\u003e虽然一次使用一个选择器就很有用，但在某些情形中却可能效率低下。 CSS选择器在你开始组合他们进行细粒度选择的时候变得更具使用价值。基于元素之间的相互关联关系，CSS提供了几种方法来对元素进行选择。下表使用连接符展示了这些关联关系(A和B代表前文所述的任意选择器):\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名称\u003c/th\u003e\n\u003cth\u003e组合器\u003c/th\u003e\n\u003cth\u003e选择\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e选择器组\u003c/td\u003e\n\u003ctd\u003eA,B\u003c/td\u003e\n\u003ctd\u003e匹配满足A（和/或）B的任意元素（参见下方 同一规则集上的多个选择器）.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e后代选择器\u003c/td\u003e\n\u003ctd\u003eA B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A的后代结点（B是A的子节点，或者A的子节点的子节点）\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e子选择器\u003c/td\u003e\n\u003ctd\u003eA \u0026gt; B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A的直接子节点\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e相邻兄弟选择器\u003c/td\u003e\n\u003ctd\u003eA + B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A的下一个兄弟节点（AB有相同的父结点，并且B紧跟在A的后面）\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e通用兄弟选择器\u003c/td\u003e\n\u003ctd\u003eA ~ B\u003c/td\u003e\n\u003ctd\u003e匹配B元素，满足条件：B是A之后的兄弟节点中的任意一个（AB有相同的父节点，B在A之后，但不一定是紧挨着A）\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c4b37d17942cc042f5cbf68"},"heart":0,"follow":0,"collect":0,"share":0,"comment":3,"read":0,"KeyWords":43976,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-15T15:01:37.455Z"},"updateTime":{"$date":"2019-03-15T16:51:33.559Z"},"__v":3}
{"_id":{"$oid":"5c8f93fc8df4c553eadffb53"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3c910585710f035b21350d","title":"你所有的付出都有意义","content":"\u003ch1 id=\"h1-u4F60u6240u6709u7684u4ED8u51FAu90FDu6709u610Fu4E49\"\u003e\u003ca name=\"你所有的付出都有意义\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e你所有的付出都有意义\u003c/h1\u003e\u003cp\u003e付出这件事不会没有意义的，每一段经历都是难得的成长，每一次成长都是前行路上难得的诗篇，你所付出的每一点努力都会让你成这更强大的自己。真正的失败者不是没有赢的人，而是那些害怕失败而不敢尝试的人，努力过坚持过你就已经赢了。\u003c/p\u003e\n\u003cp\u003e生活中的许多眯人之处并不在于心随人意，而在于天差阳错，只要你热爱生活那你的努力一定不会白费，你所有的付出都 有意义 ，那些你熬过的夜、流过的泪都铺就了你前行的路，你走过的路、读过的书、爱过的人都在使你成为更新更好的自己，有些付出也许在当下给不了你想要的回报，但你要相信人生路上的每一次艰难，都是对未来的铺垫。每一份努力都让你成长，每一点付出都让你 强大，它们会在未来的日子里使你站在更大的舞台上发光发亮，愿曾经有咬紧牙关终让你拥有笑颜，愿你路过坎坷艰难，终与想要的生活撞个满怀。\u003c/p\u003e\n","markDown":"# 你所有的付出都有意义\n\n付出这件事不会没有意义的，每一段经历都是难得的成长，每一次成长都是前行路上难得的诗篇，你所付出的每一点努力都会让你成这更强大的自己。真正的失败者不是没有赢的人，而是那些害怕失败而不敢尝试的人，努力过坚持过你就已经赢了。\n\n生活中的许多眯人之处并不在于心随人意，而在于天差阳错，只要你热爱生活那你的努力一定不会白费，你所有的付出都 有意义 ，那些你熬过的夜、流过的泪都铺就了你前行的路，你走过的路、读过的书、爱过的人都在使你成为更新更好的自己，有些付出也许在当下给不了你想要的回报，但你要相信人生路上的每一次艰难，都是对未来的铺垫。每一份努力都让你成长，每一点付出都让你 强大，它们会在未来的日子里使你站在更大的舞台上发光发亮，愿曾经有咬紧牙关终让你拥有笑颜，愿你路过坎坷艰难，终与想要的生活撞个满怀。","html":"\u003ch1 id=\"h1-u4F60u6240u6709u7684u4ED8u51FAu90FDu6709u610Fu4E49\"\u003e\u003ca name=\"你所有的付出都有意义\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e你所有的付出都有意义\u003c/h1\u003e\u003cp\u003e付出这件事不会没有意义的，每一段经历都是难得的成长，每一次成长都是前行路上难得的诗篇，你所付出的每一点努力都会让你成这更强大的自己。真正的失败者不是没有赢的人，而是那些害怕失败而不敢尝试的人，努力过坚持过你就已经赢了。\u003c/p\u003e\n\u003cp\u003e生活中的许多眯人之处并不在于心随人意，而在于天差阳错，只要你热爱生活那你的努力一定不会白费，你所有的付出都 有意义 ，那些你熬过的夜、流过的泪都铺就了你前行的路，你走过的路、读过的书、爱过的人都在使你成为更新更好的自己，有些付出也许在当下给不了你想要的回报，但你要相信人生路上的每一次艰难，都是对未来的铺垫。每一份努力都让你成长，每一点付出都让你 强大，它们会在未来的日子里使你站在更大的舞台上发光发亮，愿曾经有咬紧牙关终让你拥有笑颜，愿你路过坎坷艰难，终与想要的生活撞个满怀。\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3c910585710f035b21350d"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":544,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-18T12:50:04.143Z"},"updateTime":{"$date":"2019-03-18T13:24:58.104Z"},"__v":0}
{"_id":{"$oid":"5c908276129ca615dde27751"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c62d10e4c1a6008d89009a9","title":"Centos7安装GItLab","content":"\u003ch1 id=\"h1-centos7-gitlab\"\u003e\u003ca name=\"Centos7安装GItLab\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7安装GItLab\u003c/h1\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GItLab介绍\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGItLab介绍\u003c/h4\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GItLab安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGItLab安装\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e安装依赖\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo yum install \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey curl policycoreutils\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epython openssh\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eserver sudo systemctl enable sshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo systemctl start sshd\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo firewall\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ecmd \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003epermanent \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eadd\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003ehttp sudo systemctl reload firewalld\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装postfix支持邮件发送\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo yum install postfix\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo systemctl enable postfix\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo systemctl start postfix\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e配置yum源\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003ecurl https\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--code-shell-code-code-yum-code-\"\u003e\u003ca name=\"提示：此处\u003ccode\u003eshell\u003c/code\u003e脚本自动配置，也可以自动配置\u003ccode\u003eyum\u003c/code\u003e源\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：此处\u003ccode\u003eshell\u003c/code\u003e脚本自动配置，也可以自动配置\u003ccode\u003eyum\u003c/code\u003e源\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e安装GitLab\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo EXTERNAL_URL\u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"str\"\u003e\"http://code.mcloudhub.com\"\u003c/span\u003e\u003cspan class=\"pln\"\u003e yum install \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eee\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装信息\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 配置文件目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 安装目录，包括自带的nginx服务器等\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eopt\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 开机启动服务脚本目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elib\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystemd\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esystem\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# 系统命令连接目录\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch6 id=\"h6--external_url-code-https-code-code-http-code-code-https-code-openssl-\"\u003e\u003ca name=\"提示：EXTERNAL_URL是最终访问的地址。可以使用\u003ccode\u003ehttps:\u003c/code\u003e也可以使用\u003ccode\u003ehttp\u003c/code\u003e，使用\u003ccode\u003ehttps\u003c/code\u003e访问要配置openssl证书。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：EXTERNAL_URL是最终访问的地址。可以使用\u003ccode\u003ehttps:\u003c/code\u003e也可以使用\u003ccode\u003ehttp\u003c/code\u003e，使用\u003ccode\u003ehttps\u003c/code\u003e访问要配置openssl证书。\u003c/h6\u003e\u003ch4 id=\"h4--code-external_url-code-\"\u003e\u003ca name=\"访问：在浏览器中输入刚刚\u003ccode\u003eEXTERNAL_URL\u003c/code\u003e指定的连接进行访问，并登录。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e访问：在浏览器中输入刚刚\u003ccode\u003eEXTERNAL_URL\u003c/code\u003e指定的连接进行访问，并登录。\u003c/h4\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GItLab服务操作：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGItLab服务操作：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e启动\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ectl start\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e停止\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ectl stop\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e重启\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ectl restart\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e开机启动\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl start gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erunsvdir\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e禁止开机启动\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esystemctl disable gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erunsvdir\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e修改配置文件后使配置生效\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ectl reconfigure\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"Gitlab配置文件地址：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGitlab配置文件地址：\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"str\"\u003e/etc/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003erb\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GitLab配置信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGitLab配置信息\u003c/h4\u003e\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab configuration settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! This file is generated during initial installation and **is not** modified\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! during upgrades.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Check out the latest version of this file to know about the different\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! settings that can be configured by this file, which may be found at:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! https://gitlab.com/gitlab-org/omnibus-gitlab/raw/master/files/gitlab-config-template/gitlab.rb.template\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab URL\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! URL on which GitLab will be reachable.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! For more details on configuring external_url see:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eexternal_url \u003c/span\u003e\u003cspan class=\"str\"\u003e'https://code.mcloudhub.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Roles for multi-instance GitLab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! The default is to have no roles enabled, which results in GitLab running as an all-in-one instance.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Options:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   redis_sentinel_role redis_master_role redis_slave_role geo_primary_role geo_secondary_role\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! For more details on each role, see:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! https://docs.gitlab.com/omnibus/roles/README.html#roles\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# roles ['redis_sentinel_role', 'redis_master_role']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Legend\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! The following notations at the beginning of each line may be used to\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! differentiate between components of this file and to easily select them using\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! a regex.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! ## Titles, subtitles etc\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! ##! More information - Description, Docs, Links, Issues etc.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Configuration settings have a single # followed by a single space at the\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! beginning; Remove them to enable the setting.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Configuration settings below are optional.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **The values currently assigned are only examples and ARE NOT the default\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   values.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##                Configuration Settings for GitLab CE and EE                 ##\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## gitlab.yml configuration\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/gitlab.yml.md\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_ssh_host'] = 'ssh.host_example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['time_zone'] = 'UTC'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Email Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_email_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_email_from'] = 'example@example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_email_display_name'] = 'Example'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_email_reply_to'] = 'noreply@example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_email_subject_suffix'] = ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab user privileges\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_can_create_group'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_username_changing_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Default Theme\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_theme'] = 2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Default project feature settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_projects_features_issues'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_projects_features_merge_requests'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_projects_features_wiki'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_projects_features_snippets'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_projects_features_builds'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_default_projects_features_container_registry'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Automatic issue closing\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! See https://docs.gitlab.com/ce/customization/issue_closing.html for more\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! information about this pattern.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_issue_closing_pattern'] = \"\\b((?:[Cc]los(?:e[sd]?|ing)|\\b[Ff]ix(?:e[sd]|ing)?|\\b[Rr]esolv(?:e[sd]?|ing)|\\b[Ii]mplement(?:s|ed|ing)?)(:?) +(?:(?:issues? +)?%{issue_ref}(?:(?:, *| +and +)?)|([A-Z][A-Z0-9_]+-\\d+))+)\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Download location\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! When a user clicks e.g. 'Download zip' on a project, a temporary zip file\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! is created in the following directory.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Should not be the same path, or a sub directory of any of the `git_data_dirs`\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_repository_downloads_path'] = 'tmp/repositories'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Gravatar Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gravatar_plain_url'] = 'http://www.gravatar.com/avatar/%{hash}?s=%{size}\u0026amp;d=identicon'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gravatar_ssl_url'] = 'https://secure.gravatar.com/avatar/%{hash}?s=%{size}\u0026amp;d=identicon'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Auxiliary jobs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Periodically executed jobs, to self-heal Gitlab, do external\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! synchronizations, etc.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://github.com/ondrejbartas/sidekiq-cron#adding-cron-job\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!       https://docs.gitlab.com/ce/ci/yaml/README.html#artifacts:expire_in\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['stuck_ci_jobs_worker_cron'] = \"0 0 * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['expire_build_artifacts_worker_cron'] = \"50 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pipeline_schedule_worker_cron'] = \"41 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['ci_archive_traces_cron_worker_cron'] = \"17 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['repository_check_worker_cron'] = \"20 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['admin_email_worker_cron'] = \"0 0 * * 0\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['repository_archive_cache_worker_cron'] = \"0 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pages_domain_verification_cron_worker'] = \"*/15 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Webhook Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Number of seconds to wait for HTTP response after sending webhook HTTP POST\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! request (default: 10)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['webhook_timeout'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Trusted proxies\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Customize if you have GitLab behind a reverse proxy which is running on a\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! different machine.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Add the IP address for your reverse proxy to the list, otherwise users\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   will appear signed in from that address.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['trusted_proxies'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Monitoring settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! IP whitelist controlling access to monitoring endpoints\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['monitoring_whitelist'] = ['127.0.0.0/8', '::1/128']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Time between sampling of unicorn socket metrics, in seconds\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['monitoring_unicorn_sampler_interval'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Reply by email\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Allow users to comment on issues and merge requests by replying to\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! notification emails.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ce/administration/reply_by_email.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Incoming Email Address\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! The email address including the `%{key}` placeholder that will be replaced\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! to reference the item being replied to.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! **The placeholder can be omitted but if present, it must appear in the\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####!   \"user\" part of the address (before the `@`).**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_address'] = \"gitlab-incoming+%{key}@gmail.com\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Email account username\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! **With third party providers, this is usually the full email address.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! **With self-hosted email servers, this is usually the user part of the\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####!   email address.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_email'] = \"gitlab-incoming@gmail.com\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Email account password\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_password'] = \"[REDACTED]\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### IMAP Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_host'] = \"imap.gmail.com\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_port'] = 993\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_ssl'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_start_tls'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Incoming Mailbox Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! The mailbox where incoming mail will end up. Usually \"inbox\".\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_mailbox_name'] = \"inbox\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! The IDLE command timeout.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['incoming_email_idle_timeout'] = 60\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Job Artifacts\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_path'] = \"/var/opt/gitlab/gitlab-rails/shared/artifacts\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! Job artifacts Object Store\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! Docs: https://docs.gitlab.com/ee/administration/job_artifacts.html#using-object-storage\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_object_store_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_object_store_direct_upload'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_object_store_background_upload'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_object_store_proxy_download'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_object_store_remote_directory'] = \"artifacts\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['artifacts_object_store_connection'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'provider' =\u0026gt; 'AWS',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'region' =\u0026gt; 'eu-west-1',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_access_key_id' =\u0026gt; 'AWS_ACCESS_KEY_ID',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_secret_access_key' =\u0026gt; 'AWS_SECRET_ACCESS_KEY',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # # The below options configure an S3 compatible host instead of AWS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'aws_signature_version' =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'endpoint' =\u0026gt; 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'host' =\u0026gt; 's3.amazonaws.com',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'path_style' =\u0026gt; false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### External merge request diffs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/external-diffs\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_object_store_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_object_store_direct_upload'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_object_store_background_upload'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_object_store_proxy_download'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_object_store_remote_directory'] = \"external-diffs\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['external_diffs_object_store_connection'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'provider' =\u0026gt; 'AWS',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'region' =\u0026gt; 'eu-west-1',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_access_key_id' =\u0026gt; 'AWS_ACCESS_KEY_ID',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_secret_access_key' =\u0026gt; 'AWS_SECRET_ACCESS_KEY',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # # The below options configure an S3 compatible host instead of AWS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'aws_signature_version' =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'endpoint' =\u0026gt; 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'host' =\u0026gt; 's3.amazonaws.com',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'path_style' =\u0026gt; false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Git LFS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/lfs-objects\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_object_store_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_object_store_direct_upload'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_object_store_background_upload'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_object_store_proxy_download'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_object_store_remote_directory'] = \"lfs-objects\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['lfs_object_store_connection'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'provider' =\u0026gt; 'AWS',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'region' =\u0026gt; 'eu-west-1',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_access_key_id' =\u0026gt; 'AWS_ACCESS_KEY_ID',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_secret_access_key' =\u0026gt; 'AWS_SECRET_ACCESS_KEY',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # # The below options configure an S3 compatible host instead of AWS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'aws_signature_version' =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'endpoint' =\u0026gt; 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'host' =\u0026gt; 's3.amazonaws.com',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'path_style' =\u0026gt; false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab uploads\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ee/administration/uploads.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_storage_path'] = \"/var/opt/gitlab/gitlab-rails/public\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_base_dir'] = \"uploads/-/system\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_object_store_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_object_store_direct_upload'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_object_store_background_upload'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_object_store_proxy_download'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_object_store_remote_directory'] = \"uploads\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_object_store_connection'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'provider' =\u0026gt; 'AWS',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'region' =\u0026gt; 'eu-west-1',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_access_key_id' =\u0026gt; 'AWS_ACCESS_KEY_ID',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_secret_access_key' =\u0026gt; 'AWS_SECRET_ACCESS_KEY',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # # The below options configure an S3 compatible host instead of AWS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'host' =\u0026gt; 's3.amazonaws.com',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'aws_signature_version' =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'endpoint' =\u0026gt; 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'path_style' =\u0026gt; false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Impersonation settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['impersonation_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Usage Statistics\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['usage_ping_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab Mattermost\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! These settings are void if Mattermost is installed on the same omnibus\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! install\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['mattermost_host'] = \"https://mattermost.example.com\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### LDAP Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/ldap.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Be careful not to break the indentation in the ldap_servers block. It is\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   in yaml format and the spaces must be retained. Using tabs will not work.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['ldap_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **remember to close this block with 'EOS' below**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['ldap_servers'] = YAML.load \u0026lt;\u0026lt;-'EOS'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   main: # 'main' is the GitLab 'provider ID' of this LDAP server\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     label: 'LDAP'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     host: '_your_ldap_server'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     port: 389\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     uid: 'sAMAccountName'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     bind_dn: '_the_full_dn_of_the_user_you_will_bind_with'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     password: '_the_password_of_the_bind_user'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     encryption: 'plain' # \"start_tls\" or \"simple_tls\" or \"plain\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     verify_certificates: true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     smartcard_auth: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     active_directory: true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     allow_username_or_email_login: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     lowercase_usernames: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     block_auto_created_users: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     base: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     user_filter: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     ## EE only\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     group_base: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     admin_group: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     sync_ssh_keys: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   secondary: # 'secondary' is the GitLab 'provider ID' of second LDAP server\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     label: 'LDAP'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     host: '_your_ldap_server'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     port: 389\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     uid: 'sAMAccountName'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     bind_dn: '_the_full_dn_of_the_user_you_will_bind_with'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     password: '_the_password_of_the_bind_user'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     encryption: 'plain' # \"start_tls\" or \"simple_tls\" or \"plain\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     verify_certificates: true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     smartcard_auth: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     active_directory: true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     allow_username_or_email_login: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     lowercase_usernames: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     block_auto_created_users: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     base: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     user_filter: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     ## EE only\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     group_base: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     admin_group: ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     sync_ssh_keys: false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# EOS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Smartcard authentication settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ee/administration/auth/smartcard.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smartcard_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smartcard_ca_file'] = \"/etc/gitlab/ssl/CA.pem\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smartcard_client_certificate_required_port'] = 3444\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### OmniAuth Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ce/integration/omniauth.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_enabled'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_allow_single_sign_on'] = ['saml']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_sync_email_from_provider'] = 'saml'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_sync_profile_from_provider'] = ['saml']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_sync_profile_attributes'] = ['email']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_auto_sign_in_with_provider'] = 'saml'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_block_auto_created_users'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_auto_link_ldap_user'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_auto_link_saml_user'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_external_providers'] = ['twitter', 'google_oauth2']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['omniauth_providers'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     \"name\" =\u0026gt; \"google_oauth2\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     \"app_id\" =\u0026gt; \"YOUR APP ID\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     \"app_secret\" =\u0026gt; \"YOUR APP SECRET\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     \"args\" =\u0026gt; { \"access_type\" =\u0026gt; \"offline\", \"approval_prompt\" =\u0026gt; \"\" }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Backup Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/backups.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['manage_backup_path'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_path'] = \"/var/opt/gitlab/backups\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ce/raketasks/backup_restore.html#backup-archive-permissions\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_archive_permissions'] = 0644\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_pg_schema'] = 'public'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! The duration in seconds to keep backups before they are allowed to be deleted\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_keep_time'] = 604800\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_upload_connection'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'provider' =\u0026gt; 'AWS',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'region' =\u0026gt; 'eu-west-1',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_access_key_id' =\u0026gt; 'AKIAKIAKI',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_secret_access_key' =\u0026gt; 'secret123'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_upload_remote_directory'] = 'my.s3.bucket'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_multipart_chunk_size'] = 104857600\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Turns on AWS Server-Side Encryption with Amazon S3-Managed Keys for\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   backups**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_encryption'] = 'AES256'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! The encryption key to use with AWS Server-Side Encryption.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Setting this value will enable Server-Side Encryption with customer provided keys;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   otherwise S3-managed keys are used.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_encryption_key'] = '\u0026lt;base64-encoded encryption key\u0026gt;'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Specifies Amazon S3 storage class to use for backups. Valid values\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   include 'STANDARD', 'STANDARD_IA', and 'REDUCED_REDUNDANCY'**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['backup_storage_class'] = 'STANDARD'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Pseudonymizer Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pseudonymizer_manifest'] = 'config/pseudonymizer.yml'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pseudonymizer_upload_remote_directory'] = 'gitlab-elt'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pseudonymizer_upload_connection'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'provider' =\u0026gt; 'AWS',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'region' =\u0026gt; 'eu-west-1',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_access_key_id' =\u0026gt; 'AKIAKIAKI',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_secret_access_key' =\u0026gt; 'secret123'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### For setting up different data storing directory\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#storing-git-data-in-an-alternative-directory\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **If you want to use a single non-default directory to store git data use a\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   path that doesn't contain symlinks.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# git_data_dirs({\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"default\" =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     \"path\" =\u0026gt; \"/mnt/nfs-01/git-data\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#    }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# })\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Gitaly settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitaly_token'] = 'secret token'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### For storing GitLab application uploads, eg. LFS objects, build artifacts\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ce/development/shared_files.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['shared_path'] = '/var/opt/gitlab/gitlab-rails/shared'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Wait for file system to be mounted\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#only-start-omnibus-gitlab-services-after-a-given-filesystem-is-mounted\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# high_availability['mountpoint'] = [\"/var/opt/gitlab/git-data\", \"/var/opt/gitlab/gitlab-rails/shared\"]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab Shell settings for GitLab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_shell_ssh_port'] = 22\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['gitlab_shell_git_timeout'] = 800\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Extra customization\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['extra_google_analytics_id'] = '_your_tracking_id'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['extra_piwik_url'] = '_your_piwik_url'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['extra_piwik_site_id'] = '_your_piwik_site_id'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/environment-variables.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'BUNDLE_GEMFILE' =\u0026gt; \"/opt/gitlab/embedded/service/gitlab-rails/Gemfile\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'PATH' =\u0026gt; \"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['rack_attack_git_basic_auth'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'enabled' =\u0026gt; false,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'ip_whitelist' =\u0026gt; [\"127.0.0.1\"],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'maxretry' =\u0026gt; 10,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'findtime' =\u0026gt; 60,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'bantime' =\u0026gt; 3600\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['rack_attack_protected_paths'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/users/password',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/users/sign_in',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/api/#{API::API.version}/session.json',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/api/#{API::API.version}/session',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/users',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/users/confirmation',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/unsubscribes/',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '/import/github/personal_access_token'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **We do not recommend changing these directories.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['dir'] = \"/var/opt/gitlab/gitlab-rails\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['log_directory'] = \"/var/log/gitlab/gitlab-rails\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab application settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['uploads_directory'] = \"/var/opt/gitlab/gitlab-rails/uploads\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['rate_limit_requests_per_period'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['rate_limit_period'] = 60\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Change the initial default admin password and shared runner registration tokens.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! **Only applicable on initial setup, changing these settings after database\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####!   is created and seeded won't yield any change.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['initial_root_password'] = \"password\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['initial_shared_runners_registration_token'] = \"token\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Enable or disable automatic database migrations\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['auto_migrate'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### This is advanced feature used by large gitlab deployments where loading\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### whole RAILS env takes a lot of time.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['rake_cache_clear'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab database settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/database.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Only needed if you use an external database.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_adapter'] = \"postgresql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_encoding'] = \"unicode\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_collation'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_database'] = \"gitlabhq_production\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_pool'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_username'] = \"gitlab\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_password'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_host'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_port'] = 5432\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_socket'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_sslmode'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_sslcompression'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_sslrootcert'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_prepared_statements'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_statements_limit'] = 1000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab Redis settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Connect to your own Redis instance\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Redis TCP connection\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_host'] = \"127.0.0.1\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_port'] = 6379\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_ssl'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_password'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_database'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Redis local UNIX socket (will be disabled if TCP method is used)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_socket'] = \"/var/opt/gitlab/redis/redis.socket\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Sentinel support\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! To have Sentinel working, you must enable Redis TCP connection support\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! above and define a few Sentinel hosts below (to get a reliable setup\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! at least 3 hosts).\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! **You don't need to list every sentinel host, but the ones not listed will\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####!   not be used in a fail-over situation to query for the new master.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_sentinels'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {'host' =\u0026gt; '127.0.0.1', 'port' =\u0026gt; 26379},\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Separate instances support\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html#running-with-multiple-redis-instances\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_cache_instance'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_cache_sentinels'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_queues_instance'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_queues_sentinels'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_shared_state_instance'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['redis_shared_sentinels'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### GitLab email server settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/smtp.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Use smtp instead of sendmail/postfix.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_address'] = \"smtp.server\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_port'] = 465\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_user_name'] = \"smtp user\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_password'] = \"smtp password\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_domain'] = \"example.com\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_authentication'] = \"login\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_enable_starttls_auto'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_tls'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Can be: 'none', 'peer', 'client_once', 'fail_if_no_peer_cert'**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: http://api.rubyonrails.org/classes/ActionMailer/Base.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_openssl_verify_mode'] = 'none'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_ca_path'] = \"/etc/ssl/certs\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['smtp_ca_file'] = \"/etc/ssl/certs/ca-certificates.crt\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Container Registry settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/container_registry.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry_external_url 'https://registry.gitlab.example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Settings used by GitLab application\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['registry_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['registry_host'] = \"registry.gitlab.example.com\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['registry_port'] = \"5005\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['registry_path'] = \"/var/opt/gitlab/gitlab-rails/shared/registry\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Do not change the following 3 settings unless you know what you are\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   doing**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['registry_api_url'] = \"http://localhost:5000\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['registry_key_path'] = \"/var/opt/gitlab/gitlab-rails/certificate.key\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['registry_issuer'] = \"omnibus-gitlab-issuer\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Settings used by Registry application\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['username'] = \"registry\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['group'] = \"registry\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['uid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['gid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['dir'] = \"/var/opt/gitlab/registry\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['registry_http_addr'] = \"localhost:5000\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['debug_addr'] = \"localhost:5001\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['log_directory'] = \"/var/log/gitlab/registry\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['env_directory'] = \"/opt/gitlab/etc/registry/env\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['log_level'] = \"info\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['log_formatter'] = \"text\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['rootcertbundle'] = \"/var/opt/gitlab/registry/certificate.crt\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['health_storagedriver_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['storage_delete_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['validation_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['autoredirect'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['compatibility_schema1_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Registry backend storage\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ce/administration/container_registry.html#container-registry-storage-driver\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['storage'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   's3' =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'accesskey' =\u0026gt; 'AKIAKIAKI',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'secretkey' =\u0026gt; 'secret123',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'bucket' =\u0026gt; 'gitlab-registry-bucket-AKIAKIAKI'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Registry notifications endpoints\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['notifications'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'name' =\u0026gt; 'test_endpoint',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'url' =\u0026gt; 'https://gitlab.example.com/notify2',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'timeout' =\u0026gt; '500ms',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'threshold' =\u0026gt; 5,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'backoff' =\u0026gt; '1s',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'headers' =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       \"Authorization\" =\u0026gt; [\"AUTHORIZATION_EXAMPLE_TOKEN\"]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Default registry notifications\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['default_notifications_timeout'] = \"500ms\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['default_notifications_threshold'] = 5\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['default_notifications_backoff'] = \"1s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry['default_notifications_headers'] = {}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Workhorse\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://gitlab.com/gitlab-org/gitlab-workhorse/blob/master/README.md\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['ha'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['listen_network'] = \"unix\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['listen_umask'] = 000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['listen_addr'] = \"/var/opt/gitlab/gitlab-workhorse/socket\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['auth_backend'] = \"http://localhost:8080\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! the empty string is the default in gitlab-workhorse option parser\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['auth_socket'] = \"''\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! put an empty string on the command line\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['pprof_listen_addr'] = \"''\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['prometheus_listen_addr'] = \"localhost:9229\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['dir'] = \"/var/opt/gitlab/gitlab-workhorse\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['log_directory'] = \"/var/log/gitlab/gitlab-workhorse\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['proxy_headers_timeout'] = \"1m0s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! limit number of concurrent API requests, defaults to 0 which is unlimited\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['api_limit'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! limit number of API requests allowed to be queued, defaults to 0 which\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! disables queuing\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['api_queue_limit'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! duration after which we timeout requests if they sit too long in the queue\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['api_queue_duration'] = \"30s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Long polling duration for job requesting for runners\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['api_ci_long_polling_duration'] = \"60s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Log format: default is text, can also be json or none.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['log_format'] = \"json\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['env_directory'] = \"/opt/gitlab/etc/gitlab-workhorse/env\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_workhorse['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'PATH' =\u0026gt; \"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab User Settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Modify default git user.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#changing-the-name-of-the-git-user-group\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['username'] = \"git\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['group'] = \"git\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['uid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['gid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! The shell for the git user\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['shell'] = \"/bin/sh\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! The home directory for the git user\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['home'] = \"/var/opt/gitlab\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['git_user_name'] = \"GitLab\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# user['git_user_email'] = \"gitlab@#{node['fqdn']}\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Unicorn\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Tweak unicorn settings.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/unicorn.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['worker_timeout'] = 60\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Minimum worker_processes is 2 at this moment\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! See https://gitlab.com/gitlab-org/gitlab-ce/issues/18771\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['worker_processes'] = 2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Advanced settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['listen'] = 'localhost'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['port'] = 8080\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['socket'] = '/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['pidfile'] = '/opt/gitlab/var/unicorn/unicorn.pid'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['tcp_nopush'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['backlog_socket'] = 1024\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Make sure somaxconn is equal or higher then backlog_socket**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['somaxconn'] = 1024\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **We do not recommend changing this setting**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['log_directory'] = \"/var/log/gitlab/unicorn\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### **Only change these settings if you understand well what they mean**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://about.gitlab.com/2015/06/05/how-gitlab-uses-unicorn-and-unicorn-worker-killer/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!       https://github.com/kzk/unicorn-worker-killer\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['worker_memory_limit_min'] = \"400 * 1 \u0026lt;\u0026lt; 20\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# unicorn['worker_memory_limit_max'] = \"650 * 1 \u0026lt;\u0026lt; 20\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Puma\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Tweak puma settings. You should only use Unicorn or Puma, not both.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/puma.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['ha'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['worker_timeout'] = 60\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['worker_processes'] = 2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['min_threads'] = 1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['max_threads'] = 16\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Advanced settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['listen'] = '127.0.0.1'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['port'] = 8080\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['socket'] = '/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['pidfile'] = '/opt/gitlab/var/puma/puma.pid'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['state_path'] = '/opt/gitlab/var/puma/puma.state'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **We do not recommend changing this setting**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['log_directory'] = \"/var/log/gitlab/puma\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### **Only change these settings if you understand well what they mean**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://github.com/schneems/puma_worker_killer\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# puma['per_worker_max_memory_mb'] = 650\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Sidekiq\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq['log_directory'] = \"/var/log/gitlab/sidekiq\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq['log_format'] = \"default\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq['shutdown_timeout'] = 4\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq['concurrency'] = 25\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq['metrics_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq['listen_address'] = \"localhost\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq['listen_port'] = 8082\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## gitlab-shell\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['audit_usernames'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['log_level'] = 'INFO'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['log_format'] = 'json'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['http_settings'] = { user: 'username', password: 'password', ca_file: '/etc/ssl/cert.pem', ca_path: '/etc/pki/tls/certs', self_signed_cert: false}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['log_directory'] = \"/var/log/gitlab/gitlab-shell/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['custom_hooks_dir'] = \"/opt/gitlab/embedded/service/gitlab-shell/hooks\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['auth_file'] = \"/var/opt/gitlab/.ssh/authorized_keys\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Git trace log file.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! If set, git commands receive GIT_TRACE* environment variables\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://git-scm.com/book/es/v2/Git-Internals-Environment-Variables#Debugging\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! An absolute path starting with / – the trace output will be appended to\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! that file. It needs to exist so we can check permissions and avoid\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! throwing warnings to the users.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['git_trace_log_file'] = \"/var/log/gitlab/gitlab-shell/gitlab-shell-git-trace.log\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **We do not recommend changing this directory.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_shell['dir'] = \"/var/opt/gitlab/gitlab-shell\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab PostgreSQL\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Changing any of these settings requires a restart of postgresql.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! By default, reconfigure reloads postgresql if it is running. If you\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! change any of these settings, be sure to run `gitlab-ctl restart postgresql`\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! after reconfigure in order for the changes to take effect.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['listen_address'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['port'] = 5432\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['data_dir'] = \"/var/opt/gitlab/postgresql/data\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **recommend value is 1/4 of total RAM, up to 14GB.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['shared_buffers'] = \"256MB\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Advanced settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['ha'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['dir'] = \"/var/opt/gitlab/postgresql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['log_directory'] = \"/var/log/gitlab/postgresql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['username'] = \"gitlab-psql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['group'] = \"gitlab-psql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! `SQL_USER_PASSWORD_HASH` can be generated using the command `gitlab-ctl pg-password-md5 gitlab`\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['sql_user_password'] = 'SQL_USER_PASSWORD_HASH'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['uid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['gid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['shell'] = \"/bin/sh\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['home'] = \"/var/opt/gitlab/postgresql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['user_path'] = \"/opt/gitlab/embedded/bin:/opt/gitlab/bin:$PATH\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['sql_user'] = \"gitlab\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_connections'] = 200\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['md5_auth_cidr_addresses'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['trust_auth_cidr_addresses'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['wal_buffers'] = \"-1\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_max_workers'] = \"3\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_freeze_max_age'] = \"200000000\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['log_statement'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['track_activity_query_size'] = \"1024\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['shared_preload_libraries'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['dynamic_shared_memory_type'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['hot_standby'] = \"off\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### SSL settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See https://www.postgresql.org/docs/9.6/static/runtime-config-connection.html#GUC-SSL-CERT-FILE for more details\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['ssl'] = 'on'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['ssl_ciphers'] = 'HIGH:MEDIUM:+3DES:!aNULL:!SSLv3:!TLSv1'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['ssl_cert_file'] = 'server.crt'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['ssl_key_file'] = 'server.key'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['ssl_ca_file'] = '/opt/gitlab/embedded/ssl/certs/cacert.pem'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['ssl_crl_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Replication settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Note, some replication settings do not require a full restart. They are documented below.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['wal_level'] = \"hot_standby\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_wal_senders'] = 5\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_replication_slots'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_locks_per_transaction'] = 128\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Backup/Archive settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['archive_mode'] = \"off\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Changing any of these settings only requires a reload of postgresql. You do not need to\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! restart postgresql if you change any of these and run reconfigure.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['work_mem'] = \"16MB\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['maintenance_work_mem'] = \"16MB\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['checkpoint_segments'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['checkpoint_timeout'] = \"5min\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['checkpoint_completion_target'] = 0.9\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['effective_io_concurrency'] = 1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['checkpoint_warning'] = \"30s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['effective_cache_size'] = \"1MB\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['shmmax'] =  17179869184 # or 4294967295\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['shmall'] =  4194304 # or 1048575\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum'] = \"on\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['log_autovacuum_min_duration'] = \"-1\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_naptime'] = \"1min\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_vacuum_threshold'] = \"50\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_analyze_threshold'] = \"50\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_vacuum_scale_factor'] = \"0.02\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_analyze_scale_factor'] = \"0.01\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_vacuum_cost_delay'] = \"20ms\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['autovacuum_vacuum_cost_limit'] = \"-1\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['statement_timeout'] = \"60000\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['idle_in_transaction_session_timeout'] = \"60000\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['log_line_prefix'] = \"%a\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_worker_processes'] = 8\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_parallel_workers_per_gather'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['log_lock_waits'] = 1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['deadlock_timeout'] = '5s'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['track_io_timing'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['default_statistics_target'] = 1000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Available in PostgreSQL 9.6 and later\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['min_wal_size'] = 80MB\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_wal_size'] = 1GB\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Backup/Archive settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['archive_command'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['archive_timeout'] = \"0\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Replication settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['sql_replication_user'] = \"gitlab_replicator\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['sql_replication_password'] = \"md5 hash of postgresql password\" # You can generate with `gitlab-ctl pg-password-md5 \u0026lt;dbuser\u0026gt;`\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['wal_keep_segments'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_standby_archive_delay'] = \"30s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['max_standby_streaming_delay'] = \"30s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['synchronous_commit'] = on\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['synchronous_standby_names'] = ''\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['hot_standby_feedback'] = 'off'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['random_page_cost'] = 2.0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['log_temp_files'] = -1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['log_checkpoints'] = 'off'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# To add custom entries to pg_hba.conf use the following\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['custom_pg_hba_entries'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   APPLICATION: [ # APPLICATION should identify what the settings are used for\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       type: example,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       database: example,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       user: example,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       cidr: example,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       method: example,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       option: example\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See https://www.postgresql.org/docs/9.6/static/auth-pg-hba-conf.html for an explanation\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# of the values\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Redis\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Can be disabled if you are using your own Redis instance.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['ha'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['hz'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['dir'] = \"/var/opt/gitlab/redis\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['log_directory'] = \"/var/log/gitlab/redis\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['username'] = \"gitlab-redis\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['group'] = \"gitlab-redis\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['maxclients'] = \"10000\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['maxmemory'] = \"0\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['maxmemory_policy'] = \"noeviction\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['maxmemory_samples'] = \"5\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['tcp_backlog'] = 511\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['tcp_timeout'] = \"60\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['tcp_keepalive'] = \"300\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['uid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['gid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **To enable only Redis service in this machine, uncomment\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   one of the lines below (choose master or slave instance types).**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!       https://docs.gitlab.com/ce/administration/high_availability/redis.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_master_role['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_slave_role['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Redis TCP support (will disable UNIX socket transport)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['bind'] = '0.0.0.0' # or specify an IP to bind to a single one\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['port'] = 6379\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['password'] = 'redis-password-goes-here'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Redis Sentinel support\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **You need a master slave Redis replication to be able to do failover**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! **Please read the documentation before enabling it to understand the\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###!   caveats:**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! Docs: https://docs.gitlab.com/ce/administration/high_availability/redis.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Replication support\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Slave Redis instance\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['master'] = false # by default this is true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Slave and Sentinel shared configuration\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! **Both need to point to the master Redis instance to get replication and\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####!   heartbeat monitoring**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['master_name'] = 'gitlab-redis'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['master_ip'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['master_port'] = 6379\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Support to run redis slaves in a Docker or NAT environment\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! Docs: https://redis.io/topics/replication#configuring-replication-in-docker-and-nat\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['announce_ip'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['announce_port'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! **Master password should have the same value defined in\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####!   redis['password'] to enable the instance to transition to/from\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####!   master/slave in a failover event.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['master_password'] = 'redis-password-goes-here'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e####! Increase these values when your slaves can't catch up with master\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['client_output_buffer_limit_normal'] = '0 0 0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['client_output_buffer_limit_slave'] = '256mb 64mb 60'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['client_output_buffer_limit_pubsub'] = '32mb 8mb 60'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#####! Redis snapshotting frequency\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#####! Set to [] to disable\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#####! Set to [''] to clear previously set values\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis['save'] = [ '900 1', '300 10', '60 10000' ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Web server\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#using-a-non-bundled-web-server\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! When bundled nginx is disabled we need to add the external webserver user to\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! the GitLab webserver group.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# web_server['external_users'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# web_server['username'] = 'gitlab-www'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# web_server['group'] = 'gitlab-www'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# web_server['uid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# web_server['gid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# web_server['shell'] = '/bin/false'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# web_server['home'] = '/var/opt/gitlab/nginx'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab NGINX\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['client_max_body_size'] = '250m'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['redirect_http_to_https'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['redirect_http_to_https_port'] = 80\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Most root CA's are included by default\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_client_certificate'] = \"/etc/gitlab/ssl/ca.crt\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! enable/disable 2-way SSL client authentication\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_verify_client'] = \"off\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! if ssl_verify_client on, verification depth in the client certificates chain\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_verify_depth'] = \"1\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_certificate'] = \"/etc/gitlab/ssl/#{node['fqdn']}.crt\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_certificate_key'] = \"/etc/gitlab/ssl/#{node['fqdn']}.key\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_ciphers'] = \"ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_prefer_server_ciphers'] = \"on\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Recommended by: https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!                   https://cipherli.st/**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_protocols'] = \"TLSv1.1 TLSv1.2\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Recommended in: https://nginx.org/en/docs/http/ngx_http_ssl_module.html**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_session_cache'] = \"builtin:1000  shared:SSL:10m\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Default according to https://nginx.org/en/docs/http/ngx_http_ssl_module.html**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_session_timeout'] = \"5m\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['ssl_dhparam'] = nil # Path to dhparams.pem, eg. /etc/gitlab/ssl/dhparams.pem\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['listen_addresses'] = ['*', '[::]']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Defaults to forcing web browsers to always communicate using only HTTPS**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#setting-http-strict-transport-security\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['hsts_max_age'] = 31536000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['hsts_include_subdomains'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Docs: http://nginx.org/en/docs/http/ngx_http_gzip_module.html**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['gzip_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Override only if you use a reverse proxy**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#setting-the-nginx-listen-port\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['listen_port'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Override only if your reverse proxy internally communicates over HTTP**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#supporting-proxied-ssl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['listen_https'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['custom_gitlab_server_config'] = \"location ^~ /foo-namespace/bar-project/raw/ {\\n deny all;\\n}\\n\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['custom_nginx_config'] = \"include /etc/nginx/conf.d/example.conf;\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['proxy_read_timeout'] = 3600\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['proxy_connect_timeout'] = 300\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['proxy_set_headers'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"Host\" =\u0026gt; \"$http_host_with_default\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Real-IP\" =\u0026gt; \"$remote_addr\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Forwarded-For\" =\u0026gt; \"$proxy_add_x_forwarded_for\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Forwarded-Proto\" =\u0026gt; \"https\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Forwarded-Ssl\" =\u0026gt; \"on\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"Upgrade\" =\u0026gt; \"$http_upgrade\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"Connection\" =\u0026gt; \"$connection_upgrade\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['proxy_cache_path'] = 'proxy_cache keys_zone=gitlab:10m max_size=1g levels=1:2'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['proxy_cache'] = 'gitlab'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['http2_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['real_ip_trusted_addresses'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['real_ip_header'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['real_ip_recursive'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['custom_error_pages'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   '404' =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'title' =\u0026gt; 'Example title',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'header' =\u0026gt; 'Example header',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'message' =\u0026gt; 'Example message'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Advanced settings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['dir'] = \"/var/opt/gitlab/nginx\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['log_directory'] = \"/var/log/gitlab/nginx\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['worker_processes'] = 4\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['worker_connections'] = 10240\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['log_format'] = '$remote_addr - $remote_user [$time_local] \"$request\" $status $body_bytes_sent \"$http_referer\" \"$http_user_agent\"'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['sendfile'] = 'on'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['tcp_nopush'] = 'on'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['tcp_nodelay'] = 'on'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['gzip'] = \"on\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['gzip_http_version'] = \"1.0\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['gzip_comp_level'] = \"2\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['gzip_proxied'] = \"any\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['gzip_types'] = [ \"text/plain\", \"text/css\", \"application/x-javascript\", \"text/xml\", \"application/xml\", \"application/xml+rss\", \"text/javascript\", \"application/json\" ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['keepalive_timeout'] = 65\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['cache_max_size'] = '5000m'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['server_names_hash_bucket_size'] = 64\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! These paths have proxy_request_buffering disabled\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['request_buffering_off_path_regex'] = \"\\.git/git-receive-pack$|\\.git/info/refs?service=git-receive-pack$|\\.git/gitlab-lfs/objects|\\.git/info/lfs/objects/batch$\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Nginx status\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# nginx['status'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"enable\" =\u0026gt; true,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"listen_addresses\" =\u0026gt; [\"127.0.0.1\"],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"fqdn\" =\u0026gt; \"dev.example.com\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"port\" =\u0026gt; 9999,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"vts_enable\" =\u0026gt; true,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"options\" =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#    \"stub_status\" =\u0026gt; \"on\", # Turn on stats\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#    \"server_tokens\" =\u0026gt; \"off\", # Don't show the version of NGINX\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#    \"access_log\" =\u0026gt; \"off\", # Disable logs for stats\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#    \"allow\" =\u0026gt; \"127.0.0.1\", # Only allow access from localhost\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#    \"deny\" =\u0026gt; \"all\" # Deny access to anyone else\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Logging\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/logs.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['svlogd_size'] = 200 * 1024 * 1024 # rotate after 200 MB of log data\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['svlogd_num'] = 30 # keep 30 rotated log files\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['svlogd_timeout'] = 24 * 60 * 60 # rotate after 24 hours\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['svlogd_filter'] = \"gzip\" # compress logs with gzip\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['svlogd_udp'] = nil # transmit log messages via UDP\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['svlogd_prefix'] = nil # custom prefix for log messages\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['logrotate_frequency'] = \"daily\" # rotate logs daily\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['logrotate_size'] = nil # do not rotate by size by default\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['logrotate_rotate'] = 30 # keep 30 rotated logs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['logrotate_compress'] = \"compress\" # see 'man logrotate'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['logrotate_method'] = \"copytruncate\" # see 'man logrotate'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['logrotate_postrotate'] = nil # no postrotate command by default\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['logrotate_dateformat'] = nil # use date extensions for rotated files rather than numbers e.g. a value of \"-%Y-%m-%d\" would give rotated files like production.log-2016-03-09.gz\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### UDP log forwarding\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: http://docs.gitlab.com/omnibus/settings/logs.html#udp-log-forwarding\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! remote host to ship log messages to via UDP\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['udp_log_shipping_host'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! override the hostname used when logs are shipped via UDP,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##  by default the system hostname will be used.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['udp_log_shipping_hostname'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! remote port to ship log messages to via UDP\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logging['udp_log_shipping_port'] = 514\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Logrotate\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/logs.html#logrotate\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! You can disable built in logrotate feature.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# logrotate['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Users and groups accounts\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Disable management of users and groups accounts.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Set only if creating accounts manually**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#disable-user-and-group-account-management\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# manage_accounts['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Storage directories\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Disable managing storage directories\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#disable-storage-directories-management\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Set only if the select directories are created manually**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# manage_storage_directories['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# manage_storage_directories['manage_etc'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Runtime directory\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com//omnibus/settings/configuration.html#configuring-runtime-directory\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# runtime_dir '/run'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Git\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Advanced setting for configuring git system settings for omnibus-gitlab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! internal git\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! For multiple options under one header use array of comma separated values,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! eg.:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! { \"receive\" =\u0026gt; [\"fsckObjects = true\"], \"alias\" =\u0026gt; [\"st = status\", \"co = checkout\"] }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# omnibus_gitconfig['system'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"pack\" =\u0026gt; [\"threads = 1\"],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"receive\" =\u0026gt; [\"fsckObjects = true\", \"advertisePushOptions = true\"],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"repack\" =\u0026gt; [\"writeBitmaps = true\"],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"transfer\" =\u0026gt; [\"hideRefs=^refs/tmp/\", \"hideRefs=^refs/keep-around/\", \"hideRefs=^refs/remotes/\"],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Pages\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/pages/administration.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Define to enable GitLab Pages\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pages_external_url \"http://pages.example.com/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Configure to expose GitLab Pages on external IP address, serving the HTTP\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['external_http'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Configure to expose GitLab Pages on external IP address, serving the HTTPS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['external_https'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Configure to enable health check endpoint on GitLab Pages\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['status_uri'] = \"/@status\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Tune the maximum number of concurrent connections GitLab Pages will handle.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! This should be in the range 1 - 10000, defaulting to 5000.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['max_connections'] = 5000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Configure to use JSON structured logging in GitLab Pages\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['log_format'] = \"json\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Configure verbose logging for GitLab Pages\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['log_verbose'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Listen for requests forwarded by reverse proxy\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['listen_proxy'] = \"localhost:8090\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['redirect_http'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['use_http2'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['dir'] = \"/var/opt/gitlab/gitlab-pages\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['log_directory'] = \"/var/log/gitlab/gitlab-pages\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['artifacts_server'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['artifacts_server_url'] = nil # Defaults to external_url + '/api/v4'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['artifacts_server_timeout'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Environments that do not support bind-mounting should set this parameter to\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! true. This is incompatible with the artifacts server\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['inplace_chroot'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Prometheus metrics for Pages docs: https://gitlab.com/gitlab-org/gitlab-pages/#enable-prometheus-metrics\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['metrics_address'] = \":9235\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Configure the pages admin API\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['admin_secret_token'] = 'custom secret'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['admin_https_listener'] = '0.0.0.0:5678'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['admin_https_cert'] = '/etc/gitlab/pages-admin.crt'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['admin_https_key'] = '/etc/gitlab/pages-admin.key'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Client side configuration for gitlab-pages admin API, in case pages runs on a different host\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pages_admin_address'] = 'pages.gitlab.example.com:5678'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pages_admin_certificate'] = '/etc/gitlab/pages-admin.crt'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Pages access control\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['access_control'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['gitlab_id'] = nil # Automatically generated if not present\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['gitlab_secret'] = nil # Generated if not present\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['auth_redirect_uri'] = nil # Defaults to projects subdomain of pages_external_url and + '/auth'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['auth_server'] = nil # Defaults to external_url\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_pages['auth_secret'] = nil # Generated if not present\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Pages NGINX\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# All the settings defined in the \"GitLab Nginx\" section are also available in\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# this \"GitLab Pages NGINX\" section, using the key `pages_nginx`.  However,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# those settings should be explicitly set. That is, settings given as\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# `nginx['some_setting']` WILL NOT be automatically replicated as\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# `pages_nginx['some_setting']` and should be set separately.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Below you can find settings that are exclusive to \"GitLab Pages NGINX\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pages_nginx['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pages_path'] = \"/var/opt/gitlab/gitlab-rails/shared/pages\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab CI\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/ci/quick_start/README.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_ci['gitlab_ci_all_broken_builds'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_ci['gitlab_ci_add_pusher'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_ci['builds_directory'] = '/var/opt/gitlab/gitlab-ci/builds'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Mattermost\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/omnibus/gitlab-mattermost\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost_external_url 'http://mattermost.example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['username'] = 'mattermost'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['group'] = 'mattermost'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['uid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['home'] = '/var/opt/gitlab/mattermost'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['database_name'] = 'mattermost_production'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['service_address'] = \"127.0.0.1\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['service_port'] = \"8065\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['service_site_url'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['service_allowed_untrusted_internal_connections'] = \"\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['service_enable_api_team_deletion'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['team_site_name'] = \"GitLab Mattermost\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['sql_driver_name'] = 'mysql'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['sql_data_source'] = \"mmuser:mostest@tcp(dockerhost:3306)/mattermost_test?charset=utf8mb4,utf8\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['log_file_directory'] = '/var/log/gitlab/mattermost/'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gitlab_enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gitlab_id'] = \"12345656\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gitlab_secret'] = \"123456789\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gitlab_scope'] = \"\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gitlab_auth_endpoint'] = \"http://gitlab.example.com/oauth/authorize\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gitlab_token_endpoint'] = \"http://gitlab.example.com/oauth/token\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['gitlab_user_api_endpoint'] = \"http://gitlab.example.com/api/v4/user\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['file_directory'] = \"/var/opt/gitlab/mattermost/data\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['plugin_directory'] = \"/var/opt/gitlab/mattermost/plugins\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost['plugin_client_directory'] = \"/var/opt/gitlab/mattermost/client-plugins\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Mattermost NGINX\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# All the settings defined in the \"GitLab Nginx\" section are also available in\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# this \"Mattermost NGINX\" section, using the key `mattermost_nginx`.  However,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# those settings should be explicitly set. That is, settings given as\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# `nginx['some_setting']` WILL NOT be automatically replicated as\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# `mattermost_nginx['some_setting']` and should be set separately.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Below you can find settings that are exclusive to \"Mattermost NGINX\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost_nginx['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost_nginx['custom_gitlab_mattermost_server_config'] = \"location ^~ /foo-namespace/bar-project/raw/ {\\n deny all;\\n}\\n\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# mattermost_nginx['proxy_set_headers'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"Host\" =\u0026gt; \"$http_host\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"X-Real-IP\" =\u0026gt; \"$remote_addr\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"X-Forwarded-For\" =\u0026gt; \"$proxy_add_x_forwarded_for\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"X-Frame-Options\" =\u0026gt; \"SAMEORIGIN\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"X-Forwarded-Proto\" =\u0026gt; \"https\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"X-Forwarded-Ssl\" =\u0026gt; \"on\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"Upgrade\" =\u0026gt; \"$http_upgrade\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"Connection\" =\u0026gt; \"$connection_upgrade\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Registry NGINX\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# All the settings defined in the \"GitLab Nginx\" section are also available in\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# this \"Registry NGINX\" section, using the key `registry_nginx`.  However, those\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# settings should be explicitly set. That is, settings given as\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# `nginx['some_setting']` WILL NOT be automatically replicated as\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# `registry_nginx['some_setting']` and should be set separately.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Below you can find settings that are exclusive to \"Registry NGINX\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry_nginx['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# registry_nginx['proxy_set_headers'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"Host\" =\u0026gt; \"$http_host\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Real-IP\" =\u0026gt; \"$remote_addr\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Forwarded-For\" =\u0026gt; \"$proxy_add_x_forwarded_for\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Forwarded-Proto\" =\u0026gt; \"https\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  \"X-Forwarded-Ssl\" =\u0026gt; \"on\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Prometheus\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['monitor_kubernetes'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['username'] = 'gitlab-prometheus'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['group'] = 'gitlab-prometheus'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['uid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['gid'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['shell'] = '/bin/sh'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['home'] = '/var/opt/gitlab/prometheus'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['log_directory'] = '/var/log/gitlab/prometheus'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['rules_files'] = ['/var/opt/gitlab/prometheus/rules/*.rules']\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['scrape_interval'] = 15\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['scrape_timeout'] = 15\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['chunk_encoding_version'] = 2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['env_directory'] = '/opt/gitlab/etc/prometheus/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Custom scrape configs\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Prometheus can scrape additional jobs via scrape_configs.  The default automatically\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# includes all of the exporters supported by the omnibus config.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See: https://prometheus.io/docs/operating/configuration/#\u0026lt;scrape_config\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Example:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['scrape_configs'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'job_name': 'example',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'static_configs' =\u0026gt; [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       'targets' =\u0026gt; ['hostname:port'],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     ],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   },\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Prometheus Memory Management\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Prometheus needs to be configured for how much memory is used.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# * This sets the target heap size.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# * This value accounts for approximately 2/3 of the memory used by the server.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# * The recommended memory is 4kb per unique metrics time-series.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See: https://prometheus.io/docs/operating/storage/#memory-usage\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['target_heap_size'] = (\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # Use 25mb + 2% of total memory for Prometheus memory.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   26_214_400 + (node['memory']['total'].to_i * 1024 * 0.02 )\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ).to_i\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['flags'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'storage.local.path' =\u0026gt; \"#{node['gitlab']['prometheus']['home']}/data\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'storage.local.chunk-encoding-version' =\u0026gt; user_config['chunk-encoding-version'],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'storage.local.target-heap-size' =\u0026gt; node['gitlab']['prometheus']['target-heap-size'],\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'config.file' =\u0026gt; \"#{node['gitlab']['prometheus']['home']}/prometheus.yml\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Advanced settings. Should be changed only if absolutely needed.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus['listen_address'] = 'localhost:9090'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Prometheus Alertmanager\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/alertmanager.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['home'] = '/var/opt/gitlab/alertmanager'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['log_directory'] = '/var/log/gitlab/alertmanager'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['admin_email'] = 'admin@example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['flags'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'web.listen-address' =\u0026gt; \"#{node['gitlab']['alertmanager']['listen_address']}\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'storage.path' =\u0026gt; \"#{node['gitlab']['alertmanager']['home']}/data\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'config.file' =\u0026gt; \"#{node['gitlab']['alertmanager']['home']}/alertmanager.yml\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['env_directory'] = '/opt/gitlab/etc/alertmanager/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Advanced settings. Should be changed only if absolutely needed.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# alertmanager['listen_address'] = 'localhost:9093'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Prometheus Node Exporter\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/node_exporter.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# node_exporter['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# node_exporter['home'] = '/var/opt/gitlab/node-exporter'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# node_exporter['log_directory'] = '/var/log/gitlab/node-exporter'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# node_exporter['flags'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'collector.textfile.directory' =\u0026gt; \"#{node['gitlab']['node-exporter']['home']}/textfile_collector\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# node_exporter['env_directory'] = '/opt/gitlab/etc/node-exporter/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# node_exporter['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Advanced settings. Should be changed only if absolutely needed.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# node_exporter['listen_address'] = 'localhost:9100'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Prometheus Redis exporter\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/redis_exporter.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_exporter['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_exporter['log_directory'] = '/var/log/gitlab/redis-exporter'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_exporter['flags'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'redis.addr' =\u0026gt; \"unix://#{node['gitlab']['gitlab-rails']['redis_socket']}\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_exporter['env_directory'] = '/opt/gitlab/etc/redis-exporter/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_exporter['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Advanced settings. Should be changed only if absolutely needed.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_exporter['listen_address'] = 'localhost:9121'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Prometheus Postgres exporter\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/postgres_exporter.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgres_exporter['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgres_exporter['home'] = '/var/opt/gitlab/postgres-exporter'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgres_exporter['log_directory'] = '/var/log/gitlab/postgres-exporter'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgres_exporter['flags'] = {}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgres_exporter['listen_address'] = 'localhost:9187'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgres_exporter['env_directory'] = '/opt/gitlab/etc/postgres-exporter/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgres_exporter['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Prometheus PgBouncer exporter (EE only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ee/administration/monitoring/prometheus/pgbouncer_exporter.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer_exporter['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer_exporter['log_directory'] = \"/var/log/gitlab/pgbouncer-exporter\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer_exporter['listen_address'] = 'localhost:9188'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer_exporter['env_directory'] = '/opt/gitlab/etc/pgbouncer-exporter/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer_exporter['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Prometheus Gitlab monitor\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/gitlab_monitor_exporter.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_monitor['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_monitor['log_directory'] = \"/var/log/gitlab/gitlab-monitor\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_monitor['home'] = \"/var/opt/gitlab/gitlab-monitor\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Advanced settings. Should be changed only if absolutely needed.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_monitor['listen_address'] = 'localhost'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_monitor['listen_port'] = '9168'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Manage gitlab-monitor sidekiq probes. false by default when Sentinels are\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! found.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_monitor['probe_sidekiq'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# To completely disable prometheus, and all of it's exporters, set to false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# prometheus_monitoring['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Gitaly\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# The gitaly['enable'] option exists for the purpose of cluster\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# deployments, see https://docs.gitlab.com/ee/administration/gitaly/index.html .\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['dir'] = \"/var/opt/gitlab/gitaly\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['log_directory'] = \"/var/log/gitlab/gitaly\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['bin_path'] = \"/opt/gitlab/embedded/bin/gitaly\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['env_directory'] = \"/opt/gitlab/etc/gitaly/env\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  'PATH' =\u0026gt; \"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#  'HOME' =\u0026gt; '/var/opt/gitlab'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003cspan class=\"com\"\u003e }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['socket_path'] = \"/var/opt/gitlab/gitaly/gitaly.socket\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['listen_addr'] = \"localhost:8075\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['tls_listen_addr] = \"localhost:9075\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['certificate_path'] = \"/var/opt/gitlab/gitaly/certificate.pem'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['key_path'] = \"/var/opt/gitlab/gitaly/key.pem\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['prometheus_listen_addr'] = \"localhost:9236\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['logging_level'] = \"warn\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['logging_format'] = \"json\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['logging_sentry_dsn'] = \"https://\u0026lt;key\u0026gt;:\u0026lt;secret\u0026gt;@sentry.io/\u0026lt;project\u0026gt;\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['logging_ruby_sentry_dsn'] = \"https://\u0026lt;key\u0026gt;:\u0026lt;secret\u0026gt;@sentry.io/\u0026lt;project\u0026gt;\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['prometheus_grpc_latency_buckets'] = \"[0.001, 0.005, 0.025, 0.1, 0.5, 1.0, 10.0, 30.0, 60.0, 300.0, 1500.0]\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['auth_token'] = '\u0026lt;secret\u0026gt;'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['auth_transitioning'] = false # When true, auth is logged to Prometheus but NOT enforced\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['ruby_max_rss'] = 300000000 # RSS threshold in bytes for triggering a gitaly-ruby restart\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['ruby_graceful_restart_timeout'] = '10m' # Grace time for a gitaly-ruby process to finish ongoing requests\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['ruby_restart_delay'] = '5m' # Period of sustained high RSS that needs to be observed before restarting gitaly-ruby\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['ruby_num_workers'] = 3 # Number of gitaly-ruby worker processes. Minimum 2, default 2.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['storage'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'name' =\u0026gt; 'default',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'path' =\u0026gt; '/mnt/nfs-01/git-data/repositories'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   },\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'name' =\u0026gt; 'secondary',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'path' =\u0026gt; '/mnt/nfs-02/git-data/repositories'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitaly['concurrency'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'rpc' =\u0026gt; \"/gitaly.SmartHTTPService/PostReceivePack\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'max_per_repo' =\u0026gt; 20\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }, {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'rpc' =\u0026gt; \"/gitaly.SSHService/SSHUploadPack\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'max_per_repo' =\u0026gt; 5\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Storage check\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# storage_check['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# storage_check['target'] = 'unix:///var/opt/gitlab/gitlab-rails/sockets/gitlab.socket'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# storage_check['log_directory'] = '/var/log/gitlab/storage-check'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Let's Encrypt integration\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['enable'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['contact_emails'] = [] # This should be an array of email addresses to add as contacts\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['group'] = 'root'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['key_size'] = 2048\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['owner'] = 'root'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['wwwroot'] = '/var/opt/gitlab/nginx/www'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See http://docs.gitlab.com/omnibus/settings/ssl.html#automatic-renewal for more on these sesttings\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['auto_renew'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['auto_renew_hour'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['auto_renew_minute'] = nil # Should be a number or cron expression, if specified.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# letsencrypt['auto_renew_day_of_month'] = \"*/4\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##                  Configuration Settings for GitLab EE only                 ##\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Auxiliary cron jobs applicable to GitLab EE only\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['geo_file_download_dispatch_worker_cron'] = \"*/10 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['geo_repository_sync_worker_cron'] = \"*/5 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['geo_prune_event_log_worker_cron'] = \"*/5 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['geo_repository_verification_primary_batch_worker_cron'] = \"*/5 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['geo_repository_verification_secondary_scheduler_worker_cron'] = \"*/5 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['geo_migrated_local_files_clean_up_worker_cron'] = \"15 */6 * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['ldap_sync_worker_cron'] = \"30 1 * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['ldap_group_sync_worker_cron'] = \"0 * * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['historical_data_worker_cron'] = \"0 12 * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['pseudonymizer_worker_cron'] = \"0 23 * * *\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Kerberos (EE Only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ee/integration/kerberos.html#http-git-access\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['kerberos_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['kerberos_keytab'] = /etc/http.keytab\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['kerberos_service_principal_name'] = HTTP/gitlab.example.com@EXAMPLE.COM\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['kerberos_use_dedicated_port'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['kerberos_port'] = 8443\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['kerberos_https'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Package repository (EE Only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ee/administration/maven_packages.md\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_enabled'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/packages\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_object_store_enabled'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_object_store_direct_upload'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_object_store_background_upload'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_object_store_proxy_download'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_object_store_remote_directory'] = \"packages\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['packages_object_store_connection'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'provider' =\u0026gt; 'AWS',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'region' =\u0026gt; 'eu-west-1',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_access_key_id' =\u0026gt; 'AWS_ACCESS_KEY_ID',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'aws_secret_access_key' =\u0026gt; 'AWS_SECRET_ACCESS_KEY',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # # The below options configure an S3 compatible host instead of AWS\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'host' =\u0026gt; 's3.amazonaws.com',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'aws_signature_version' =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'endpoint' =\u0026gt; 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   # 'path_style' =\u0026gt; false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Sentinel (EE Only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: http://docs.gitlab.com/ce/administration/high_availability/redis.html#high-availability-with-sentinel\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Make sure you configured all redis['master_*'] keys above before\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   continuing.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! To enable Sentinel and disable all other services in this machine,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! uncomment the line below (if you've enabled Redis role, it will keep it).\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ce/administration/high_availability/redis.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# redis_sentinel_role['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Bind to all interfaces, uncomment to specify an IP and bind to a single one\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['bind'] = '0.0.0.0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Uncomment to change default port\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['port'] = 26379\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#### Support to run sentinels in a Docker or NAT environment\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#####! Docs: https://redis.io/topics/sentinel#sentinel-docker-nat-and-possible-issues\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# In an standard case, Sentinel will run in the same network service as Redis, so the same IP will be announce for Redis and Sentinel\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Only define these values if it is needed to announce for Sentinel a differen IP service than Redis\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['announce_ip'] = nil # If not defined, its value will be taken from redis['announce_ip'] or nil if not present\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['announce_port'] = nil # If not defined, its value will be taken from sentinel['port'] or nil if redis['announce_ip'] not present\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Quorum must reflect the amount of voting sentinels it take to start a\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! failover.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! **Value must NOT be greater then the amount of sentinels.**\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! The quorum can be used to tune Sentinel in two ways:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! 1. If a the quorum is set to a value smaller than the majority of Sentinels\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!    we deploy, we are basically making Sentinel more sensible to master\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!    failures, triggering a failover as soon as even just a minority of\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!    Sentinels is no longer able to talk with the master.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! 2. If a quorum is set to a value greater than the majority of Sentinels, we\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!    are making Sentinel able to failover only when there are a very large\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!    number (larger than majority) of well connected Sentinels which agree\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!    about the master being down.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['quorum'] = 1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Consider unresponsive server down after x amount of ms.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['down_after_milliseconds'] = 10000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e### Specifies the failover timeout in milliseconds.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! It is used in many ways:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! - The time needed to re-start a failover after a previous failover was\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   already tried against the same master by a given Sentinel, is two\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   times the failover timeout.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! - The time needed for a slave replicating to a wrong master according\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   to a Sentinel current configuration, to be forced to replicate\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   with the right master, is exactly the failover timeout (counting since\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   the moment a Sentinel detected the misconfiguration).\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! - The time needed to cancel a failover that is already in progress but\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   did not produced any configuration change (SLAVEOF NO ONE yet not\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   acknowledged by the promoted slave).\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! - The maximum time a failover in progress waits for all the slaves to be\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   reconfigured as slaves of the new master. However even after this time\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   the slaves will be reconfigured by the Sentinels anyway, but not with\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##!   the exact parallel-syncs progression as specified.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sentinel['failover_timeout'] = 60000\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Sidekiq Cluster (EE only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! GitLab Enterprise Edition allows one to start an extra set of Sidekiq processes\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! besides the default one. These processes can be used to consume a dedicated set\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! of queues. This can be used to ensure certain queues always have dedicated\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! workers, no matter the amount of jobs that need to be processed.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq_cluster['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq_cluster['ha'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq_cluster['log_directory'] = \"/var/log/gitlab/sidekiq-cluster\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq_cluster['interval'] = 5 # The number of seconds to wait between worker checks\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq_cluster['max_concurrency'] = 50 # The maximum number of threads each Sidekiq process should run\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Each entry in the queue_groups array denotes a group of queues that have to be processed by a\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Sidekiq process. Multiple queues can be processed by the same process by\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! separating them with a comma within the group entry\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq_cluster['queue_groups'] = [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"process_commit,post_receive\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   \"gitlab_shell\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! If negate is enabled then sidekiq-cluster will process all the queues that\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! don't match those in queue_groups.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# sidekiq_cluster['negate'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Additional Database Settings (EE only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ee/administration/database_load_balancing.html\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# gitlab_rails['db_load_balancing'] = { 'hosts' =\u0026gt; ['secondary1.example.com'] }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Geo\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e##! Docs: https://docs.gitlab.com/ee/gitlab-geo\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_primary_role['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary_role['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Geo Secondary (EE only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['auto_migrate'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_adapter'] = \"postgresql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_encoding'] = \"unicode\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_collation'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_database'] = \"gitlabhq_geo_production\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_pool'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_username'] = \"gitlab_geo\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_password'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_host'] = \"/var/opt/gitlab/geo-postgresql\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_port'] = 5431\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_socket'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_sslmode'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_sslcompression'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_sslrootcert'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_sslca'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_secondary['db_fdw'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## GitLab Geo Secondary Tracking Database (EE only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_postgresql['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_postgresql['ha'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_postgresql['dir'] = '/var/opt/gitlab/geo-postgresql'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_postgresql['data_dir'] = '/var/opt/gitlab/geo-postgresql/data'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_postgresql['pgbouncer_user'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# geo_postgresql['pgbouncer_user_password'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Pgbouncer (EE only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See [GitLab PgBouncer documentation](http://docs.gitlab.com/omnibus/settings/database.html#enabling-pgbouncer-ee-only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# See the [PgBouncer page](https://pgbouncer.github.io/config.html) for details\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['log_directory'] = '/var/log/gitlab/pgbouncer'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['data_directory'] = '/var/opt/gitlab/pgbouncer'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['env_directory'] = '/opt/gitlab/etc/pgbouncer/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['listen_addr'] = '0.0.0.0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['listen_port'] = '6432'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['pool_mode'] = 'transaction'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_reset_query'] = 'DISCARD ALL'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['application_name_add_host'] = '1'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['max_client_conn'] = '2048'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['default_pool_size'] = '100'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['min_pool_size'] = '0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['reserve_pool_size'] = '5'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['reserve_pool_timeout'] = '5.0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_round_robin'] = '0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['log_connections'] = '0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_idle_timeout'] = '30'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['dns_max_ttl'] = '15.0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['dns_zone_check_period'] = '0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['dns_nxdomain_ttl'] = '15.0'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['admin_users'] = %w(gitlab-psql postgres pgbouncer)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['stats_users'] = %w(gitlab-psql postgres pgbouncer)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['ignore_startup_parameters'] = 'extra_float_digits'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['databases'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   DATABASE_NAME: {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     host: HOSTNAME,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     port: PORT\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     user: USERNAME,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     password: PASSWORD\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e###! generate this with `echo -n '$password + $username' | md5sum`\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   ...\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['logfile'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['unix_socket_dir'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['unix_socket_mode'] = '0777'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['unix_socket_group'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['auth_type'] = 'md5'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['auth_hba_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['auth_query'] = 'SELECT username, password FROM public.pg_shadow_lookup($1)'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['users'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     name: USERNAME,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     password: MD5_PASSWORD_HASH\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['pgbouncer_user'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# postgresql['pgbouncer_user_password'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_reset_query_always'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_check_query'] = 'select 1'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_check_delay'] = 30\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['max_db_connections'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['max_user_connections'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['syslog'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['syslog_facility'] = 'daemon'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['syslog_ident'] = 'pgbouncer'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['log_disconnections'] = 1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['log_pooler_errors'] = 1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['stats_period'] = 60\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['verbose'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_lifetime'] = 3600\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_connect_timeout'] = 15\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_login_retry'] = 15\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['query_timeout'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['query_wait_timeout'] = 120\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_idle_timeout'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_login_timeout'] = 60\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['autodb_idle_timeout'] = 3600\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['suspend_timeout'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['idle_transaction_timeout'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['pkt_buf'] = 4096\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['listen_backlog'] = 128\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['sbuf_loopcnt'] = 5\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['max_packet_size'] = 2147483647\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['tcp_defer_accept'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['tcp_socket_buffer'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['tcp_keepalive'] = 1\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['tcp_keepcnt'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['tcp_keepidle'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['tcp_keepintvl'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['disable_pqexec'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Pgbouncer client TLS options\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_tls_sslmode'] = 'disable'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_tls_ca_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_tls_key_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_tls_cert_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_tls_protocols'] = 'all'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_tls_dheparams'] = 'auto'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['client_tls_ecdhcurve'] = 'auto'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e## Pgbouncer server  TLS options\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_tls_sslmode'] = 'disable'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_tls_ca_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_tls_key_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_tls_cert_file'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_tls_protocols'] = 'all'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# pgbouncer['server_tls_ciphers'] = 'fast'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Repmgr (EE only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['cluster'] = 'gitlab_cluster'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['database'] = 'gitlab_repmgr'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['host'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['node_number'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['port'] = 5432\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['trust_auth_cidr_addresses'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['user'] = 'gitlab_repmgr'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['sslmode'] = 'prefer'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['sslcompression'] = 0\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['failover'] = 'automatic'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['log_directory'] = '/var/log/gitlab/repmgrd'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['node_name'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['pg_bindir'] = '/opt/gitlab/embedded/bin'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['service_start_command'] = '/opt/gitlab/bin/gitlab-ctl start postgresql'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['service_stop_command'] = '/opt/gitlab/bin/gitlab-ctl stop postgresql'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['service_reload_command'] = '/opt/gitlab/bin/gitlab-ctl hup postgresql'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['service_restart_command'] = '/opt/gitlab/bin/gitlab-ctl restart postgresql'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['service_promote_command'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['promote_command'] = '/opt/gitlab/embedded/bin/repmgr standby promote -f /var/opt/gitlab/postgresql/repmgr.conf'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['follow_command'] = '/opt/gitlab/embedded/bin/repmgr standby follow -f /var/opt/gitlab/postgresql/repmgr.conf'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['upstream_node'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['use_replication_slots'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['loglevel'] = 'INFO'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['logfacility'] = 'STDERR'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['logfile'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['event_notification_command'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['event_notifications'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['rsync_options'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['ssh_options'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['priority'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# HA setting to specify if a node should attempt to be master on initialization\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['master_on_initialization'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['retry_promote_interval_secs'] = 300\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['witness_repl_nodes_sync_interval_secs'] = 15\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['reconnect_attempts'] = 6\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['reconnect_interval'] = 10\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['monitor_interval_secs'] = 2\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['master_response_timeout'] = 60\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgr['daemon'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# repmgrd['enable'] = true\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Consul (EEP only)\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e################################################################################\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['enable'] = false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['dir'] = '/var/opt/gitlab/consul'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['user'] = 'gitlab-consul'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['group'] = 'gitlab-consul'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['config_file'] = '/var/opt/gitlab/consul/config.json'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['config_dir'] = '/var/opt/gitlab/consul/config.d'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['data_dir'] = '/var/opt/gitlab/consul/data'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['log_directory'] = '/var/log/gitlab/consul'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['env_directory'] = '/opt/gitlab/etc/consul/env'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['env'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'SSL_CERT_DIR' =\u0026gt; \"/opt/gitlab/embedded/ssl/certs/\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['node_name'] = nil\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['script_directory'] = '/var/opt/gitlab/consul/scripts'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['configuration'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'client_addr' =\u0026gt; nil,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'datacenter' =\u0026gt; 'gitlab_consul',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'enable_script_checks' =\u0026gt; true,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'server' =\u0026gt; false\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['services'] = []\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['service_config'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'postgresql' =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     'service' =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       'name' =\u0026gt; \"postgresql\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       'address' =\u0026gt; '',\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       'port' =\u0026gt; 5432,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       'checks' =\u0026gt; [\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#         {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#           'script' =\u0026gt; \"/var/opt/gitlab/consul/scripts/check_postgresql\",\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#           'interval' =\u0026gt; \"10s\"\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#         }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#       ]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# consul['watchers'] = {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   'postgresql' =\u0026gt; {\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     enable: false,\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#     handler: 'failover_pgbouncer'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e#   }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# }\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"可能出现的问题：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可能出现的问题：\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在GitLab安装完成后，会自动启动GitLab自带的nginx服务器，这时如果我们有自己安装的用于其他项目服务的nginx会导致出现问题，如：重启自己安装的nginx服务器出现端口占用等情况，这时候我们可以把GitLab的Nginx迁移到我们自己安装的Nginx服务器上。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e修改配置文件，禁用内嵌 nginx 和 unicorn\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eexternal_url \u003c/span\u003e\u003cspan class=\"str\"\u003e'http://git.example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"str\"\u003e'enable'\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efalse\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eunicorn\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"str\"\u003e'enable'\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003efalse\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003egitlab_rails\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"str\"\u003e'internal_api_url'\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e'http://git.example.com'\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eweb_server\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"str\"\u003e'external_users'\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"str\"\u003e'nginx'\u003c/span\u003e\u003cspan class=\"pun\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e在Nginx中增加一个虚拟主机\u003ccode\u003e~/path/nginx/conf/vhost/\u003c/code\u003e添加域名跟\u003ccode\u003eGitLab\u003c/code\u003e中配置相同的域名。如：\u003ccode\u003ecode.mcloudhub.com\u003c/code\u003e。\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003evim \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"str\"\u003e/path/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003econf\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003evhost\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecode\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003emcloudhub\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003eserver \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  listen \u003c/span\u003e\u003cspan class=\"pun\"\u003e*:\u003c/span\u003e\u003cspan class=\"lit\"\u003e80\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  server_name git\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eexample\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ecom\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  server_tokens off\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  root \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eopt\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eembedded\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erails\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003epublic\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  client_max_body_size \u003c/span\u003e\u003cspan class=\"lit\"\u003e250m\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  access_log  \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003evar\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab_access\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  error_log   \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003evar\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003enginx\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab_error\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003elog\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# Ensure Passenger uses the bundled Ruby version\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  passenger_ruby \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eopt\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eembedded\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eruby\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# Correct the $PATH variable to included packaged executables\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  passenger_env_var PATH \u003c/span\u003e\u003cspan class=\"str\"\u003e\"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/usr/local/bin:/usr/bin:/bin\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# Make sure Passenger runs as the correct user and group to\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# prevent permission issues\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  passenger_user git\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  passenger_group git\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# Enable Passenger \u0026amp; keep at least one instance running at all times\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  passenger_enabled on\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  passenger_min_instances \u003c/span\u003e\u003cspan class=\"lit\"\u003e1\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e^\u003c/span\u003e\u003cspan class=\"str\"\u003e/[\\w\\.-]+/\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\w\\.\u003c/span\u003e\u003cspan class=\"pun\"\u003e-]+\u003c/span\u003e\u003cspan class=\"str\"\u003e/(info/\u003c/span\u003e\u003cspan class=\"pln\"\u003erefs\u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003egit\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eupload\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epack\u003c/span\u003e\u003cspan class=\"pun\"\u003e|\u003c/span\u003e\u003cspan class=\"pln\"\u003egit\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ereceive\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003epack\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e$ \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# 'Error' 418 is a hack to re-use the @gitlab-workhorse block\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    error_page \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e@gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eworkhorse\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003ereturn\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e^\u003c/span\u003e\u003cspan class=\"str\"\u003e/[\\w\\.-]+/\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\w\\.\u003c/span\u003e\u003cspan class=\"pun\"\u003e-]+\u003c/span\u003e\u003cspan class=\"str\"\u003e/repository/\u003c/span\u003e\u003cspan class=\"pln\"\u003earchive \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# 'Error' 418 is a hack to re-use the @gitlab-workhorse block\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    error_page \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e@gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eworkhorse\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003ereturn\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e^\u003c/span\u003e\u003cspan class=\"str\"\u003e/api/\u003c/span\u003e\u003cspan class=\"pln\"\u003ev3\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eprojects\u003c/span\u003e\u003cspan class=\"pun\"\u003e/.*\u003c/span\u003e\u003cspan class=\"str\"\u003e/repository/\u003c/span\u003e\u003cspan class=\"pln\"\u003earchive \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# 'Error' 418 is a hack to re-use the @gitlab-workhorse block\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    error_page \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e@gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eworkhorse\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003ereturn\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# Build artifacts should be submitted to this location\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e^\u003c/span\u003e\u003cspan class=\"str\"\u003e/[\\w\\.-]+/\u003c/span\u003e\u003cspan class=\"pun\"\u003e[\u003c/span\u003e\u003cspan class=\"pln\"\u003e\\w\\.\u003c/span\u003e\u003cspan class=\"pun\"\u003e-]+\u003c/span\u003e\u003cspan class=\"str\"\u003e/builds/\u003c/span\u003e\u003cspan class=\"pln\"\u003edownload \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      client_max_body_size \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"com\"\u003e# 'Error' 418 is a hack to re-use the @gitlab-workhorse block\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      error_page \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e@gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eworkhorse\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"kwd\"\u003ereturn\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# Build artifacts should be submitted to this location\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e/ci/\u003c/span\u003e\u003cspan class=\"pln\"\u003eapi\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ev1\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebuilds\u003c/span\u003e\u003cspan class=\"pun\"\u003e/[\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e9\u003c/span\u003e\u003cspan class=\"pun\"\u003e]+/\u003c/span\u003e\u003cspan class=\"pln\"\u003eartifacts \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      client_max_body_size \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"com\"\u003e# 'Error' 418 is a hack to re-use the @gitlab-workhorse block\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      error_page \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e@gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eworkhorse\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"kwd\"\u003ereturn\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# Build artifacts should be submitted to this location\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e/api/\u003c/span\u003e\u003cspan class=\"pln\"\u003ev4\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ejobs\u003c/span\u003e\u003cspan class=\"pun\"\u003e/[\u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"lit\"\u003e9\u003c/span\u003e\u003cspan class=\"pun\"\u003e]+/\u003c/span\u003e\u003cspan class=\"pln\"\u003eartifacts \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      client_max_body_size \u003c/span\u003e\u003cspan class=\"lit\"\u003e0\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"com\"\u003e# 'Error' 418 is a hack to re-use the @gitlab-workhorse block\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      error_page \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e@gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eworkhorse\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e      \u003c/span\u003e\u003cspan class=\"kwd\"\u003ereturn\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"lit\"\u003e418\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# For protocol upgrades from HTTP/1.0 to HTTP/1.1 we need to provide Host header if its missing\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003e$http_host \u003c/span\u003e\u003cspan class=\"pun\"\u003e=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e# use one of values defined in server_name\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003eset\u003c/span\u003e\u003cspan class=\"pln\"\u003e $http_host_with_default \u003c/span\u003e\u003cspan class=\"str\"\u003e\"git.example.com\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"kwd\"\u003eif\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e(\u003c/span\u003e\u003cspan class=\"pln\"\u003e$http_host \u003c/span\u003e\u003cspan class=\"pun\"\u003e!=\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"str\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"pun\"\u003e)\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"kwd\"\u003eset\u003c/span\u003e\u003cspan class=\"pln\"\u003e $http_host_with_default $http_host\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"lit\"\u003e@gitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eworkhorse \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e## https://github.com/gitlabhq/gitlabhq/issues/694\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e## Some requests take more than 30 seconds.\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_read_timeout      \u003c/span\u003e\u003cspan class=\"lit\"\u003e3600\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_connect_timeout   \u003c/span\u003e\u003cspan class=\"lit\"\u003e300\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_redirect          off\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# Do not buffer Git HTTP responses\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_buffering off\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_set_header    \u003c/span\u003e\u003cspan class=\"typ\"\u003eHost\u003c/span\u003e\u003cspan class=\"pln\"\u003e                $http_host_with_default\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_set_header    X\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eReal\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eIP           $remote_addr\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_set_header    X\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eForwarded\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eFor\u003c/span\u003e\u003cspan class=\"pln\"\u003e     $proxy_add_x_forwarded_for\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_set_header    X\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eForwarded\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eProto\u003c/span\u003e\u003cspan class=\"pln\"\u003e   $scheme\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    proxy_pass http\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//gitlab-workhorse;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e## The following settings only work with NGINX 1.7.11 or newer\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e#\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e## Pass chunked request bodies to gitlab-workhorse as-is\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# proxy_request_buffering off;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    \u003c/span\u003e\u003cspan class=\"com\"\u003e# proxy_http_version 1.1;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e## Enable gzip compression as per rails guide:\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e## http://guides.rubyonrails.org/asset_pipeline.html#gzip-compression\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e## WARNING: If you are using relative urls remove the block below\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e## See config/application.rb under \"Relative url support\" for the list of\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"com\"\u003e## other files that need to be changed for relative url support\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  location \u003c/span\u003e\u003cspan class=\"pun\"\u003e~\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e^\u003c/span\u003e\u003cspan class=\"str\"\u003e/(assets)/\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e{\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    root \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eopt\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eembedded\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eservice\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003egitlab\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003erails\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003epublic\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    gzip_static on\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"com\"\u003e# to serve pre-gzipped version\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    expires max\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e    add_header \u003c/span\u003e\u003cspan class=\"typ\"\u003eCache\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"typ\"\u003eControl\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"kwd\"\u003epublic\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L6\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  \u003c/span\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L7\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L8\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003e  error_page \u003c/span\u003e\u003cspan class=\"lit\"\u003e502\u003c/span\u003e\u003cspan class=\"pln\"\u003e \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"lit\"\u003e502.html\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L9\"\u003e\u003ccode\u003e\u003cspan class=\"pun\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003ch5 id=\"h5--code-nginx-code-passenger-passenger-\"\u003e\u003ca name=\"提示：配置好之后启动\u003ccode\u003eNginx\u003c/code\u003e可能会报错：缺少passenger，接下来安装passenger。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：配置好之后启动\u003ccode\u003eNginx\u003c/code\u003e可能会报错：缺少passenger，接下来安装passenger。\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003e配置\u003ccode\u003epassenger\u003c/code\u003e的\u003ccode\u003eyum\u003c/code\u003e源并安装.\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Install various prerequisites\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo yum install \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey pygpgme curl\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Add our el7  YUM repository\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L3\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo curl \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003efail \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003esSLo \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eetc\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eyum\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003erepos\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003ed\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epassenger\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003erepo https\u003c/span\u003e\u003cspan class=\"pun\"\u003e:\u003c/span\u003e\u003cspan class=\"com\"\u003e//oss-binaries.phusionpassenger.com/yum/definitions/el-passenger.repo\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L4\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# Install Passenger Nginx\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L5\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo yum install \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey nginx passenger \u003c/span\u003e\u003cspan class=\"pun\"\u003e||\u003c/span\u003e\u003cspan class=\"pln\"\u003e sudo yum\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003econfig\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003emanager \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003eenable cr \u003c/span\u003e\u003cspan class=\"pun\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan class=\"pln\"\u003e sudo yum install \u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003ey nginx passenger\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e启用\u003ccode\u003epassenger\u003c/code\u003e的\u003ccode\u003enginx\u003c/code\u003e模块，并重启\u003ccode\u003enginx\u003c/code\u003e。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003eEdit /etc/nginx/conf.d/passenger.conf and uncomment passenger_root, passenger_ruby and passenger_instance_registry_dir. For example, you may see this:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# passenger_root /some-filename/locations.ini;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# passenger_ruby /usr/bin/ruby;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"com\"\u003e# passenger_instance_registry_dir /var/run/passenger-instreg;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003eRemove the ‘#’ characters, like this:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003epassenger_root \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003esome\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003efilename\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003elocations\u003c/span\u003e\u003cspan class=\"pun\"\u003e.\u003c/span\u003e\u003cspan class=\"pln\"\u003eini\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L1\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003epassenger_ruby \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eusr\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ebin\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003eruby\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003cli class=\"L2\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003epassenger_instance_registry_dir \u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"kwd\"\u003evar\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003erun\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003epassenger\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003einstreg\u003c/span\u003e\u003cspan class=\"pun\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003e重启nginx\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003esudo service nginx restart\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e可以查看文档：\u003ca target=\"_blank\" href=\"https://www.phusionpassenger.com/library/install/nginx/install/oss/el7/\" title=\"https://www.phusionpassenger.com/library/install/nginx/install/oss/el7/\"\u003ehttps://www.phusionpassenger.com/library/install/nginx/install/oss/el7/\u003c/a\u003e。\u003c/p\u003e\n\u003cp\u003e配置文档：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eGitLab安装：\u003ca target=\"_blank\" href=\"https://about.gitlab.com/install/#centos-7\" title=\"https://about.gitlab.com/install/#centos-7\"\u003ehttps://about.gitlab.com/install/#centos-7\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003eGitLab配置ssl：\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration\" title=\"https://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration\"\u003ehttps://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package\" title=\"https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package\"\u003ehttps://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\" title=\"https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\"\u003ehttps://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003eNginx设置: \u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation\" title=\"https://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation\"\u003ehttps://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e修改内嵌nginx设置：\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block\" title=\"https://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block\"\u003ehttps://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n","markDown":"# Centos7安装GItLab\n\n#### GItLab介绍\n\n#### GItLab安装\n\n* 安装依赖\n\n```\nsudo yum install -y curl policycoreutils-python openssh-server sudo systemctl enable sshd\nsudo systemctl start sshd\nsudo firewall-cmd --permanent --add-service=http sudo systemctl reload firewalld\n```\n\n* 安装postfix支持邮件发送\n\n```\nsudo yum install postfix\nsudo systemctl enable postfix\nsudo systemctl start postfix   \n```\n\n* 配置yum源\n\n```\ncurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n```\n\n###### 提示：此处```shell```脚本自动配置，也可以自动配置```yum```源\n\n* 安装GitLab\n\n```\nsudo EXTERNAL_URL=\"http://code.mcloudhub.com\" yum install -y gitlab-ee   \n\n```\n\n* 安装信息\n\n```\n# 配置文件目录\n/etc/gitlab\n# 安装目录，包括自带的nginx服务器等\n/opt/gitlab\n# 开机启动服务脚本目录\n/usr/lib/systemd/system/\n# 系统命令连接目录\n/usr/bin\n```\n\n###### 提示：EXTERNAL_URL是最终访问的地址。可以使用```https:```也可以使用```http```，使用```https```访问要配置openssl证书。\n\n#### 访问：在浏览器中输入刚刚```EXTERNAL_URL```指定的连接进行访问，并登录。\n\n#### GItLab服务操作：\n\n* 启动\n\n```\ngitlab-ctl start\n```\n\n* 停止\n\n```\ngitlab-ctl stop\n```\n\n* 重启\n\n```\ngitlab-ctl restart\n```\n\n* 开机启动\n\n```\nsystemctl start gitlab-runsvdir.service\n```\n\n* 禁止开机启动\n\n```\nsystemctl disable gitlab-runsvdir.service\n```\n\n* 修改配置文件后使配置生效\n\n```\ngitlab-ctl reconfigure\n```\n\n#### Gitlab配置文件地址：\n\n```\n/etc/gitlab/gitlab.rb\n```\n\n#### GitLab配置信息\n\n```\n## GitLab configuration settings\n##! This file is generated during initial installation and **is not** modified\n##! during upgrades.\n##! Check out the latest version of this file to know about the different\n##! settings that can be configured by this file, which may be found at:\n##! https://gitlab.com/gitlab-org/omnibus-gitlab/raw/master/files/gitlab-config-template/gitlab.rb.template\n\n\n## GitLab URL\n##! URL on which GitLab will be reachable.\n##! For more details on configuring external_url see:\n##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\nexternal_url 'https://code.mcloudhub.com'\n\n## Roles for multi-instance GitLab\n##! The default is to have no roles enabled, which results in GitLab running as an all-in-one instance.\n##! Options:\n##!   redis_sentinel_role redis_master_role redis_slave_role geo_primary_role geo_secondary_role\n##! For more details on each role, see:\n##! https://docs.gitlab.com/omnibus/roles/README.html#roles\n##!\n# roles ['redis_sentinel_role', 'redis_master_role']\n\n## Legend\n##! The following notations at the beginning of each line may be used to\n##! differentiate between components of this file and to easily select them using\n##! a regex.\n##! ## Titles, subtitles etc\n##! ##! More information - Description, Docs, Links, Issues etc.\n##! Configuration settings have a single # followed by a single space at the\n##! beginning; Remove them to enable the setting.\n\n##! **Configuration settings below are optional.**\n##! **The values currently assigned are only examples and ARE NOT the default\n##!   values.**\n\n\n################################################################################\n################################################################################\n##                Configuration Settings for GitLab CE and EE                 ##\n################################################################################\n################################################################################\n\n################################################################################\n## gitlab.yml configuration\n##! Docs: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/gitlab.yml.md\n################################################################################\n# gitlab_rails['gitlab_ssh_host'] = 'ssh.host_example.com'\n# gitlab_rails['time_zone'] = 'UTC'\n\n### Email Settings\n# gitlab_rails['gitlab_email_enabled'] = true\n# gitlab_rails['gitlab_email_from'] = 'example@example.com'\n# gitlab_rails['gitlab_email_display_name'] = 'Example'\n# gitlab_rails['gitlab_email_reply_to'] = 'noreply@example.com'\n# gitlab_rails['gitlab_email_subject_suffix'] = ''\n\n### GitLab user privileges\n# gitlab_rails['gitlab_default_can_create_group'] = true\n# gitlab_rails['gitlab_username_changing_enabled'] = true\n\n### Default Theme\n# gitlab_rails['gitlab_default_theme'] = 2\n\n### Default project feature settings\n# gitlab_rails['gitlab_default_projects_features_issues'] = true\n# gitlab_rails['gitlab_default_projects_features_merge_requests'] = true\n# gitlab_rails['gitlab_default_projects_features_wiki'] = true\n# gitlab_rails['gitlab_default_projects_features_snippets'] = true\n# gitlab_rails['gitlab_default_projects_features_builds'] = true\n# gitlab_rails['gitlab_default_projects_features_container_registry'] = true\n\n### Automatic issue closing\n###! See https://docs.gitlab.com/ce/customization/issue_closing.html for more\n###! information about this pattern.\n# gitlab_rails['gitlab_issue_closing_pattern'] = \"\\b((?:[Cc]los(?:e[sd]?|ing)|\\b[Ff]ix(?:e[sd]|ing)?|\\b[Rr]esolv(?:e[sd]?|ing)|\\b[Ii]mplement(?:s|ed|ing)?)(:?) +(?:(?:issues? +)?%{issue_ref}(?:(?:, *| +and +)?)|([A-Z][A-Z0-9_]+-\\d+))+)\"\n\n### Download location\n###! When a user clicks e.g. 'Download zip' on a project, a temporary zip file\n###! is created in the following directory.\n###! Should not be the same path, or a sub directory of any of the `git_data_dirs`\n# gitlab_rails['gitlab_repository_downloads_path'] = 'tmp/repositories'\n\n### Gravatar Settings\n# gitlab_rails['gravatar_plain_url'] = 'http://www.gravatar.com/avatar/%{hash}?s=%{size}\u0026d=identicon'\n# gitlab_rails['gravatar_ssl_url'] = 'https://secure.gravatar.com/avatar/%{hash}?s=%{size}\u0026d=identicon'\n\n### Auxiliary jobs\n###! Periodically executed jobs, to self-heal Gitlab, do external\n###! synchronizations, etc.\n###! Docs: https://github.com/ondrejbartas/sidekiq-cron#adding-cron-job\n###!       https://docs.gitlab.com/ce/ci/yaml/README.html#artifacts:expire_in\n# gitlab_rails['stuck_ci_jobs_worker_cron'] = \"0 0 * * *\"\n# gitlab_rails['expire_build_artifacts_worker_cron'] = \"50 * * * *\"\n# gitlab_rails['pipeline_schedule_worker_cron'] = \"41 * * * *\"\n# gitlab_rails['ci_archive_traces_cron_worker_cron'] = \"17 * * * *\"\n# gitlab_rails['repository_check_worker_cron'] = \"20 * * * *\"\n# gitlab_rails['admin_email_worker_cron'] = \"0 0 * * 0\"\n# gitlab_rails['repository_archive_cache_worker_cron'] = \"0 * * * *\"\n# gitlab_rails['pages_domain_verification_cron_worker'] = \"*/15 * * * *\"\n\n### Webhook Settings\n###! Number of seconds to wait for HTTP response after sending webhook HTTP POST\n###! request (default: 10)\n# gitlab_rails['webhook_timeout'] = 10\n\n### Trusted proxies\n###! Customize if you have GitLab behind a reverse proxy which is running on a\n###! different machine.\n###! **Add the IP address for your reverse proxy to the list, otherwise users\n###!   will appear signed in from that address.**\n# gitlab_rails['trusted_proxies'] = []\n\n### Monitoring settings\n###! IP whitelist controlling access to monitoring endpoints\n# gitlab_rails['monitoring_whitelist'] = ['127.0.0.0/8', '::1/128']\n###! Time between sampling of unicorn socket metrics, in seconds\n# gitlab_rails['monitoring_unicorn_sampler_interval'] = 10\n\n### Reply by email\n###! Allow users to comment on issues and merge requests by replying to\n###! notification emails.\n###! Docs: https://docs.gitlab.com/ce/administration/reply_by_email.html\n# gitlab_rails['incoming_email_enabled'] = true\n\n#### Incoming Email Address\n####! The email address including the `%{key}` placeholder that will be replaced\n####! to reference the item being replied to.\n####! **The placeholder can be omitted but if present, it must appear in the\n####!   \"user\" part of the address (before the `@`).**\n# gitlab_rails['incoming_email_address'] = \"gitlab-incoming+%{key}@gmail.com\"\n\n#### Email account username\n####! **With third party providers, this is usually the full email address.**\n####! **With self-hosted email servers, this is usually the user part of the\n####!   email address.**\n# gitlab_rails['incoming_email_email'] = \"gitlab-incoming@gmail.com\"\n\n#### Email account password\n# gitlab_rails['incoming_email_password'] = \"[REDACTED]\"\n\n#### IMAP Settings\n# gitlab_rails['incoming_email_host'] = \"imap.gmail.com\"\n# gitlab_rails['incoming_email_port'] = 993\n# gitlab_rails['incoming_email_ssl'] = true\n# gitlab_rails['incoming_email_start_tls'] = false\n\n#### Incoming Mailbox Settings\n####! The mailbox where incoming mail will end up. Usually \"inbox\".\n# gitlab_rails['incoming_email_mailbox_name'] = \"inbox\"\n####! The IDLE command timeout.\n# gitlab_rails['incoming_email_idle_timeout'] = 60\n\n### Job Artifacts\n# gitlab_rails['artifacts_enabled'] = true\n# gitlab_rails['artifacts_path'] = \"/var/opt/gitlab/gitlab-rails/shared/artifacts\"\n####! Job artifacts Object Store\n####! Docs: https://docs.gitlab.com/ee/administration/job_artifacts.html#using-object-storage\n# gitlab_rails['artifacts_object_store_enabled'] = false\n# gitlab_rails['artifacts_object_store_direct_upload'] = false\n# gitlab_rails['artifacts_object_store_background_upload'] = true\n# gitlab_rails['artifacts_object_store_proxy_download'] = false\n# gitlab_rails['artifacts_object_store_remote_directory'] = \"artifacts\"\n# gitlab_rails['artifacts_object_store_connection'] = {\n#   'provider' =\u003e 'AWS',\n#   'region' =\u003e 'eu-west-1',\n#   'aws_access_key_id' =\u003e 'AWS_ACCESS_KEY_ID',\n#   'aws_secret_access_key' =\u003e 'AWS_SECRET_ACCESS_KEY',\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # 'aws_signature_version' =\u003e 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # 'endpoint' =\u003e 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # 'host' =\u003e 's3.amazonaws.com',\n#   # 'path_style' =\u003e false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\n# }\n\n### External merge request diffs\n# gitlab_rails['external_diffs_enabled'] = false\n# gitlab_rails['external_diffs_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/external-diffs\"\n# gitlab_rails['external_diffs_object_store_enabled'] = false\n# gitlab_rails['external_diffs_object_store_direct_upload'] = false\n# gitlab_rails['external_diffs_object_store_background_upload'] = false\n# gitlab_rails['external_diffs_object_store_proxy_download'] = false\n# gitlab_rails['external_diffs_object_store_remote_directory'] = \"external-diffs\"\n# gitlab_rails['external_diffs_object_store_connection'] = {\n#   'provider' =\u003e 'AWS',\n#   'region' =\u003e 'eu-west-1',\n#   'aws_access_key_id' =\u003e 'AWS_ACCESS_KEY_ID',\n#   'aws_secret_access_key' =\u003e 'AWS_SECRET_ACCESS_KEY',\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # 'aws_signature_version' =\u003e 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # 'endpoint' =\u003e 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # 'host' =\u003e 's3.amazonaws.com',\n#   # 'path_style' =\u003e false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\n# }\n\n### Git LFS\n# gitlab_rails['lfs_enabled'] = true\n# gitlab_rails['lfs_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/lfs-objects\"\n# gitlab_rails['lfs_object_store_enabled'] = false\n# gitlab_rails['lfs_object_store_direct_upload'] = false\n# gitlab_rails['lfs_object_store_background_upload'] = true\n# gitlab_rails['lfs_object_store_proxy_download'] = false\n# gitlab_rails['lfs_object_store_remote_directory'] = \"lfs-objects\"\n# gitlab_rails['lfs_object_store_connection'] = {\n#   'provider' =\u003e 'AWS',\n#   'region' =\u003e 'eu-west-1',\n#   'aws_access_key_id' =\u003e 'AWS_ACCESS_KEY_ID',\n#   'aws_secret_access_key' =\u003e 'AWS_SECRET_ACCESS_KEY',\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # 'aws_signature_version' =\u003e 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # 'endpoint' =\u003e 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # 'host' =\u003e 's3.amazonaws.com',\n#   # 'path_style' =\u003e false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\n# }\n\n### GitLab uploads\n###! Docs: https://docs.gitlab.com/ee/administration/uploads.html\n# gitlab_rails['uploads_storage_path'] = \"/var/opt/gitlab/gitlab-rails/public\"\n# gitlab_rails['uploads_base_dir'] = \"uploads/-/system\"\n# gitlab_rails['uploads_object_store_enabled'] = false\n# gitlab_rails['uploads_object_store_direct_upload'] = false\n# gitlab_rails['uploads_object_store_background_upload'] = true\n# gitlab_rails['uploads_object_store_proxy_download'] = false\n# gitlab_rails['uploads_object_store_remote_directory'] = \"uploads\"\n# gitlab_rails['uploads_object_store_connection'] = {\n#   'provider' =\u003e 'AWS',\n#   'region' =\u003e 'eu-west-1',\n#   'aws_access_key_id' =\u003e 'AWS_ACCESS_KEY_ID',\n#   'aws_secret_access_key' =\u003e 'AWS_SECRET_ACCESS_KEY',\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # 'host' =\u003e 's3.amazonaws.com',\n#   # 'aws_signature_version' =\u003e 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # 'endpoint' =\u003e 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # 'path_style' =\u003e false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\n# }\n\n### Impersonation settings\n# gitlab_rails['impersonation_enabled'] = true\n\n### Usage Statistics\n# gitlab_rails['usage_ping_enabled'] = true\n\n### GitLab Mattermost\n###! These settings are void if Mattermost is installed on the same omnibus\n###! install\n# gitlab_rails['mattermost_host'] = \"https://mattermost.example.com\"\n\n### LDAP Settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/ldap.html\n###! **Be careful not to break the indentation in the ldap_servers block. It is\n###!   in yaml format and the spaces must be retained. Using tabs will not work.**\n\n# gitlab_rails['ldap_enabled'] = false\n\n###! **remember to close this block with 'EOS' below**\n# gitlab_rails['ldap_servers'] = YAML.load \u003c\u003c-'EOS'\n#   main: # 'main' is the GitLab 'provider ID' of this LDAP server\n#     label: 'LDAP'\n#     host: '_your_ldap_server'\n#     port: 389\n#     uid: 'sAMAccountName'\n#     bind_dn: '_the_full_dn_of_the_user_you_will_bind_with'\n#     password: '_the_password_of_the_bind_user'\n#     encryption: 'plain' # \"start_tls\" or \"simple_tls\" or \"plain\"\n#     verify_certificates: true\n#     smartcard_auth: false\n#     active_directory: true\n#     allow_username_or_email_login: false\n#     lowercase_usernames: false\n#     block_auto_created_users: false\n#     base: ''\n#     user_filter: ''\n#     ## EE only\n#     group_base: ''\n#     admin_group: ''\n#     sync_ssh_keys: false\n#\n#   secondary: # 'secondary' is the GitLab 'provider ID' of second LDAP server\n#     label: 'LDAP'\n#     host: '_your_ldap_server'\n#     port: 389\n#     uid: 'sAMAccountName'\n#     bind_dn: '_the_full_dn_of_the_user_you_will_bind_with'\n#     password: '_the_password_of_the_bind_user'\n#     encryption: 'plain' # \"start_tls\" or \"simple_tls\" or \"plain\"\n#     verify_certificates: true\n#     smartcard_auth: false\n#     active_directory: true\n#     allow_username_or_email_login: false\n#     lowercase_usernames: false\n#     block_auto_created_users: false\n#     base: ''\n#     user_filter: ''\n#     ## EE only\n#     group_base: ''\n#     admin_group: ''\n#     sync_ssh_keys: false\n# EOS\n\n### Smartcard authentication settings\n###! Docs: https://docs.gitlab.com/ee/administration/auth/smartcard.html\n# gitlab_rails['smartcard_enabled'] = false\n# gitlab_rails['smartcard_ca_file'] = \"/etc/gitlab/ssl/CA.pem\"\n# gitlab_rails['smartcard_client_certificate_required_port'] = 3444\n\n### OmniAuth Settings\n###! Docs: https://docs.gitlab.com/ce/integration/omniauth.html\n# gitlab_rails['omniauth_enabled'] = nil\n# gitlab_rails['omniauth_allow_single_sign_on'] = ['saml']\n# gitlab_rails['omniauth_sync_email_from_provider'] = 'saml'\n# gitlab_rails['omniauth_sync_profile_from_provider'] = ['saml']\n# gitlab_rails['omniauth_sync_profile_attributes'] = ['email']\n# gitlab_rails['omniauth_auto_sign_in_with_provider'] = 'saml'\n# gitlab_rails['omniauth_block_auto_created_users'] = true\n# gitlab_rails['omniauth_auto_link_ldap_user'] = false\n# gitlab_rails['omniauth_auto_link_saml_user'] = false\n# gitlab_rails['omniauth_external_providers'] = ['twitter', 'google_oauth2']\n# gitlab_rails['omniauth_providers'] = [\n#   {\n#     \"name\" =\u003e \"google_oauth2\",\n#     \"app_id\" =\u003e \"YOUR APP ID\",\n#     \"app_secret\" =\u003e \"YOUR APP SECRET\",\n#     \"args\" =\u003e { \"access_type\" =\u003e \"offline\", \"approval_prompt\" =\u003e \"\" }\n#   }\n# ]\n\n### Backup Settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/backups.html\n\n# gitlab_rails['manage_backup_path'] = true\n# gitlab_rails['backup_path'] = \"/var/opt/gitlab/backups\"\n\n###! Docs: https://docs.gitlab.com/ce/raketasks/backup_restore.html#backup-archive-permissions\n# gitlab_rails['backup_archive_permissions'] = 0644\n\n# gitlab_rails['backup_pg_schema'] = 'public'\n\n###! The duration in seconds to keep backups before they are allowed to be deleted\n# gitlab_rails['backup_keep_time'] = 604800\n\n# gitlab_rails['backup_upload_connection'] = {\n#   'provider' =\u003e 'AWS',\n#   'region' =\u003e 'eu-west-1',\n#   'aws_access_key_id' =\u003e 'AKIAKIAKI',\n#   'aws_secret_access_key' =\u003e 'secret123'\n# }\n# gitlab_rails['backup_upload_remote_directory'] = 'my.s3.bucket'\n# gitlab_rails['backup_multipart_chunk_size'] = 104857600\n\n###! **Turns on AWS Server-Side Encryption with Amazon S3-Managed Keys for\n###!   backups**\n# gitlab_rails['backup_encryption'] = 'AES256'\n###! The encryption key to use with AWS Server-Side Encryption.\n###! Setting this value will enable Server-Side Encryption with customer provided keys;\n###!   otherwise S3-managed keys are used.\n# gitlab_rails['backup_encryption_key'] = '\u003cbase64-encoded encryption key\u003e'\n\n###! **Specifies Amazon S3 storage class to use for backups. Valid values\n###!   include 'STANDARD', 'STANDARD_IA', and 'REDUCED_REDUNDANCY'**\n# gitlab_rails['backup_storage_class'] = 'STANDARD'\n\n\n### Pseudonymizer Settings\n# gitlab_rails['pseudonymizer_manifest'] = 'config/pseudonymizer.yml'\n# gitlab_rails['pseudonymizer_upload_remote_directory'] = 'gitlab-elt'\n# gitlab_rails['pseudonymizer_upload_connection'] = {\n#   'provider' =\u003e 'AWS',\n#   'region' =\u003e 'eu-west-1',\n#   'aws_access_key_id' =\u003e 'AKIAKIAKI',\n#   'aws_secret_access_key' =\u003e 'secret123'\n# }\n\n\n### For setting up different data storing directory\n###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#storing-git-data-in-an-alternative-directory\n###! **If you want to use a single non-default directory to store git data use a\n###!   path that doesn't contain symlinks.**\n# git_data_dirs({\n#   \"default\" =\u003e {\n#     \"path\" =\u003e \"/mnt/nfs-01/git-data\"\n#    }\n# })\n\n### Gitaly settings\n# gitlab_rails['gitaly_token'] = 'secret token'\n\n### For storing GitLab application uploads, eg. LFS objects, build artifacts\n###! Docs: https://docs.gitlab.com/ce/development/shared_files.html\n# gitlab_rails['shared_path'] = '/var/opt/gitlab/gitlab-rails/shared'\n\n### Wait for file system to be mounted\n###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#only-start-omnibus-gitlab-services-after-a-given-filesystem-is-mounted\n# high_availability['mountpoint'] = [\"/var/opt/gitlab/git-data\", \"/var/opt/gitlab/gitlab-rails/shared\"]\n\n### GitLab Shell settings for GitLab\n# gitlab_rails['gitlab_shell_ssh_port'] = 22\n# gitlab_rails['gitlab_shell_git_timeout'] = 800\n\n### Extra customization\n# gitlab_rails['extra_google_analytics_id'] = '_your_tracking_id'\n# gitlab_rails['extra_piwik_url'] = '_your_piwik_url'\n# gitlab_rails['extra_piwik_site_id'] = '_your_piwik_site_id'\n\n##! Docs: https://docs.gitlab.com/omnibus/settings/environment-variables.html\n# gitlab_rails['env'] = {\n#   'BUNDLE_GEMFILE' =\u003e \"/opt/gitlab/embedded/service/gitlab-rails/Gemfile\",\n#   'PATH' =\u003e \"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\"\n# }\n\n# gitlab_rails['rack_attack_git_basic_auth'] = {\n#   'enabled' =\u003e false,\n#   'ip_whitelist' =\u003e [\"127.0.0.1\"],\n#   'maxretry' =\u003e 10,\n#   'findtime' =\u003e 60,\n#   'bantime' =\u003e 3600\n# }\n\n# gitlab_rails['rack_attack_protected_paths'] = [\n#   '/users/password',\n#   '/users/sign_in',\n#   '/api/#{API::API.version}/session.json',\n#   '/api/#{API::API.version}/session',\n#   '/users',\n#   '/users/confirmation',\n#   '/unsubscribes/',\n#   '/import/github/personal_access_token'\n# ]\n\n###! **We do not recommend changing these directories.**\n# gitlab_rails['dir'] = \"/var/opt/gitlab/gitlab-rails\"\n# gitlab_rails['log_directory'] = \"/var/log/gitlab/gitlab-rails\"\n\n### GitLab application settings\n# gitlab_rails['uploads_directory'] = \"/var/opt/gitlab/gitlab-rails/uploads\"\n# gitlab_rails['rate_limit_requests_per_period'] = 10\n# gitlab_rails['rate_limit_period'] = 60\n\n#### Change the initial default admin password and shared runner registration tokens.\n####! **Only applicable on initial setup, changing these settings after database\n####!   is created and seeded won't yield any change.**\n# gitlab_rails['initial_root_password'] = \"password\"\n# gitlab_rails['initial_shared_runners_registration_token'] = \"token\"\n\n#### Enable or disable automatic database migrations\n# gitlab_rails['auto_migrate'] = true\n\n#### This is advanced feature used by large gitlab deployments where loading\n#### whole RAILS env takes a lot of time.\n# gitlab_rails['rake_cache_clear'] = true\n\n### GitLab database settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/database.html\n###! **Only needed if you use an external database.**\n# gitlab_rails['db_adapter'] = \"postgresql\"\n# gitlab_rails['db_encoding'] = \"unicode\"\n# gitlab_rails['db_collation'] = nil\n# gitlab_rails['db_database'] = \"gitlabhq_production\"\n# gitlab_rails['db_pool'] = 10\n# gitlab_rails['db_username'] = \"gitlab\"\n# gitlab_rails['db_password'] = nil\n# gitlab_rails['db_host'] = nil\n# gitlab_rails['db_port'] = 5432\n# gitlab_rails['db_socket'] = nil\n# gitlab_rails['db_sslmode'] = nil\n# gitlab_rails['db_sslcompression'] = 0\n# gitlab_rails['db_sslrootcert'] = nil\n# gitlab_rails['db_prepared_statements'] = false\n# gitlab_rails['db_statements_limit'] = 1000\n\n\n### GitLab Redis settings\n###! Connect to your own Redis instance\n###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\n\n#### Redis TCP connection\n# gitlab_rails['redis_host'] = \"127.0.0.1\"\n# gitlab_rails['redis_port'] = 6379\n# gitlab_rails['redis_ssl'] = false\n# gitlab_rails['redis_password'] = nil\n# gitlab_rails['redis_database'] = 0\n\n#### Redis local UNIX socket (will be disabled if TCP method is used)\n# gitlab_rails['redis_socket'] = \"/var/opt/gitlab/redis/redis.socket\"\n\n#### Sentinel support\n####! To have Sentinel working, you must enable Redis TCP connection support\n####! above and define a few Sentinel hosts below (to get a reliable setup\n####! at least 3 hosts).\n####! **You don't need to list every sentinel host, but the ones not listed will\n####!   not be used in a fail-over situation to query for the new master.**\n# gitlab_rails['redis_sentinels'] = [\n#   {'host' =\u003e '127.0.0.1', 'port' =\u003e 26379},\n# ]\n\n#### Separate instances support\n###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html#running-with-multiple-redis-instances\n# gitlab_rails['redis_cache_instance'] = nil\n# gitlab_rails['redis_cache_sentinels'] = nil\n# gitlab_rails['redis_queues_instance'] = nil\n# gitlab_rails['redis_queues_sentinels'] = nil\n# gitlab_rails['redis_shared_state_instance'] = nil\n# gitlab_rails['redis_shared_sentinels'] = nil\n\n### GitLab email server settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/smtp.html\n###! **Use smtp instead of sendmail/postfix.**\n\n# gitlab_rails['smtp_enable'] = true\n# gitlab_rails['smtp_address'] = \"smtp.server\"\n# gitlab_rails['smtp_port'] = 465\n# gitlab_rails['smtp_user_name'] = \"smtp user\"\n# gitlab_rails['smtp_password'] = \"smtp password\"\n# gitlab_rails['smtp_domain'] = \"example.com\"\n# gitlab_rails['smtp_authentication'] = \"login\"\n# gitlab_rails['smtp_enable_starttls_auto'] = true\n# gitlab_rails['smtp_tls'] = false\n\n###! **Can be: 'none', 'peer', 'client_once', 'fail_if_no_peer_cert'**\n###! Docs: http://api.rubyonrails.org/classes/ActionMailer/Base.html\n# gitlab_rails['smtp_openssl_verify_mode'] = 'none'\n\n# gitlab_rails['smtp_ca_path'] = \"/etc/ssl/certs\"\n# gitlab_rails['smtp_ca_file'] = \"/etc/ssl/certs/ca-certificates.crt\"\n\n################################################################################\n## Container Registry settings\n##! Docs: https://docs.gitlab.com/ce/administration/container_registry.html\n################################################################################\n\n# registry_external_url 'https://registry.gitlab.example.com'\n\n### Settings used by GitLab application\n# gitlab_rails['registry_enabled'] = true\n# gitlab_rails['registry_host'] = \"registry.gitlab.example.com\"\n# gitlab_rails['registry_port'] = \"5005\"\n# gitlab_rails['registry_path'] = \"/var/opt/gitlab/gitlab-rails/shared/registry\"\n\n###! **Do not change the following 3 settings unless you know what you are\n###!   doing**\n# gitlab_rails['registry_api_url'] = \"http://localhost:5000\"\n# gitlab_rails['registry_key_path'] = \"/var/opt/gitlab/gitlab-rails/certificate.key\"\n# gitlab_rails['registry_issuer'] = \"omnibus-gitlab-issuer\"\n\n### Settings used by Registry application\n# registry['enable'] = true\n# registry['username'] = \"registry\"\n# registry['group'] = \"registry\"\n# registry['uid'] = nil\n# registry['gid'] = nil\n# registry['dir'] = \"/var/opt/gitlab/registry\"\n# registry['registry_http_addr'] = \"localhost:5000\"\n# registry['debug_addr'] = \"localhost:5001\"\n# registry['log_directory'] = \"/var/log/gitlab/registry\"\n# registry['env_directory'] = \"/opt/gitlab/etc/registry/env\"\n# registry['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n# registry['log_level'] = \"info\"\n# registry['log_formatter'] = \"text\"\n# registry['rootcertbundle'] = \"/var/opt/gitlab/registry/certificate.crt\"\n# registry['health_storagedriver_enabled'] = true\n# registry['storage_delete_enabled'] = true\n# registry['validation_enabled'] = false\n# registry['autoredirect'] = false\n# registry['compatibility_schema1_enabled'] = false\n\n### Registry backend storage\n###! Docs: https://docs.gitlab.com/ce/administration/container_registry.html#container-registry-storage-driver\n# registry['storage'] = {\n#   's3' =\u003e {\n#     'accesskey' =\u003e 'AKIAKIAKI',\n#     'secretkey' =\u003e 'secret123',\n#     'bucket' =\u003e 'gitlab-registry-bucket-AKIAKIAKI'\n#   }\n# }\n\n### Registry notifications endpoints\n# registry['notifications'] = [\n#   {\n#     'name' =\u003e 'test_endpoint',\n#     'url' =\u003e 'https://gitlab.example.com/notify2',\n#     'timeout' =\u003e '500ms',\n#     'threshold' =\u003e 5,\n#     'backoff' =\u003e '1s',\n#     'headers' =\u003e {\n#       \"Authorization\" =\u003e [\"AUTHORIZATION_EXAMPLE_TOKEN\"]\n#     }\n#   }\n# ]\n### Default registry notifications\n# registry['default_notifications_timeout'] = \"500ms\"\n# registry['default_notifications_threshold'] = 5\n# registry['default_notifications_backoff'] = \"1s\"\n# registry['default_notifications_headers'] = {}\n\n\n\n################################################################################\n## GitLab Workhorse\n##! Docs: https://gitlab.com/gitlab-org/gitlab-workhorse/blob/master/README.md\n################################################################################\n\n# gitlab_workhorse['enable'] = true\n# gitlab_workhorse['ha'] = false\n# gitlab_workhorse['listen_network'] = \"unix\"\n# gitlab_workhorse['listen_umask'] = 000\n# gitlab_workhorse['listen_addr'] = \"/var/opt/gitlab/gitlab-workhorse/socket\"\n# gitlab_workhorse['auth_backend'] = \"http://localhost:8080\"\n\n##! the empty string is the default in gitlab-workhorse option parser\n# gitlab_workhorse['auth_socket'] = \"''\"\n\n##! put an empty string on the command line\n# gitlab_workhorse['pprof_listen_addr'] = \"''\"\n\n# gitlab_workhorse['prometheus_listen_addr'] = \"localhost:9229\"\n\n# gitlab_workhorse['dir'] = \"/var/opt/gitlab/gitlab-workhorse\"\n# gitlab_workhorse['log_directory'] = \"/var/log/gitlab/gitlab-workhorse\"\n# gitlab_workhorse['proxy_headers_timeout'] = \"1m0s\"\n\n##! limit number of concurrent API requests, defaults to 0 which is unlimited\n# gitlab_workhorse['api_limit'] = 0\n\n##! limit number of API requests allowed to be queued, defaults to 0 which\n##! disables queuing\n# gitlab_workhorse['api_queue_limit'] = 0\n\n##! duration after which we timeout requests if they sit too long in the queue\n# gitlab_workhorse['api_queue_duration'] = \"30s\"\n\n##! Long polling duration for job requesting for runners\n# gitlab_workhorse['api_ci_long_polling_duration'] = \"60s\"\n\n##! Log format: default is text, can also be json or none.\n# gitlab_workhorse['log_format'] = \"json\"\n\n# gitlab_workhorse['env_directory'] = \"/opt/gitlab/etc/gitlab-workhorse/env\"\n# gitlab_workhorse['env'] = {\n#   'PATH' =\u003e \"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\",\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n\n################################################################################\n## GitLab User Settings\n##! Modify default git user.\n##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#changing-the-name-of-the-git-user-group\n################################################################################\n\n# user['username'] = \"git\"\n# user['group'] = \"git\"\n# user['uid'] = nil\n# user['gid'] = nil\n\n##! The shell for the git user\n# user['shell'] = \"/bin/sh\"\n\n##! The home directory for the git user\n# user['home'] = \"/var/opt/gitlab\"\n\n# user['git_user_name'] = \"GitLab\"\n# user['git_user_email'] = \"gitlab@#{node['fqdn']}\"\n\n################################################################################\n## GitLab Unicorn\n##! Tweak unicorn settings.\n##! Docs: https://docs.gitlab.com/omnibus/settings/unicorn.html\n################################################################################\n\n# unicorn['enable'] = true\n# unicorn['worker_timeout'] = 60\n###! Minimum worker_processes is 2 at this moment\n###! See https://gitlab.com/gitlab-org/gitlab-ce/issues/18771\n# unicorn['worker_processes'] = 2\n\n### Advanced settings\n# unicorn['listen'] = 'localhost'\n# unicorn['port'] = 8080\n# unicorn['socket'] = '/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket'\n# unicorn['pidfile'] = '/opt/gitlab/var/unicorn/unicorn.pid'\n# unicorn['tcp_nopush'] = true\n# unicorn['backlog_socket'] = 1024\n\n###! **Make sure somaxconn is equal or higher then backlog_socket**\n# unicorn['somaxconn'] = 1024\n\n###! **We do not recommend changing this setting**\n# unicorn['log_directory'] = \"/var/log/gitlab/unicorn\"\n\n### **Only change these settings if you understand well what they mean**\n###! Docs: https://about.gitlab.com/2015/06/05/how-gitlab-uses-unicorn-and-unicorn-worker-killer/\n###!       https://github.com/kzk/unicorn-worker-killer\n# unicorn['worker_memory_limit_min'] = \"400 * 1 \u003c\u003c 20\"\n# unicorn['worker_memory_limit_max'] = \"650 * 1 \u003c\u003c 20\"\n\n################################################################################\n## GitLab Puma\n##! Tweak puma settings. You should only use Unicorn or Puma, not both.\n##! Docs: https://docs.gitlab.com/omnibus/settings/puma.html\n################################################################################\n\n# puma['enable'] = false\n# puma['ha'] = false\n# puma['worker_timeout'] = 60\n# puma['worker_processes'] = 2\n# puma['min_threads'] = 1\n# puma['max_threads'] = 16\n\n### Advanced settings\n# puma['listen'] = '127.0.0.1'\n# puma['port'] = 8080\n# puma['socket'] = '/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket'\n# puma['pidfile'] = '/opt/gitlab/var/puma/puma.pid'\n# puma['state_path'] = '/opt/gitlab/var/puma/puma.state'\n\n###! **We do not recommend changing this setting**\n# puma['log_directory'] = \"/var/log/gitlab/puma\"\n\n### **Only change these settings if you understand well what they mean**\n###! Docs: https://github.com/schneems/puma_worker_killer\n# puma['per_worker_max_memory_mb'] = 650\n\n################################################################################\n## GitLab Sidekiq\n################################################################################\n\n# sidekiq['log_directory'] = \"/var/log/gitlab/sidekiq\"\n# sidekiq['log_format'] = \"default\"\n# sidekiq['shutdown_timeout'] = 4\n# sidekiq['concurrency'] = 25\n# sidekiq['metrics_enabled'] = true\n# sidekiq['listen_address'] = \"localhost\"\n# sidekiq['listen_port'] = 8082\n\n################################################################################\n## gitlab-shell\n################################################################################\n\n# gitlab_shell['audit_usernames'] = false\n# gitlab_shell['log_level'] = 'INFO'\n# gitlab_shell['log_format'] = 'json'\n# gitlab_shell['http_settings'] = { user: 'username', password: 'password', ca_file: '/etc/ssl/cert.pem', ca_path: '/etc/pki/tls/certs', self_signed_cert: false}\n# gitlab_shell['log_directory'] = \"/var/log/gitlab/gitlab-shell/\"\n# gitlab_shell['custom_hooks_dir'] = \"/opt/gitlab/embedded/service/gitlab-shell/hooks\"\n\n# gitlab_shell['auth_file'] = \"/var/opt/gitlab/.ssh/authorized_keys\"\n\n### Git trace log file.\n###! If set, git commands receive GIT_TRACE* environment variables\n###! Docs: https://git-scm.com/book/es/v2/Git-Internals-Environment-Variables#Debugging\n###! An absolute path starting with / – the trace output will be appended to\n###! that file. It needs to exist so we can check permissions and avoid\n###! throwing warnings to the users.\n# gitlab_shell['git_trace_log_file'] = \"/var/log/gitlab/gitlab-shell/gitlab-shell-git-trace.log\"\n\n##! **We do not recommend changing this directory.**\n# gitlab_shell['dir'] = \"/var/opt/gitlab/gitlab-shell\"\n\n################################################################\n## GitLab PostgreSQL\n################################################################\n\n###! Changing any of these settings requires a restart of postgresql.\n###! By default, reconfigure reloads postgresql if it is running. If you\n###! change any of these settings, be sure to run `gitlab-ctl restart postgresql`\n###! after reconfigure in order for the changes to take effect.\n# postgresql['enable'] = true\n# postgresql['listen_address'] = nil\n# postgresql['port'] = 5432\n# postgresql['data_dir'] = \"/var/opt/gitlab/postgresql/data\"\n\n##! **recommend value is 1/4 of total RAM, up to 14GB.**\n# postgresql['shared_buffers'] = \"256MB\"\n\n### Advanced settings\n# postgresql['ha'] = false\n# postgresql['dir'] = \"/var/opt/gitlab/postgresql\"\n# postgresql['log_directory'] = \"/var/log/gitlab/postgresql\"\n# postgresql['username'] = \"gitlab-psql\"\n# postgresql['group'] = \"gitlab-psql\"\n##! `SQL_USER_PASSWORD_HASH` can be generated using the command `gitlab-ctl pg-password-md5 gitlab`\n# postgresql['sql_user_password'] = 'SQL_USER_PASSWORD_HASH'\n# postgresql['uid'] = nil\n# postgresql['gid'] = nil\n# postgresql['shell'] = \"/bin/sh\"\n# postgresql['home'] = \"/var/opt/gitlab/postgresql\"\n# postgresql['user_path'] = \"/opt/gitlab/embedded/bin:/opt/gitlab/bin:$PATH\"\n# postgresql['sql_user'] = \"gitlab\"\n# postgresql['max_connections'] = 200\n# postgresql['md5_auth_cidr_addresses'] = []\n# postgresql['trust_auth_cidr_addresses'] = []\n# postgresql['wal_buffers'] = \"-1\"\n# postgresql['autovacuum_max_workers'] = \"3\"\n# postgresql['autovacuum_freeze_max_age'] = \"200000000\"\n# postgresql['log_statement'] = nil\n# postgresql['track_activity_query_size'] = \"1024\"\n# postgresql['shared_preload_libraries'] = nil\n# postgresql['dynamic_shared_memory_type'] = nil\n# postgresql['hot_standby'] = \"off\"\n\n### SSL settings\n# See https://www.postgresql.org/docs/9.6/static/runtime-config-connection.html#GUC-SSL-CERT-FILE for more details\n# postgresql['ssl'] = 'on'\n# postgresql['ssl_ciphers'] = 'HIGH:MEDIUM:+3DES:!aNULL:!SSLv3:!TLSv1'\n# postgresql['ssl_cert_file'] = 'server.crt'\n# postgresql['ssl_key_file'] = 'server.key'\n# postgresql['ssl_ca_file'] = '/opt/gitlab/embedded/ssl/certs/cacert.pem'\n# postgresql['ssl_crl_file'] = nil\n\n### Replication settings\n###! Note, some replication settings do not require a full restart. They are documented below.\n# postgresql['wal_level'] = \"hot_standby\"\n# postgresql['max_wal_senders'] = 5\n# postgresql['max_replication_slots'] = 0\n# postgresql['max_locks_per_transaction'] = 128\n\n# Backup/Archive settings\n# postgresql['archive_mode'] = \"off\"\n\n###! Changing any of these settings only requires a reload of postgresql. You do not need to\n###! restart postgresql if you change any of these and run reconfigure.\n# postgresql['work_mem'] = \"16MB\"\n# postgresql['maintenance_work_mem'] = \"16MB\"\n# postgresql['checkpoint_segments'] = 10\n# postgresql['checkpoint_timeout'] = \"5min\"\n# postgresql['checkpoint_completion_target'] = 0.9\n# postgresql['effective_io_concurrency'] = 1\n# postgresql['checkpoint_warning'] = \"30s\"\n# postgresql['effective_cache_size'] = \"1MB\"\n# postgresql['shmmax'] =  17179869184 # or 4294967295\n# postgresql['shmall'] =  4194304 # or 1048575\n# postgresql['autovacuum'] = \"on\"\n# postgresql['log_autovacuum_min_duration'] = \"-1\"\n# postgresql['autovacuum_naptime'] = \"1min\"\n# postgresql['autovacuum_vacuum_threshold'] = \"50\"\n# postgresql['autovacuum_analyze_threshold'] = \"50\"\n# postgresql['autovacuum_vacuum_scale_factor'] = \"0.02\"\n# postgresql['autovacuum_analyze_scale_factor'] = \"0.01\"\n# postgresql['autovacuum_vacuum_cost_delay'] = \"20ms\"\n# postgresql['autovacuum_vacuum_cost_limit'] = \"-1\"\n# postgresql['statement_timeout'] = \"60000\"\n# postgresql['idle_in_transaction_session_timeout'] = \"60000\"\n# postgresql['log_line_prefix'] = \"%a\"\n# postgresql['max_worker_processes'] = 8\n# postgresql['max_parallel_workers_per_gather'] = 0\n# postgresql['log_lock_waits'] = 1\n# postgresql['deadlock_timeout'] = '5s'\n# postgresql['track_io_timing'] = 0\n# postgresql['default_statistics_target'] = 1000\n\n### Available in PostgreSQL 9.6 and later\n# postgresql['min_wal_size'] = 80MB\n# postgresql['max_wal_size'] = 1GB\n\n# Backup/Archive settings\n# postgresql['archive_command'] = nil\n# postgresql['archive_timeout'] = \"0\"\n\n### Replication settings\n# postgresql['sql_replication_user'] = \"gitlab_replicator\"\n# postgresql['sql_replication_password'] = \"md5 hash of postgresql password\" # You can generate with `gitlab-ctl pg-password-md5 \u003cdbuser\u003e`\n# postgresql['wal_keep_segments'] = 10\n# postgresql['max_standby_archive_delay'] = \"30s\"\n# postgresql['max_standby_streaming_delay'] = \"30s\"\n# postgresql['synchronous_commit'] = on\n# postgresql['synchronous_standby_names'] = ''\n# postgresql['hot_standby_feedback'] = 'off'\n# postgresql['random_page_cost'] = 2.0\n# postgresql['log_temp_files'] = -1\n# postgresql['log_checkpoints'] = 'off'\n# To add custom entries to pg_hba.conf use the following\n# postgresql['custom_pg_hba_entries'] = {\n#   APPLICATION: [ # APPLICATION should identify what the settings are used for\n#     {\n#       type: example,\n#       database: example,\n#       user: example,\n#       cidr: example,\n#       method: example,\n#       option: example\n#     }\n#   ]\n# }\n# See https://www.postgresql.org/docs/9.6/static/auth-pg-hba-conf.html for an explanation\n# of the values\n\n\n################################################################################\n## GitLab Redis\n##! **Can be disabled if you are using your own Redis instance.**\n##! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\n################################################################################\n\n# redis['enable'] = true\n# redis['ha'] = false\n# redis['hz'] = 10\n# redis['dir'] = \"/var/opt/gitlab/redis\"\n# redis['log_directory'] = \"/var/log/gitlab/redis\"\n# redis['username'] = \"gitlab-redis\"\n# redis['group'] = \"gitlab-redis\"\n# redis['maxclients'] = \"10000\"\n# redis['maxmemory'] = \"0\"\n# redis['maxmemory_policy'] = \"noeviction\"\n# redis['maxmemory_samples'] = \"5\"\n# redis['tcp_backlog'] = 511\n# redis['tcp_timeout'] = \"60\"\n# redis['tcp_keepalive'] = \"300\"\n# redis['uid'] = nil\n# redis['gid'] = nil\n\n###! **To enable only Redis service in this machine, uncomment\n###!   one of the lines below (choose master or slave instance types).**\n###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\n###!       https://docs.gitlab.com/ce/administration/high_availability/redis.html\n# redis_master_role['enable'] = true\n# redis_slave_role['enable'] = true\n\n### Redis TCP support (will disable UNIX socket transport)\n# redis['bind'] = '0.0.0.0' # or specify an IP to bind to a single one\n# redis['port'] = 6379\n# redis['password'] = 'redis-password-goes-here'\n\n### Redis Sentinel support\n###! **You need a master slave Redis replication to be able to do failover**\n###! **Please read the documentation before enabling it to understand the\n###!   caveats:**\n###! Docs: https://docs.gitlab.com/ce/administration/high_availability/redis.html\n\n### Replication support\n#### Slave Redis instance\n# redis['master'] = false # by default this is true\n\n#### Slave and Sentinel shared configuration\n####! **Both need to point to the master Redis instance to get replication and\n####!   heartbeat monitoring**\n# redis['master_name'] = 'gitlab-redis'\n# redis['master_ip'] = nil\n# redis['master_port'] = 6379\n\n#### Support to run redis slaves in a Docker or NAT environment\n####! Docs: https://redis.io/topics/replication#configuring-replication-in-docker-and-nat\n# redis['announce_ip'] = nil\n# redis['announce_port'] = nil\n\n####! **Master password should have the same value defined in\n####!   redis['password'] to enable the instance to transition to/from\n####!   master/slave in a failover event.**\n# redis['master_password'] = 'redis-password-goes-here'\n\n####! Increase these values when your slaves can't catch up with master\n# redis['client_output_buffer_limit_normal'] = '0 0 0'\n# redis['client_output_buffer_limit_slave'] = '256mb 64mb 60'\n# redis['client_output_buffer_limit_pubsub'] = '32mb 8mb 60'\n\n#####! Redis snapshotting frequency\n#####! Set to [] to disable\n#####! Set to [''] to clear previously set values\n# redis['save'] = [ '900 1', '300 10', '60 10000' ]\n\n################################################################################\n## GitLab Web server\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#using-a-non-bundled-web-server\n################################################################################\n\n##! When bundled nginx is disabled we need to add the external webserver user to\n##! the GitLab webserver group.\n# web_server['external_users'] = []\n# web_server['username'] = 'gitlab-www'\n# web_server['group'] = 'gitlab-www'\n# web_server['uid'] = nil\n# web_server['gid'] = nil\n# web_server['shell'] = '/bin/false'\n# web_server['home'] = '/var/opt/gitlab/nginx'\n\n################################################################################\n## GitLab NGINX\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html\n################################################################################\n\n# nginx['enable'] = true\n# nginx['client_max_body_size'] = '250m'\n# nginx['redirect_http_to_https'] = false\n# nginx['redirect_http_to_https_port'] = 80\n\n##! Most root CA's are included by default\n# nginx['ssl_client_certificate'] = \"/etc/gitlab/ssl/ca.crt\"\n\n##! enable/disable 2-way SSL client authentication\n# nginx['ssl_verify_client'] = \"off\"\n\n##! if ssl_verify_client on, verification depth in the client certificates chain\n# nginx['ssl_verify_depth'] = \"1\"\n\n# nginx['ssl_certificate'] = \"/etc/gitlab/ssl/#{node['fqdn']}.crt\"\n# nginx['ssl_certificate_key'] = \"/etc/gitlab/ssl/#{node['fqdn']}.key\"\n# nginx['ssl_ciphers'] = \"ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256\"\n# nginx['ssl_prefer_server_ciphers'] = \"on\"\n\n##! **Recommended by: https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html\n##!                   https://cipherli.st/**\n# nginx['ssl_protocols'] = \"TLSv1.1 TLSv1.2\"\n\n##! **Recommended in: https://nginx.org/en/docs/http/ngx_http_ssl_module.html**\n# nginx['ssl_session_cache'] = \"builtin:1000  shared:SSL:10m\"\n\n##! **Default according to https://nginx.org/en/docs/http/ngx_http_ssl_module.html**\n# nginx['ssl_session_timeout'] = \"5m\"\n\n# nginx['ssl_dhparam'] = nil # Path to dhparams.pem, eg. /etc/gitlab/ssl/dhparams.pem\n# nginx['listen_addresses'] = ['*', '[::]']\n\n##! **Defaults to forcing web browsers to always communicate using only HTTPS**\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#setting-http-strict-transport-security\n# nginx['hsts_max_age'] = 31536000\n# nginx['hsts_include_subdomains'] = false\n\n##! **Docs: http://nginx.org/en/docs/http/ngx_http_gzip_module.html**\n# nginx['gzip_enabled'] = true\n\n##! **Override only if you use a reverse proxy**\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#setting-the-nginx-listen-port\n# nginx['listen_port'] = nil\n\n##! **Override only if your reverse proxy internally communicates over HTTP**\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#supporting-proxied-ssl\n# nginx['listen_https'] = nil\n\n# nginx['custom_gitlab_server_config'] = \"location ^~ /foo-namespace/bar-project/raw/ {\\n deny all;\\n}\\n\"\n# nginx['custom_nginx_config'] = \"include /etc/nginx/conf.d/example.conf;\"\n# nginx['proxy_read_timeout'] = 3600\n# nginx['proxy_connect_timeout'] = 300\n# nginx['proxy_set_headers'] = {\n#  \"Host\" =\u003e \"$http_host_with_default\",\n#  \"X-Real-IP\" =\u003e \"$remote_addr\",\n#  \"X-Forwarded-For\" =\u003e \"$proxy_add_x_forwarded_for\",\n#  \"X-Forwarded-Proto\" =\u003e \"https\",\n#  \"X-Forwarded-Ssl\" =\u003e \"on\",\n#  \"Upgrade\" =\u003e \"$http_upgrade\",\n#  \"Connection\" =\u003e \"$connection_upgrade\"\n# }\n# nginx['proxy_cache_path'] = 'proxy_cache keys_zone=gitlab:10m max_size=1g levels=1:2'\n# nginx['proxy_cache'] = 'gitlab'\n# nginx['http2_enabled'] = true\n# nginx['real_ip_trusted_addresses'] = []\n# nginx['real_ip_header'] = nil\n# nginx['real_ip_recursive'] = nil\n# nginx['custom_error_pages'] = {\n#   '404' =\u003e {\n#     'title' =\u003e 'Example title',\n#     'header' =\u003e 'Example header',\n#     'message' =\u003e 'Example message'\n#   }\n# }\n\n### Advanced settings\n# nginx['dir'] = \"/var/opt/gitlab/nginx\"\n# nginx['log_directory'] = \"/var/log/gitlab/nginx\"\n# nginx['worker_processes'] = 4\n# nginx['worker_connections'] = 10240\n# nginx['log_format'] = '$remote_addr - $remote_user [$time_local] \"$request\" $status $body_bytes_sent \"$http_referer\" \"$http_user_agent\"'\n# nginx['sendfile'] = 'on'\n# nginx['tcp_nopush'] = 'on'\n# nginx['tcp_nodelay'] = 'on'\n# nginx['gzip'] = \"on\"\n# nginx['gzip_http_version'] = \"1.0\"\n# nginx['gzip_comp_level'] = \"2\"\n# nginx['gzip_proxied'] = \"any\"\n# nginx['gzip_types'] = [ \"text/plain\", \"text/css\", \"application/x-javascript\", \"text/xml\", \"application/xml\", \"application/xml+rss\", \"text/javascript\", \"application/json\" ]\n# nginx['keepalive_timeout'] = 65\n# nginx['cache_max_size'] = '5000m'\n# nginx['server_names_hash_bucket_size'] = 64\n##! These paths have proxy_request_buffering disabled\n# nginx['request_buffering_off_path_regex'] = \"\\.git/git-receive-pack$|\\.git/info/refs?service=git-receive-pack$|\\.git/gitlab-lfs/objects|\\.git/info/lfs/objects/batch$\"\n\n### Nginx status\n# nginx['status'] = {\n#  \"enable\" =\u003e true,\n#  \"listen_addresses\" =\u003e [\"127.0.0.1\"],\n#  \"fqdn\" =\u003e \"dev.example.com\",\n#  \"port\" =\u003e 9999,\n#  \"vts_enable\" =\u003e true,\n#  \"options\" =\u003e {\n#    \"stub_status\" =\u003e \"on\", # Turn on stats\n#    \"server_tokens\" =\u003e \"off\", # Don't show the version of NGINX\n#    \"access_log\" =\u003e \"off\", # Disable logs for stats\n#    \"allow\" =\u003e \"127.0.0.1\", # Only allow access from localhost\n#    \"deny\" =\u003e \"all\" # Deny access to anyone else\n#  }\n# }\n\n################################################################################\n## GitLab Logging\n##! Docs: https://docs.gitlab.com/omnibus/settings/logs.html\n################################################################################\n\n# logging['svlogd_size'] = 200 * 1024 * 1024 # rotate after 200 MB of log data\n# logging['svlogd_num'] = 30 # keep 30 rotated log files\n# logging['svlogd_timeout'] = 24 * 60 * 60 # rotate after 24 hours\n# logging['svlogd_filter'] = \"gzip\" # compress logs with gzip\n# logging['svlogd_udp'] = nil # transmit log messages via UDP\n# logging['svlogd_prefix'] = nil # custom prefix for log messages\n# logging['logrotate_frequency'] = \"daily\" # rotate logs daily\n# logging['logrotate_size'] = nil # do not rotate by size by default\n# logging['logrotate_rotate'] = 30 # keep 30 rotated logs\n# logging['logrotate_compress'] = \"compress\" # see 'man logrotate'\n# logging['logrotate_method'] = \"copytruncate\" # see 'man logrotate'\n# logging['logrotate_postrotate'] = nil # no postrotate command by default\n# logging['logrotate_dateformat'] = nil # use date extensions for rotated files rather than numbers e.g. a value of \"-%Y-%m-%d\" would give rotated files like production.log-2016-03-09.gz\n\n### UDP log forwarding\n##! Docs: http://docs.gitlab.com/omnibus/settings/logs.html#udp-log-forwarding\n\n##! remote host to ship log messages to via UDP\n# logging['udp_log_shipping_host'] = nil\n\n##! override the hostname used when logs are shipped via UDP,\n##  by default the system hostname will be used.\n# logging['udp_log_shipping_hostname'] = nil\n\n##! remote port to ship log messages to via UDP\n# logging['udp_log_shipping_port'] = 514\n\n################################################################################\n## Logrotate\n##! Docs: https://docs.gitlab.com/omnibus/settings/logs.html#logrotate\n##! You can disable built in logrotate feature.\n################################################################################\n# logrotate['enable'] = true\n\n################################################################################\n## Users and groups accounts\n##! Disable management of users and groups accounts.\n##! **Set only if creating accounts manually**\n##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#disable-user-and-group-account-management\n################################################################################\n\n# manage_accounts['enable'] = false\n\n################################################################################\n## Storage directories\n##! Disable managing storage directories\n##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#disable-storage-directories-management\n################################################################################\n\n##! **Set only if the select directories are created manually**\n# manage_storage_directories['enable'] = false\n# manage_storage_directories['manage_etc'] = false\n\n################################################################################\n## Runtime directory\n##! Docs: https://docs.gitlab.com//omnibus/settings/configuration.html#configuring-runtime-directory\n################################################################################\n\n# runtime_dir '/run'\n\n################################################################################\n## Git\n##! Advanced setting for configuring git system settings for omnibus-gitlab\n##! internal git\n################################################################################\n\n##! For multiple options under one header use array of comma separated values,\n##! eg.:\n##! { \"receive\" =\u003e [\"fsckObjects = true\"], \"alias\" =\u003e [\"st = status\", \"co = checkout\"] }\n\n# omnibus_gitconfig['system'] = {\n#  \"pack\" =\u003e [\"threads = 1\"],\n#  \"receive\" =\u003e [\"fsckObjects = true\", \"advertisePushOptions = true\"],\n#  \"repack\" =\u003e [\"writeBitmaps = true\"],\n#  \"transfer\" =\u003e [\"hideRefs=^refs/tmp/\", \"hideRefs=^refs/keep-around/\", \"hideRefs=^refs/remotes/\"],\n# }\n\n################################################################################\n## GitLab Pages\n##! Docs: https://docs.gitlab.com/ce/pages/administration.html\n################################################################################\n\n##! Define to enable GitLab Pages\n# pages_external_url \"http://pages.example.com/\"\n# gitlab_pages['enable'] = false\n\n##! Configure to expose GitLab Pages on external IP address, serving the HTTP\n# gitlab_pages['external_http'] = []\n\n##! Configure to expose GitLab Pages on external IP address, serving the HTTPS\n# gitlab_pages['external_https'] = []\n\n##! Configure to enable health check endpoint on GitLab Pages\n# gitlab_pages['status_uri'] = \"/@status\"\n\n##! Tune the maximum number of concurrent connections GitLab Pages will handle.\n##! This should be in the range 1 - 10000, defaulting to 5000.\n# gitlab_pages['max_connections'] = 5000\n\n##! Configure to use JSON structured logging in GitLab Pages\n# gitlab_pages['log_format'] = \"json\"\n\n##! Configure verbose logging for GitLab Pages\n# gitlab_pages['log_verbose'] = false\n\n##! Listen for requests forwarded by reverse proxy\n# gitlab_pages['listen_proxy'] = \"localhost:8090\"\n\n# gitlab_pages['redirect_http'] = true\n# gitlab_pages['use_http2'] = true\n# gitlab_pages['dir'] = \"/var/opt/gitlab/gitlab-pages\"\n# gitlab_pages['log_directory'] = \"/var/log/gitlab/gitlab-pages\"\n\n# gitlab_pages['artifacts_server'] = true\n# gitlab_pages['artifacts_server_url'] = nil # Defaults to external_url + '/api/v4'\n# gitlab_pages['artifacts_server_timeout'] = 10\n\n##! Environments that do not support bind-mounting should set this parameter to\n##! true. This is incompatible with the artifacts server\n# gitlab_pages['inplace_chroot'] = false\n\n##! Prometheus metrics for Pages docs: https://gitlab.com/gitlab-org/gitlab-pages/#enable-prometheus-metrics\n# gitlab_pages['metrics_address'] = \":9235\"\n\n##! Configure the pages admin API\n# gitlab_pages['admin_secret_token'] = 'custom secret'\n# gitlab_pages['admin_https_listener'] = '0.0.0.0:5678'\n# gitlab_pages['admin_https_cert'] = '/etc/gitlab/pages-admin.crt'\n# gitlab_pages['admin_https_key'] = '/etc/gitlab/pages-admin.key'\n\n##! Client side configuration for gitlab-pages admin API, in case pages runs on a different host\n# gitlab_rails['pages_admin_address'] = 'pages.gitlab.example.com:5678'\n# gitlab_rails['pages_admin_certificate'] = '/etc/gitlab/pages-admin.crt'\n\n##! Pages access control\n# gitlab_pages['access_control'] = false\n# gitlab_pages['gitlab_id'] = nil # Automatically generated if not present\n# gitlab_pages['gitlab_secret'] = nil # Generated if not present\n# gitlab_pages['auth_redirect_uri'] = nil # Defaults to projects subdomain of pages_external_url and + '/auth'\n# gitlab_pages['auth_server'] = nil # Defaults to external_url\n# gitlab_pages['auth_secret'] = nil # Generated if not present\n\n################################################################################\n## GitLab Pages NGINX\n################################################################################\n\n# All the settings defined in the \"GitLab Nginx\" section are also available in\n# this \"GitLab Pages NGINX\" section, using the key `pages_nginx`.  However,\n# those settings should be explicitly set. That is, settings given as\n# `nginx['some_setting']` WILL NOT be automatically replicated as\n# `pages_nginx['some_setting']` and should be set separately.\n\n# Below you can find settings that are exclusive to \"GitLab Pages NGINX\"\n# pages_nginx['enable'] = false\n\n# gitlab_rails['pages_path'] = \"/var/opt/gitlab/gitlab-rails/shared/pages\"\n\n################################################################################\n## GitLab CI\n##! Docs: https://docs.gitlab.com/ce/ci/quick_start/README.html\n################################################################################\n\n# gitlab_ci['gitlab_ci_all_broken_builds'] = true\n# gitlab_ci['gitlab_ci_add_pusher'] = true\n# gitlab_ci['builds_directory'] = '/var/opt/gitlab/gitlab-ci/builds'\n\n################################################################################\n## GitLab Mattermost\n##! Docs: https://docs.gitlab.com/omnibus/gitlab-mattermost\n################################################################################\n\n# mattermost_external_url 'http://mattermost.example.com'\n\n# mattermost['enable'] = false\n# mattermost['username'] = 'mattermost'\n# mattermost['group'] = 'mattermost'\n# mattermost['uid'] = nil\n# mattermost['gid'] = nil\n# mattermost['home'] = '/var/opt/gitlab/mattermost'\n# mattermost['database_name'] = 'mattermost_production'\n# mattermost['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n# mattermost['service_address'] = \"127.0.0.1\"\n# mattermost['service_port'] = \"8065\"\n# mattermost['service_site_url'] = nil\n# mattermost['service_allowed_untrusted_internal_connections'] = \"\"\n# mattermost['service_enable_api_team_deletion'] = true\n# mattermost['team_site_name'] = \"GitLab Mattermost\"\n# mattermost['sql_driver_name'] = 'mysql'\n# mattermost['sql_data_source'] = \"mmuser:mostest@tcp(dockerhost:3306)/mattermost_test?charset=utf8mb4,utf8\"\n# mattermost['log_file_directory'] = '/var/log/gitlab/mattermost/'\n# mattermost['gitlab_enable'] = false\n# mattermost['gitlab_id'] = \"12345656\"\n# mattermost['gitlab_secret'] = \"123456789\"\n# mattermost['gitlab_scope'] = \"\"\n# mattermost['gitlab_auth_endpoint'] = \"http://gitlab.example.com/oauth/authorize\"\n# mattermost['gitlab_token_endpoint'] = \"http://gitlab.example.com/oauth/token\"\n# mattermost['gitlab_user_api_endpoint'] = \"http://gitlab.example.com/api/v4/user\"\n# mattermost['file_directory'] = \"/var/opt/gitlab/mattermost/data\"\n# mattermost['plugin_directory'] = \"/var/opt/gitlab/mattermost/plugins\"\n# mattermost['plugin_client_directory'] = \"/var/opt/gitlab/mattermost/client-plugins\"\n\n################################################################################\n## Mattermost NGINX\n################################################################################\n\n# All the settings defined in the \"GitLab Nginx\" section are also available in\n# this \"Mattermost NGINX\" section, using the key `mattermost_nginx`.  However,\n# those settings should be explicitly set. That is, settings given as\n# `nginx['some_setting']` WILL NOT be automatically replicated as\n# `mattermost_nginx['some_setting']` and should be set separately.\n\n# Below you can find settings that are exclusive to \"Mattermost NGINX\"\n# mattermost_nginx['enable'] = false\n\n# mattermost_nginx['custom_gitlab_mattermost_server_config'] = \"location ^~ /foo-namespace/bar-project/raw/ {\\n deny all;\\n}\\n\"\n# mattermost_nginx['proxy_set_headers'] = {\n#   \"Host\" =\u003e \"$http_host\",\n#   \"X-Real-IP\" =\u003e \"$remote_addr\",\n#   \"X-Forwarded-For\" =\u003e \"$proxy_add_x_forwarded_for\",\n#   \"X-Frame-Options\" =\u003e \"SAMEORIGIN\",\n#   \"X-Forwarded-Proto\" =\u003e \"https\",\n#   \"X-Forwarded-Ssl\" =\u003e \"on\",\n#   \"Upgrade\" =\u003e \"$http_upgrade\",\n#   \"Connection\" =\u003e \"$connection_upgrade\"\n# }\n\n\n################################################################################\n## Registry NGINX\n################################################################################\n\n# All the settings defined in the \"GitLab Nginx\" section are also available in\n# this \"Registry NGINX\" section, using the key `registry_nginx`.  However, those\n# settings should be explicitly set. That is, settings given as\n# `nginx['some_setting']` WILL NOT be automatically replicated as\n# `registry_nginx['some_setting']` and should be set separately.\n\n# Below you can find settings that are exclusive to \"Registry NGINX\"\n# registry_nginx['enable'] = false\n\n# registry_nginx['proxy_set_headers'] = {\n#  \"Host\" =\u003e \"$http_host\",\n#  \"X-Real-IP\" =\u003e \"$remote_addr\",\n#  \"X-Forwarded-For\" =\u003e \"$proxy_add_x_forwarded_for\",\n#  \"X-Forwarded-Proto\" =\u003e \"https\",\n#  \"X-Forwarded-Ssl\" =\u003e \"on\"\n# }\n\n################################################################################\n## Prometheus\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/\n################################################################################\n\n# prometheus['enable'] = true\n# prometheus['monitor_kubernetes'] = true\n# prometheus['username'] = 'gitlab-prometheus'\n# prometheus['group'] = 'gitlab-prometheus'\n# prometheus['uid'] = nil\n# prometheus['gid'] = nil\n# prometheus['shell'] = '/bin/sh'\n# prometheus['home'] = '/var/opt/gitlab/prometheus'\n# prometheus['log_directory'] = '/var/log/gitlab/prometheus'\n# prometheus['rules_files'] = ['/var/opt/gitlab/prometheus/rules/*.rules']\n# prometheus['scrape_interval'] = 15\n# prometheus['scrape_timeout'] = 15\n# prometheus['chunk_encoding_version'] = 2\n# prometheus['env_directory'] = '/opt/gitlab/etc/prometheus/env'\n# prometheus['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n#\n### Custom scrape configs\n#\n# Prometheus can scrape additional jobs via scrape_configs.  The default automatically\n# includes all of the exporters supported by the omnibus config.\n#\n# See: https://prometheus.io/docs/operating/configuration/#\u003cscrape_config\u003e\n#\n# Example:\n#\n# prometheus['scrape_configs'] = [\n#   {\n#     'job_name': 'example',\n#     'static_configs' =\u003e [\n#       'targets' =\u003e ['hostname:port'],\n#     ],\n#   },\n# ]\n#\n### Prometheus Memory Management\n#\n# Prometheus needs to be configured for how much memory is used.\n# * This sets the target heap size.\n# * This value accounts for approximately 2/3 of the memory used by the server.\n# * The recommended memory is 4kb per unique metrics time-series.\n# See: https://prometheus.io/docs/operating/storage/#memory-usage\n#\n# prometheus['target_heap_size'] = (\n#   # Use 25mb + 2% of total memory for Prometheus memory.\n#   26_214_400 + (node['memory']['total'].to_i * 1024 * 0.02 )\n# ).to_i\n#\n# prometheus['flags'] = {\n#   'storage.local.path' =\u003e \"#{node['gitlab']['prometheus']['home']}/data\",\n#   'storage.local.chunk-encoding-version' =\u003e user_config['chunk-encoding-version'],\n#   'storage.local.target-heap-size' =\u003e node['gitlab']['prometheus']['target-heap-size'],\n#   'config.file' =\u003e \"#{node['gitlab']['prometheus']['home']}/prometheus.yml\"\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# prometheus['listen_address'] = 'localhost:9090'\n\n################################################################################\n## Prometheus Alertmanager\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/alertmanager.html\n################################################################################\n\n# alertmanager['enable'] = true\n# alertmanager['home'] = '/var/opt/gitlab/alertmanager'\n# alertmanager['log_directory'] = '/var/log/gitlab/alertmanager'\n# alertmanager['admin_email'] = 'admin@example.com'\n# alertmanager['flags'] = {\n#   'web.listen-address' =\u003e \"#{node['gitlab']['alertmanager']['listen_address']}\"\n#   'storage.path' =\u003e \"#{node['gitlab']['alertmanager']['home']}/data\"\n#   'config.file' =\u003e \"#{node['gitlab']['alertmanager']['home']}/alertmanager.yml\"\n# }\n# alertmanager['env_directory'] = '/opt/gitlab/etc/alertmanager/env'\n# alertmanager['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# alertmanager['listen_address'] = 'localhost:9093'\n\n################################################################################\n## Prometheus Node Exporter\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/node_exporter.html\n################################################################################\n\n# node_exporter['enable'] = true\n# node_exporter['home'] = '/var/opt/gitlab/node-exporter'\n# node_exporter['log_directory'] = '/var/log/gitlab/node-exporter'\n# node_exporter['flags'] = {\n#   'collector.textfile.directory' =\u003e \"#{node['gitlab']['node-exporter']['home']}/textfile_collector\"\n# }\n# node_exporter['env_directory'] = '/opt/gitlab/etc/node-exporter/env'\n# node_exporter['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# node_exporter['listen_address'] = 'localhost:9100'\n\n################################################################################\n## Prometheus Redis exporter\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/redis_exporter.html\n################################################################################\n\n# redis_exporter['enable'] = true\n# redis_exporter['log_directory'] = '/var/log/gitlab/redis-exporter'\n# redis_exporter['flags'] = {\n#   'redis.addr' =\u003e \"unix://#{node['gitlab']['gitlab-rails']['redis_socket']}\",\n# }\n# redis_exporter['env_directory'] = '/opt/gitlab/etc/redis-exporter/env'\n# redis_exporter['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# redis_exporter['listen_address'] = 'localhost:9121'\n\n################################################################################\n## Prometheus Postgres exporter\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/postgres_exporter.html\n################################################################################\n\n# postgres_exporter['enable'] = true\n# postgres_exporter['home'] = '/var/opt/gitlab/postgres-exporter'\n# postgres_exporter['log_directory'] = '/var/log/gitlab/postgres-exporter'\n# postgres_exporter['flags'] = {}\n# postgres_exporter['listen_address'] = 'localhost:9187'\n# postgres_exporter['env_directory'] = '/opt/gitlab/etc/postgres-exporter/env'\n# postgres_exporter['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n\n################################################################################\n## Prometheus PgBouncer exporter (EE only)\n##! Docs: https://docs.gitlab.com/ee/administration/monitoring/prometheus/pgbouncer_exporter.html\n################################################################################\n\n# pgbouncer_exporter['enable'] = false\n# pgbouncer_exporter['log_directory'] = \"/var/log/gitlab/pgbouncer-exporter\"\n# pgbouncer_exporter['listen_address'] = 'localhost:9188'\n# pgbouncer_exporter['env_directory'] = '/opt/gitlab/etc/pgbouncer-exporter/env'\n# pgbouncer_exporter['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n\n################################################################################\n## Prometheus Gitlab monitor\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/gitlab_monitor_exporter.html\n################################################################################\n\n\n# gitlab_monitor['enable'] = true\n# gitlab_monitor['log_directory'] = \"/var/log/gitlab/gitlab-monitor\"\n# gitlab_monitor['home'] = \"/var/opt/gitlab/gitlab-monitor\"\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# gitlab_monitor['listen_address'] = 'localhost'\n# gitlab_monitor['listen_port'] = '9168'\n\n##! Manage gitlab-monitor sidekiq probes. false by default when Sentinels are\n##! found.\n# gitlab_monitor['probe_sidekiq'] = true\n\n# To completely disable prometheus, and all of it's exporters, set to false\n# prometheus_monitoring['enable'] = true\n\n################################################################################\n## Gitaly\n##! Docs:\n################################################################################\n\n# The gitaly['enable'] option exists for the purpose of cluster\n# deployments, see https://docs.gitlab.com/ee/administration/gitaly/index.html .\n# gitaly['enable'] = true\n# gitaly['dir'] = \"/var/opt/gitlab/gitaly\"\n# gitaly['log_directory'] = \"/var/log/gitlab/gitaly\"\n# gitaly['bin_path'] = \"/opt/gitlab/embedded/bin/gitaly\"\n# gitaly['env_directory'] = \"/opt/gitlab/etc/gitaly/env\"\n# gitaly['env'] = {\n#  'PATH' =\u003e \"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\",\n#  'HOME' =\u003e '/var/opt/gitlab'\n# }\n# gitaly['socket_path'] = \"/var/opt/gitlab/gitaly/gitaly.socket\"\n# gitaly['listen_addr'] = \"localhost:8075\"\n# gitaly['tls_listen_addr] = \"localhost:9075\"\n# gitaly['certificate_path'] = \"/var/opt/gitlab/gitaly/certificate.pem'\n# gitaly['key_path'] = \"/var/opt/gitlab/gitaly/key.pem\"\n# gitaly['prometheus_listen_addr'] = \"localhost:9236\"\n# gitaly['logging_level'] = \"warn\"\n# gitaly['logging_format'] = \"json\"\n# gitaly['logging_sentry_dsn'] = \"https://\u003ckey\u003e:\u003csecret\u003e@sentry.io/\u003cproject\u003e\"\n# gitaly['logging_ruby_sentry_dsn'] = \"https://\u003ckey\u003e:\u003csecret\u003e@sentry.io/\u003cproject\u003e\"\n# gitaly['prometheus_grpc_latency_buckets'] = \"[0.001, 0.005, 0.025, 0.1, 0.5, 1.0, 10.0, 30.0, 60.0, 300.0, 1500.0]\"\n# gitaly['auth_token'] = '\u003csecret\u003e'\n# gitaly['auth_transitioning'] = false # When true, auth is logged to Prometheus but NOT enforced\n# gitaly['ruby_max_rss'] = 300000000 # RSS threshold in bytes for triggering a gitaly-ruby restart\n# gitaly['ruby_graceful_restart_timeout'] = '10m' # Grace time for a gitaly-ruby process to finish ongoing requests\n# gitaly['ruby_restart_delay'] = '5m' # Period of sustained high RSS that needs to be observed before restarting gitaly-ruby\n# gitaly['ruby_num_workers'] = 3 # Number of gitaly-ruby worker processes. Minimum 2, default 2.\n# gitaly['storage'] = [\n#   {\n#     'name' =\u003e 'default',\n#     'path' =\u003e '/mnt/nfs-01/git-data/repositories'\n#   },\n#   {\n#     'name' =\u003e 'secondary',\n#     'path' =\u003e '/mnt/nfs-02/git-data/repositories'\n#   }\n# ]\n# gitaly['concurrency'] = [\n#   {\n#     'rpc' =\u003e \"/gitaly.SmartHTTPService/PostReceivePack\",\n#     'max_per_repo' =\u003e 20\n#   }, {\n#     'rpc' =\u003e \"/gitaly.SSHService/SSHUploadPack\",\n#     'max_per_repo' =\u003e 5\n#   }\n# ]\n\n################################################################################\n# Storage check\n################################################################################\n# storage_check['enable'] = false\n# storage_check['target'] = 'unix:///var/opt/gitlab/gitlab-rails/sockets/gitlab.socket'\n# storage_check['log_directory'] = '/var/log/gitlab/storage-check'\n\n################################################################################\n# Let's Encrypt integration\n################################################################################\n# letsencrypt['enable'] = nil\n# letsencrypt['contact_emails'] = [] # This should be an array of email addresses to add as contacts\n# letsencrypt['group'] = 'root'\n# letsencrypt['key_size'] = 2048\n# letsencrypt['owner'] = 'root'\n# letsencrypt['wwwroot'] = '/var/opt/gitlab/nginx/www'\n# See http://docs.gitlab.com/omnibus/settings/ssl.html#automatic-renewal for more on these sesttings\n# letsencrypt['auto_renew'] = true\n# letsencrypt['auto_renew_hour'] = 0\n# letsencrypt['auto_renew_minute'] = nil # Should be a number or cron expression, if specified.\n# letsencrypt['auto_renew_day_of_month'] = \"*/4\"\n\n################################################################################\n################################################################################\n##                  Configuration Settings for GitLab EE only                 ##\n################################################################################\n################################################################################\n\n\n################################################################################\n## Auxiliary cron jobs applicable to GitLab EE only\n################################################################################\n#\n# gitlab_rails['geo_file_download_dispatch_worker_cron'] = \"*/10 * * * *\"\n# gitlab_rails['geo_repository_sync_worker_cron'] = \"*/5 * * * *\"\n# gitlab_rails['geo_prune_event_log_worker_cron'] = \"*/5 * * * *\"\n# gitlab_rails['geo_repository_verification_primary_batch_worker_cron'] = \"*/5 * * * *\"\n# gitlab_rails['geo_repository_verification_secondary_scheduler_worker_cron'] = \"*/5 * * * *\"\n# gitlab_rails['geo_migrated_local_files_clean_up_worker_cron'] = \"15 */6 * * *\"\n# gitlab_rails['ldap_sync_worker_cron'] = \"30 1 * * *\"\n# gitlab_rails['ldap_group_sync_worker_cron'] = \"0 * * * *\"\n# gitlab_rails['historical_data_worker_cron'] = \"0 12 * * *\"\n# gitlab_rails['pseudonymizer_worker_cron'] = \"0 23 * * *\"\n\n################################################################################\n## Kerberos (EE Only)\n##! Docs: https://docs.gitlab.com/ee/integration/kerberos.html#http-git-access\n################################################################################\n\n# gitlab_rails['kerberos_enabled'] = true\n# gitlab_rails['kerberos_keytab'] = /etc/http.keytab\n# gitlab_rails['kerberos_service_principal_name'] = HTTP/gitlab.example.com@EXAMPLE.COM\n# gitlab_rails['kerberos_use_dedicated_port'] = true\n# gitlab_rails['kerberos_port'] = 8443\n# gitlab_rails['kerberos_https'] = true\n\n################################################################################\n## Package repository (EE Only)\n##! Docs: https://docs.gitlab.com/ee/administration/maven_packages.md\n################################################################################\n\n# gitlab_rails['packages_enabled'] = true\n# gitlab_rails['packages_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/packages\"\n# gitlab_rails['packages_object_store_enabled'] = false\n# gitlab_rails['packages_object_store_direct_upload'] = false\n# gitlab_rails['packages_object_store_background_upload'] = true\n# gitlab_rails['packages_object_store_proxy_download'] = false\n# gitlab_rails['packages_object_store_remote_directory'] = \"packages\"\n# gitlab_rails['packages_object_store_connection'] = {\n#   'provider' =\u003e 'AWS',\n#   'region' =\u003e 'eu-west-1',\n#   'aws_access_key_id' =\u003e 'AWS_ACCESS_KEY_ID',\n#   'aws_secret_access_key' =\u003e 'AWS_SECRET_ACCESS_KEY',\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # 'host' =\u003e 's3.amazonaws.com',\n#   # 'aws_signature_version' =\u003e 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # 'endpoint' =\u003e 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # 'path_style' =\u003e false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\n# }\n\n################################################################################\n## GitLab Sentinel (EE Only)\n##! Docs: http://docs.gitlab.com/ce/administration/high_availability/redis.html#high-availability-with-sentinel\n################################################################################\n\n##! **Make sure you configured all redis['master_*'] keys above before\n##!   continuing.**\n\n##! To enable Sentinel and disable all other services in this machine,\n##! uncomment the line below (if you've enabled Redis role, it will keep it).\n##! Docs: https://docs.gitlab.com/ce/administration/high_availability/redis.html\n# redis_sentinel_role['enable'] = true\n\n# sentinel['enable'] = true\n\n##! Bind to all interfaces, uncomment to specify an IP and bind to a single one\n# sentinel['bind'] = '0.0.0.0'\n\n##! Uncomment to change default port\n# sentinel['port'] = 26379\n\n#### Support to run sentinels in a Docker or NAT environment\n#####! Docs: https://redis.io/topics/sentinel#sentinel-docker-nat-and-possible-issues\n# In an standard case, Sentinel will run in the same network service as Redis, so the same IP will be announce for Redis and Sentinel\n# Only define these values if it is needed to announce for Sentinel a differen IP service than Redis\n# sentinel['announce_ip'] = nil # If not defined, its value will be taken from redis['announce_ip'] or nil if not present\n# sentinel['announce_port'] = nil # If not defined, its value will be taken from sentinel['port'] or nil if redis['announce_ip'] not present\n\n##! Quorum must reflect the amount of voting sentinels it take to start a\n##! failover.\n##! **Value must NOT be greater then the amount of sentinels.**\n##! The quorum can be used to tune Sentinel in two ways:\n##! 1. If a the quorum is set to a value smaller than the majority of Sentinels\n##!    we deploy, we are basically making Sentinel more sensible to master\n##!    failures, triggering a failover as soon as even just a minority of\n##!    Sentinels is no longer able to talk with the master.\n##! 2. If a quorum is set to a value greater than the majority of Sentinels, we\n##!    are making Sentinel able to failover only when there are a very large\n##!    number (larger than majority) of well connected Sentinels which agree\n##!    about the master being down.\n# sentinel['quorum'] = 1\n\n### Consider unresponsive server down after x amount of ms.\n# sentinel['down_after_milliseconds'] = 10000\n\n### Specifies the failover timeout in milliseconds.\n##! It is used in many ways:\n##!\n##! - The time needed to re-start a failover after a previous failover was\n##!   already tried against the same master by a given Sentinel, is two\n##!   times the failover timeout.\n##!\n##! - The time needed for a slave replicating to a wrong master according\n##!   to a Sentinel current configuration, to be forced to replicate\n##!   with the right master, is exactly the failover timeout (counting since\n##!   the moment a Sentinel detected the misconfiguration).\n##!\n##! - The time needed to cancel a failover that is already in progress but\n##!   did not produced any configuration change (SLAVEOF NO ONE yet not\n##!   acknowledged by the promoted slave).\n##!\n##! - The maximum time a failover in progress waits for all the slaves to be\n##!   reconfigured as slaves of the new master. However even after this time\n##!   the slaves will be reconfigured by the Sentinels anyway, but not with\n##!   the exact parallel-syncs progression as specified.\n# sentinel['failover_timeout'] = 60000\n\n################################################################################\n## GitLab Sidekiq Cluster (EE only)\n################################################################################\n\n##! GitLab Enterprise Edition allows one to start an extra set of Sidekiq processes\n##! besides the default one. These processes can be used to consume a dedicated set\n##! of queues. This can be used to ensure certain queues always have dedicated\n##! workers, no matter the amount of jobs that need to be processed.\n\n# sidekiq_cluster['enable'] = false\n# sidekiq_cluster['ha'] = false\n# sidekiq_cluster['log_directory'] = \"/var/log/gitlab/sidekiq-cluster\"\n# sidekiq_cluster['interval'] = 5 # The number of seconds to wait between worker checks\n# sidekiq_cluster['max_concurrency'] = 50 # The maximum number of threads each Sidekiq process should run\n\n##! Each entry in the queue_groups array denotes a group of queues that have to be processed by a\n##! Sidekiq process. Multiple queues can be processed by the same process by\n##! separating them with a comma within the group entry\n\n# sidekiq_cluster['queue_groups'] = [\n#   \"process_commit,post_receive\",\n#   \"gitlab_shell\"\n# ]\n#\n\n##! If negate is enabled then sidekiq-cluster will process all the queues that\n##! don't match those in queue_groups.\n\n# sidekiq_cluster['negate'] = false\n\n################################################################################\n## Additional Database Settings (EE only)\n##! Docs: https://docs.gitlab.com/ee/administration/database_load_balancing.html\n################################################################################\n# gitlab_rails['db_load_balancing'] = { 'hosts' =\u003e ['secondary1.example.com'] }\n\n################################################################################\n## GitLab Geo\n##! Docs: https://docs.gitlab.com/ee/gitlab-geo\n################################################################################\n# geo_primary_role['enable'] = false\n# geo_secondary_role['enable'] = false\n\n################################################################################\n## GitLab Geo Secondary (EE only)\n################################################################################\n# geo_secondary['auto_migrate'] = true\n# geo_secondary['db_adapter'] = \"postgresql\"\n# geo_secondary['db_encoding'] = \"unicode\"\n# geo_secondary['db_collation'] = nil\n# geo_secondary['db_database'] = \"gitlabhq_geo_production\"\n# geo_secondary['db_pool'] = 10\n# geo_secondary['db_username'] = \"gitlab_geo\"\n# geo_secondary['db_password'] = nil\n# geo_secondary['db_host'] = \"/var/opt/gitlab/geo-postgresql\"\n# geo_secondary['db_port'] = 5431\n# geo_secondary['db_socket'] = nil\n# geo_secondary['db_sslmode'] = nil\n# geo_secondary['db_sslcompression'] = 0\n# geo_secondary['db_sslrootcert'] = nil\n# geo_secondary['db_sslca'] = nil\n# geo_secondary['db_fdw'] = true\n\n################################################################################\n## GitLab Geo Secondary Tracking Database (EE only)\n################################################################################\n\n# geo_postgresql['enable'] = false\n# geo_postgresql['ha'] = false\n# geo_postgresql['dir'] = '/var/opt/gitlab/geo-postgresql'\n# geo_postgresql['data_dir'] = '/var/opt/gitlab/geo-postgresql/data'\n# geo_postgresql['pgbouncer_user'] = nil\n# geo_postgresql['pgbouncer_user_password'] = nil\n\n################################################################################\n# Pgbouncer (EE only)\n# See [GitLab PgBouncer documentation](http://docs.gitlab.com/omnibus/settings/database.html#enabling-pgbouncer-ee-only)\n# See the [PgBouncer page](https://pgbouncer.github.io/config.html) for details\n################################################################################\n# pgbouncer['enable'] = false\n# pgbouncer['log_directory'] = '/var/log/gitlab/pgbouncer'\n# pgbouncer['data_directory'] = '/var/opt/gitlab/pgbouncer'\n# pgbouncer['env_directory'] = '/opt/gitlab/etc/pgbouncer/env'\n# pgbouncer['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n# pgbouncer['listen_addr'] = '0.0.0.0'\n# pgbouncer['listen_port'] = '6432'\n# pgbouncer['pool_mode'] = 'transaction'\n# pgbouncer['server_reset_query'] = 'DISCARD ALL'\n# pgbouncer['application_name_add_host'] = '1'\n# pgbouncer['max_client_conn'] = '2048'\n# pgbouncer['default_pool_size'] = '100'\n# pgbouncer['min_pool_size'] = '0'\n# pgbouncer['reserve_pool_size'] = '5'\n# pgbouncer['reserve_pool_timeout'] = '5.0'\n# pgbouncer['server_round_robin'] = '0'\n# pgbouncer['log_connections'] = '0'\n# pgbouncer['server_idle_timeout'] = '30'\n# pgbouncer['dns_max_ttl'] = '15.0'\n# pgbouncer['dns_zone_check_period'] = '0'\n# pgbouncer['dns_nxdomain_ttl'] = '15.0'\n# pgbouncer['admin_users'] = %w(gitlab-psql postgres pgbouncer)\n# pgbouncer['stats_users'] = %w(gitlab-psql postgres pgbouncer)\n# pgbouncer['ignore_startup_parameters'] = 'extra_float_digits'\n# pgbouncer['databases'] = {\n#   DATABASE_NAME: {\n#     host: HOSTNAME,\n#     port: PORT\n#     user: USERNAME,\n#     password: PASSWORD\n###! generate this with `echo -n '$password + $username' | md5sum`\n#   }\n#   ...\n# }\n# pgbouncer['logfile'] = nil\n# pgbouncer['unix_socket_dir'] = nil\n# pgbouncer['unix_socket_mode'] = '0777'\n# pgbouncer['unix_socket_group'] = nil\n# pgbouncer['auth_type'] = 'md5'\n# pgbouncer['auth_hba_file'] = nil\n# pgbouncer['auth_query'] = 'SELECT username, password FROM public.pg_shadow_lookup($1)'\n# pgbouncer['users'] = {\n#   {\n#     name: USERNAME,\n#     password: MD5_PASSWORD_HASH\n#   }\n# }\n# postgresql['pgbouncer_user'] = nil\n# postgresql['pgbouncer_user_password'] = nil\n# pgbouncer['server_reset_query_always'] = 0\n# pgbouncer['server_check_query'] = 'select 1'\n# pgbouncer['server_check_delay'] = 30\n# pgbouncer['max_db_connections'] = nil\n# pgbouncer['max_user_connections'] = nil\n# pgbouncer['syslog'] = 0\n# pgbouncer['syslog_facility'] = 'daemon'\n# pgbouncer['syslog_ident'] = 'pgbouncer'\n# pgbouncer['log_disconnections'] = 1\n# pgbouncer['log_pooler_errors'] = 1\n# pgbouncer['stats_period'] = 60\n# pgbouncer['verbose'] = 0\n# pgbouncer['server_lifetime'] = 3600\n# pgbouncer['server_connect_timeout'] = 15\n# pgbouncer['server_login_retry'] = 15\n# pgbouncer['query_timeout'] = 0\n# pgbouncer['query_wait_timeout'] = 120\n# pgbouncer['client_idle_timeout'] = 0\n# pgbouncer['client_login_timeout'] = 60\n# pgbouncer['autodb_idle_timeout'] = 3600\n# pgbouncer['suspend_timeout'] = 10\n# pgbouncer['idle_transaction_timeout'] = 0\n# pgbouncer['pkt_buf'] = 4096\n# pgbouncer['listen_backlog'] = 128\n# pgbouncer['sbuf_loopcnt'] = 5\n# pgbouncer['max_packet_size'] = 2147483647\n# pgbouncer['tcp_defer_accept'] = 0\n# pgbouncer['tcp_socket_buffer'] = 0\n# pgbouncer['tcp_keepalive'] = 1\n# pgbouncer['tcp_keepcnt'] = 0\n# pgbouncer['tcp_keepidle'] = 0\n# pgbouncer['tcp_keepintvl'] = 0\n# pgbouncer['disable_pqexec'] = 0\n\n## Pgbouncer client TLS options\n# pgbouncer['client_tls_sslmode'] = 'disable'\n# pgbouncer['client_tls_ca_file'] = nil\n# pgbouncer['client_tls_key_file'] = nil\n# pgbouncer['client_tls_cert_file'] = nil\n# pgbouncer['client_tls_protocols'] = 'all'\n# pgbouncer['client_tls_dheparams'] = 'auto'\n# pgbouncer['client_tls_ecdhcurve'] = 'auto'\n#\n## Pgbouncer server  TLS options\n# pgbouncer['server_tls_sslmode'] = 'disable'\n# pgbouncer['server_tls_ca_file'] = nil\n# pgbouncer['server_tls_key_file'] = nil\n# pgbouncer['server_tls_cert_file'] = nil\n# pgbouncer['server_tls_protocols'] = 'all'\n# pgbouncer['server_tls_ciphers'] = 'fast'\n\n################################################################################\n# Repmgr (EE only)\n################################################################################\n# repmgr['enable'] = false\n# repmgr['cluster'] = 'gitlab_cluster'\n# repmgr['database'] = 'gitlab_repmgr'\n# repmgr['host'] = nil\n# repmgr['node_number'] = nil\n# repmgr['port'] = 5432\n# repmgr['trust_auth_cidr_addresses'] = []\n# repmgr['user'] = 'gitlab_repmgr'\n# repmgr['sslmode'] = 'prefer'\n# repmgr['sslcompression'] = 0\n# repmgr['failover'] = 'automatic'\n# repmgr['log_directory'] = '/var/log/gitlab/repmgrd'\n# repmgr['node_name'] = nil\n# repmgr['pg_bindir'] = '/opt/gitlab/embedded/bin'\n# repmgr['service_start_command'] = '/opt/gitlab/bin/gitlab-ctl start postgresql'\n# repmgr['service_stop_command'] = '/opt/gitlab/bin/gitlab-ctl stop postgresql'\n# repmgr['service_reload_command'] = '/opt/gitlab/bin/gitlab-ctl hup postgresql'\n# repmgr['service_restart_command'] = '/opt/gitlab/bin/gitlab-ctl restart postgresql'\n# repmgr['service_promote_command'] = nil\n# repmgr['promote_command'] = '/opt/gitlab/embedded/bin/repmgr standby promote -f /var/opt/gitlab/postgresql/repmgr.conf'\n# repmgr['follow_command'] = '/opt/gitlab/embedded/bin/repmgr standby follow -f /var/opt/gitlab/postgresql/repmgr.conf'\n\n# repmgr['upstream_node'] = nil\n# repmgr['use_replication_slots'] = false\n# repmgr['loglevel'] = 'INFO'\n# repmgr['logfacility'] = 'STDERR'\n# repmgr['logfile'] = nil\n\n# repmgr['event_notification_command'] = nil\n# repmgr['event_notifications'] = nil\n\n# repmgr['rsync_options'] = nil\n# repmgr['ssh_options'] = nil\n# repmgr['priority'] = nil\n#\n# HA setting to specify if a node should attempt to be master on initialization\n# repmgr['master_on_initialization'] = true\n\n# repmgr['retry_promote_interval_secs'] = 300\n# repmgr['witness_repl_nodes_sync_interval_secs'] = 15\n# repmgr['reconnect_attempts'] = 6\n# repmgr['reconnect_interval'] = 10\n# repmgr['monitor_interval_secs'] = 2\n# repmgr['master_response_timeout'] = 60\n# repmgr['daemon'] = true\n# repmgrd['enable'] = true\n\n################################################################################\n# Consul (EEP only)\n################################################################################\n# consul['enable'] = false\n# consul['dir'] = '/var/opt/gitlab/consul'\n# consul['user'] = 'gitlab-consul'\n# consul['group'] = 'gitlab-consul'\n# consul['config_file'] = '/var/opt/gitlab/consul/config.json'\n# consul['config_dir'] = '/var/opt/gitlab/consul/config.d'\n# consul['data_dir'] = '/var/opt/gitlab/consul/data'\n# consul['log_directory'] = '/var/log/gitlab/consul'\n# consul['env_directory'] = '/opt/gitlab/etc/consul/env'\n# consul['env'] = {\n#   'SSL_CERT_DIR' =\u003e \"/opt/gitlab/embedded/ssl/certs/\"\n# }\n# consul['node_name'] = nil\n# consul['script_directory'] = '/var/opt/gitlab/consul/scripts'\n# consul['configuration'] = {\n#   'client_addr' =\u003e nil,\n#   'datacenter' =\u003e 'gitlab_consul',\n#   'enable_script_checks' =\u003e true,\n#   'server' =\u003e false\n# }\n# consul['services'] = []\n# consul['service_config'] = {\n#   'postgresql' =\u003e {\n#     'service' =\u003e {\n#       'name' =\u003e \"postgresql\",\n#       'address' =\u003e '',\n#       'port' =\u003e 5432,\n#       'checks' =\u003e [\n#         {\n#           'script' =\u003e \"/var/opt/gitlab/consul/scripts/check_postgresql\",\n#           'interval' =\u003e \"10s\"\n#         }\n#       ]\n#     }\n#   }\n# }\n# consul['watchers'] = {\n#   'postgresql' =\u003e {\n#     enable: false,\n#     handler: 'failover_pgbouncer'\n#   }\n# }\n```\n\n### 可能出现的问题：\n\n\u003e 在GitLab安装完成后，会自动启动GitLab自带的nginx服务器，这时如果我们有自己安装的用于其他项目服务的nginx会导致出现问题，如：重启自己安装的nginx服务器出现端口占用等情况，这时候我们可以把GitLab的Nginx迁移到我们自己安装的Nginx服务器上。\n\n* 修改配置文件，禁用内嵌 nginx 和 unicorn\n\n```\nexternal_url 'http://git.example.com'\nnginx['enable'] = false\nunicorn['enable'] = false\ngitlab_rails['internal_api_url'] = 'http://git.example.com'\nweb_server['external_users'] = ['nginx']\n```\n\n* 在Nginx中增加一个虚拟主机```~/path/nginx/conf/vhost/```添加域名跟```GitLab```中配置相同的域名。如：```code.mcloudhub.com```。\n\n```\nvim ~/path/nginx/conf/vhost/code.mcloudhub.com\n\nserver {\n  listen *:80;\n  server_name git.example.com;\n  server_tokens off;\n  root /opt/gitlab/embedded/service/gitlab-rails/public;\n\n  client_max_body_size 250m;\n\n  access_log  /var/log/gitlab/nginx/gitlab_access.log;\n  error_log   /var/log/gitlab/nginx/gitlab_error.log;\n\n  # Ensure Passenger uses the bundled Ruby version\n  passenger_ruby /opt/gitlab/embedded/bin/ruby;\n\n  # Correct the $PATH variable to included packaged executables\n  passenger_env_var PATH \"/opt/gitlab/bin:/opt/gitlab/embedded/bin:/usr/local/bin:/usr/bin:/bin\";\n\n  # Make sure Passenger runs as the correct user and group to\n  # prevent permission issues\n  passenger_user git;\n  passenger_group git;\n\n  # Enable Passenger \u0026 keep at least one instance running at all times\n  passenger_enabled on;\n  passenger_min_instances 1;\n\n  location ~ ^/[\\w\\.-]+/[\\w\\.-]+/(info/refs|git-upload-pack|git-receive-pack)$ {\n    # 'Error' 418 is a hack to re-use the @gitlab-workhorse block\n    error_page 418 = @gitlab-workhorse;\n    return 418;\n  }\n\n  location ~ ^/[\\w\\.-]+/[\\w\\.-]+/repository/archive {\n    # 'Error' 418 is a hack to re-use the @gitlab-workhorse block\n    error_page 418 = @gitlab-workhorse;\n    return 418;\n  }\n\n  location ~ ^/api/v3/projects/.*/repository/archive {\n    # 'Error' 418 is a hack to re-use the @gitlab-workhorse block\n    error_page 418 = @gitlab-workhorse;\n    return 418;\n  }\n\n  # Build artifacts should be submitted to this location\n  location ~ ^/[\\w\\.-]+/[\\w\\.-]+/builds/download {\n      client_max_body_size 0;\n      # 'Error' 418 is a hack to re-use the @gitlab-workhorse block\n      error_page 418 = @gitlab-workhorse;\n      return 418;\n  }\n\n  # Build artifacts should be submitted to this location\n  location ~ /ci/api/v1/builds/[0-9]+/artifacts {\n      client_max_body_size 0;\n      # 'Error' 418 is a hack to re-use the @gitlab-workhorse block\n      error_page 418 = @gitlab-workhorse;\n      return 418;\n  }\n\n  # Build artifacts should be submitted to this location\n  location ~ /api/v4/jobs/[0-9]+/artifacts {\n      client_max_body_size 0;\n      # 'Error' 418 is a hack to re-use the @gitlab-workhorse block\n      error_page 418 = @gitlab-workhorse;\n      return 418;\n  }\n\n\n  # For protocol upgrades from HTTP/1.0 to HTTP/1.1 we need to provide Host header if its missing\n  if ($http_host = \"\") {\n  # use one of values defined in server_name\n    set $http_host_with_default \"git.example.com\";\n  }\n\n  if ($http_host != \"\") {\n    set $http_host_with_default $http_host;\n  }\n\n  location @gitlab-workhorse {\n\n    ## https://github.com/gitlabhq/gitlabhq/issues/694\n    ## Some requests take more than 30 seconds.\n    proxy_read_timeout      3600;\n    proxy_connect_timeout   300;\n    proxy_redirect          off;\n\n    # Do not buffer Git HTTP responses\n    proxy_buffering off;\n\n    proxy_set_header    Host                $http_host_with_default;\n    proxy_set_header    X-Real-IP           $remote_addr;\n    proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;\n    proxy_set_header    X-Forwarded-Proto   $scheme;\n\n    proxy_pass http://gitlab-workhorse;\n\n    ## The following settings only work with NGINX 1.7.11 or newer\n    #\n    ## Pass chunked request bodies to gitlab-workhorse as-is\n    # proxy_request_buffering off;\n    # proxy_http_version 1.1;\n  }\n\n  ## Enable gzip compression as per rails guide:\n  ## http://guides.rubyonrails.org/asset_pipeline.html#gzip-compression\n  ## WARNING: If you are using relative urls remove the block below\n  ## See config/application.rb under \"Relative url support\" for the list of\n  ## other files that need to be changed for relative url support\n  location ~ ^/(assets)/ {\n    root /opt/gitlab/embedded/service/gitlab-rails/public;\n    gzip_static on; # to serve pre-gzipped version\n    expires max;\n    add_header Cache-Control public;\n  }\n\n  error_page 502 /502.html;\n}\n```\n\n##### 提示：配置好之后启动```Nginx```可能会报错：缺少passenger，接下来安装passenger。\n\n* 配置```passenger```的```yum```源并安装.\n```\n# Install various prerequisites\nsudo yum install -y pygpgme curl\n# Add our el7  YUM repository\nsudo curl --fail -sSLo /etc/yum.repos.d/passenger.repo https://oss-binaries.phusionpassenger.com/yum/definitions/el-passenger.repo\n# Install Passenger Nginx\nsudo yum install -y nginx passenger || sudo yum-config-manager --enable cr \u0026\u0026 sudo yum install -y nginx passenger\n```\n\n* 启用```passenger```的```nginx```模块，并重启```nginx```。\n\n* * \u003e Edit /etc/nginx/conf.d/passenger.conf and uncomment passenger_root, passenger_ruby and passenger_instance_registry_dir. For example, you may see this:\n\n```\n# passenger_root /some-filename/locations.ini;\n# passenger_ruby /usr/bin/ruby;\n# passenger_instance_registry_dir /var/run/passenger-instreg;\n```\n\n* * \u003e Remove the '#' characters, like this:\n\n```\npassenger_root /some-filename/locations.ini;\npassenger_ruby /usr/bin/ruby;\npassenger_instance_registry_dir /var/run/passenger-instreg;\n```\n\n* * \u003e 重启nginx\n\n```\nsudo service nginx restart\n```\n\n可以查看文档：[https://www.phusionpassenger.com/library/install/nginx/install/oss/el7/](https://www.phusionpassenger.com/library/install/nginx/install/oss/el7/ 'https://www.phusionpassenger.com/library/install/nginx/install/oss/el7/')。\n\n配置文档：\n\n* GitLab安装：[https://about.gitlab.com/install/#centos-7](https://about.gitlab.com/install/#centos-7 'https://about.gitlab.com/install/#centos-7')\n\n* GitLab配置ssl：[https://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration](https://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration 'https://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration')\n\n* [https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package](https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package 'https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package')\n\n* [https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab](https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab 'https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab')\n\n* Nginx设置: [https://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation](https://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation 'https://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation')\n\n* 修改内嵌nginx设置：[https://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block](https://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block 'https://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block')","html":"\u003ch1 id=\"h1-centos7-gitlab\"\u003e\u003ca name=\"Centos7安装GItLab\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eCentos7安装GItLab\u003c/h1\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GItLab介绍\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGItLab介绍\u003c/h4\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GItLab安装\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGItLab安装\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e安装依赖\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esudo yum install -y curl policycoreutils-python openssh-server sudo systemctl enable sshd\nsudo systemctl start sshd\nsudo firewall-cmd --permanent --add-service=http sudo systemctl reload firewalld\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装postfix支持邮件发送\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esudo yum install postfix\nsudo systemctl enable postfix\nsudo systemctl start postfix\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e配置yum源\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003ecurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--code-shell-code-code-yum-code-\"\u003e\u003ca name=\"提示：此处\u003ccode\u003eshell\u003c/code\u003e脚本自动配置，也可以自动配置\u003ccode\u003eyum\u003c/code\u003e源\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：此处\u003ccode\u003eshell\u003c/code\u003e脚本自动配置，也可以自动配置\u003ccode\u003eyum\u003c/code\u003e源\u003c/h6\u003e\u003cul\u003e\n\u003cli\u003e安装GitLab\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esudo EXTERNAL_URL=\u0026quot;http://code.mcloudhub.com\u0026quot; yum install -y gitlab-ee\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e安装信息\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e# 配置文件目录\n/etc/gitlab\n# 安装目录，包括自带的nginx服务器等\n/opt/gitlab\n# 开机启动服务脚本目录\n/usr/lib/systemd/system/\n# 系统命令连接目录\n/usr/bin\n\u003c/code\u003e\u003c/pre\u003e\u003ch6 id=\"h6--external_url-code-https-code-code-http-code-code-https-code-openssl-\"\u003e\u003ca name=\"提示：EXTERNAL_URL是最终访问的地址。可以使用\u003ccode\u003ehttps:\u003c/code\u003e也可以使用\u003ccode\u003ehttp\u003c/code\u003e，使用\u003ccode\u003ehttps\u003c/code\u003e访问要配置openssl证书。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：EXTERNAL_URL是最终访问的地址。可以使用\u003ccode\u003ehttps:\u003c/code\u003e也可以使用\u003ccode\u003ehttp\u003c/code\u003e，使用\u003ccode\u003ehttps\u003c/code\u003e访问要配置openssl证书。\u003c/h6\u003e\u003ch4 id=\"h4--code-external_url-code-\"\u003e\u003ca name=\"访问：在浏览器中输入刚刚\u003ccode\u003eEXTERNAL_URL\u003c/code\u003e指定的连接进行访问，并登录。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e访问：在浏览器中输入刚刚\u003ccode\u003eEXTERNAL_URL\u003c/code\u003e指定的连接进行访问，并登录。\u003c/h4\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GItLab服务操作：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGItLab服务操作：\u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e启动\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003egitlab-ctl start\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e停止\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003egitlab-ctl stop\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e重启\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003egitlab-ctl restart\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e开机启动\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esystemctl start gitlab-runsvdir.service\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e禁止开机启动\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esystemctl disable gitlab-runsvdir.service\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e修改配置文件后使配置生效\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003egitlab-ctl reconfigure\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"Gitlab配置文件地址：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGitlab配置文件地址：\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003e/etc/gitlab/gitlab.rb\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"h4-gitlab-\"\u003e\u003ca name=\"GitLab配置信息\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eGitLab配置信息\u003c/h4\u003e\u003cpre\u003e\u003ccode\u003e## GitLab configuration settings\n##! This file is generated during initial installation and **is not** modified\n##! during upgrades.\n##! Check out the latest version of this file to know about the different\n##! settings that can be configured by this file, which may be found at:\n##! https://gitlab.com/gitlab-org/omnibus-gitlab/raw/master/files/gitlab-config-template/gitlab.rb.template\n\n\n## GitLab URL\n##! URL on which GitLab will be reachable.\n##! For more details on configuring external_url see:\n##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\nexternal_url \u0026#39;https://code.mcloudhub.com\u0026#39;\n\n## Roles for multi-instance GitLab\n##! The default is to have no roles enabled, which results in GitLab running as an all-in-one instance.\n##! Options:\n##!   redis_sentinel_role redis_master_role redis_slave_role geo_primary_role geo_secondary_role\n##! For more details on each role, see:\n##! https://docs.gitlab.com/omnibus/roles/README.html#roles\n##!\n# roles [\u0026#39;redis_sentinel_role\u0026#39;, \u0026#39;redis_master_role\u0026#39;]\n\n## Legend\n##! The following notations at the beginning of each line may be used to\n##! differentiate between components of this file and to easily select them using\n##! a regex.\n##! ## Titles, subtitles etc\n##! ##! More information - Description, Docs, Links, Issues etc.\n##! Configuration settings have a single # followed by a single space at the\n##! beginning; Remove them to enable the setting.\n\n##! **Configuration settings below are optional.**\n##! **The values currently assigned are only examples and ARE NOT the default\n##!   values.**\n\n\n################################################################################\n################################################################################\n##                Configuration Settings for GitLab CE and EE                 ##\n################################################################################\n################################################################################\n\n################################################################################\n## gitlab.yml configuration\n##! Docs: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/gitlab.yml.md\n################################################################################\n# gitlab_rails[\u0026#39;gitlab_ssh_host\u0026#39;] = \u0026#39;ssh.host_example.com\u0026#39;\n# gitlab_rails[\u0026#39;time_zone\u0026#39;] = \u0026#39;UTC\u0026#39;\n\n### Email Settings\n# gitlab_rails[\u0026#39;gitlab_email_enabled\u0026#39;] = true\n# gitlab_rails[\u0026#39;gitlab_email_from\u0026#39;] = \u0026#39;example@example.com\u0026#39;\n# gitlab_rails[\u0026#39;gitlab_email_display_name\u0026#39;] = \u0026#39;Example\u0026#39;\n# gitlab_rails[\u0026#39;gitlab_email_reply_to\u0026#39;] = \u0026#39;noreply@example.com\u0026#39;\n# gitlab_rails[\u0026#39;gitlab_email_subject_suffix\u0026#39;] = \u0026#39;\u0026#39;\n\n### GitLab user privileges\n# gitlab_rails[\u0026#39;gitlab_default_can_create_group\u0026#39;] = true\n# gitlab_rails[\u0026#39;gitlab_username_changing_enabled\u0026#39;] = true\n\n### Default Theme\n# gitlab_rails[\u0026#39;gitlab_default_theme\u0026#39;] = 2\n\n### Default project feature settings\n# gitlab_rails[\u0026#39;gitlab_default_projects_features_issues\u0026#39;] = true\n# gitlab_rails[\u0026#39;gitlab_default_projects_features_merge_requests\u0026#39;] = true\n# gitlab_rails[\u0026#39;gitlab_default_projects_features_wiki\u0026#39;] = true\n# gitlab_rails[\u0026#39;gitlab_default_projects_features_snippets\u0026#39;] = true\n# gitlab_rails[\u0026#39;gitlab_default_projects_features_builds\u0026#39;] = true\n# gitlab_rails[\u0026#39;gitlab_default_projects_features_container_registry\u0026#39;] = true\n\n### Automatic issue closing\n###! See https://docs.gitlab.com/ce/customization/issue_closing.html for more\n###! information about this pattern.\n# gitlab_rails[\u0026#39;gitlab_issue_closing_pattern\u0026#39;] = \u0026quot;\\b((?:[Cc]los(?:e[sd]?|ing)|\\b[Ff]ix(?:e[sd]|ing)?|\\b[Rr]esolv(?:e[sd]?|ing)|\\b[Ii]mplement(?:s|ed|ing)?)(:?) +(?:(?:issues? +)?%{issue_ref}(?:(?:, *| +and +)?)|([A-Z][A-Z0-9_]+-\\d+))+)\u0026quot;\n\n### Download location\n###! When a user clicks e.g. \u0026#39;Download zip\u0026#39; on a project, a temporary zip file\n###! is created in the following directory.\n###! Should not be the same path, or a sub directory of any of the `git_data_dirs`\n# gitlab_rails[\u0026#39;gitlab_repository_downloads_path\u0026#39;] = \u0026#39;tmp/repositories\u0026#39;\n\n### Gravatar Settings\n# gitlab_rails[\u0026#39;gravatar_plain_url\u0026#39;] = \u0026#39;http://www.gravatar.com/avatar/%{hash}?s=%{size}\u0026amp;d=identicon\u0026#39;\n# gitlab_rails[\u0026#39;gravatar_ssl_url\u0026#39;] = \u0026#39;https://secure.gravatar.com/avatar/%{hash}?s=%{size}\u0026amp;d=identicon\u0026#39;\n\n### Auxiliary jobs\n###! Periodically executed jobs, to self-heal Gitlab, do external\n###! synchronizations, etc.\n###! Docs: https://github.com/ondrejbartas/sidekiq-cron#adding-cron-job\n###!       https://docs.gitlab.com/ce/ci/yaml/README.html#artifacts:expire_in\n# gitlab_rails[\u0026#39;stuck_ci_jobs_worker_cron\u0026#39;] = \u0026quot;0 0 * * *\u0026quot;\n# gitlab_rails[\u0026#39;expire_build_artifacts_worker_cron\u0026#39;] = \u0026quot;50 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;pipeline_schedule_worker_cron\u0026#39;] = \u0026quot;41 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;ci_archive_traces_cron_worker_cron\u0026#39;] = \u0026quot;17 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;repository_check_worker_cron\u0026#39;] = \u0026quot;20 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;admin_email_worker_cron\u0026#39;] = \u0026quot;0 0 * * 0\u0026quot;\n# gitlab_rails[\u0026#39;repository_archive_cache_worker_cron\u0026#39;] = \u0026quot;0 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;pages_domain_verification_cron_worker\u0026#39;] = \u0026quot;*/15 * * * *\u0026quot;\n\n### Webhook Settings\n###! Number of seconds to wait for HTTP response after sending webhook HTTP POST\n###! request (default: 10)\n# gitlab_rails[\u0026#39;webhook_timeout\u0026#39;] = 10\n\n### Trusted proxies\n###! Customize if you have GitLab behind a reverse proxy which is running on a\n###! different machine.\n###! **Add the IP address for your reverse proxy to the list, otherwise users\n###!   will appear signed in from that address.**\n# gitlab_rails[\u0026#39;trusted_proxies\u0026#39;] = []\n\n### Monitoring settings\n###! IP whitelist controlling access to monitoring endpoints\n# gitlab_rails[\u0026#39;monitoring_whitelist\u0026#39;] = [\u0026#39;127.0.0.0/8\u0026#39;, \u0026#39;::1/128\u0026#39;]\n###! Time between sampling of unicorn socket metrics, in seconds\n# gitlab_rails[\u0026#39;monitoring_unicorn_sampler_interval\u0026#39;] = 10\n\n### Reply by email\n###! Allow users to comment on issues and merge requests by replying to\n###! notification emails.\n###! Docs: https://docs.gitlab.com/ce/administration/reply_by_email.html\n# gitlab_rails[\u0026#39;incoming_email_enabled\u0026#39;] = true\n\n#### Incoming Email Address\n####! The email address including the `%{key}` placeholder that will be replaced\n####! to reference the item being replied to.\n####! **The placeholder can be omitted but if present, it must appear in the\n####!   \u0026quot;user\u0026quot; part of the address (before the `@`).**\n# gitlab_rails[\u0026#39;incoming_email_address\u0026#39;] = \u0026quot;gitlab-incoming+%{key}@gmail.com\u0026quot;\n\n#### Email account username\n####! **With third party providers, this is usually the full email address.**\n####! **With self-hosted email servers, this is usually the user part of the\n####!   email address.**\n# gitlab_rails[\u0026#39;incoming_email_email\u0026#39;] = \u0026quot;gitlab-incoming@gmail.com\u0026quot;\n\n#### Email account password\n# gitlab_rails[\u0026#39;incoming_email_password\u0026#39;] = \u0026quot;[REDACTED]\u0026quot;\n\n#### IMAP Settings\n# gitlab_rails[\u0026#39;incoming_email_host\u0026#39;] = \u0026quot;imap.gmail.com\u0026quot;\n# gitlab_rails[\u0026#39;incoming_email_port\u0026#39;] = 993\n# gitlab_rails[\u0026#39;incoming_email_ssl\u0026#39;] = true\n# gitlab_rails[\u0026#39;incoming_email_start_tls\u0026#39;] = false\n\n#### Incoming Mailbox Settings\n####! The mailbox where incoming mail will end up. Usually \u0026quot;inbox\u0026quot;.\n# gitlab_rails[\u0026#39;incoming_email_mailbox_name\u0026#39;] = \u0026quot;inbox\u0026quot;\n####! The IDLE command timeout.\n# gitlab_rails[\u0026#39;incoming_email_idle_timeout\u0026#39;] = 60\n\n### Job Artifacts\n# gitlab_rails[\u0026#39;artifacts_enabled\u0026#39;] = true\n# gitlab_rails[\u0026#39;artifacts_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/artifacts\u0026quot;\n####! Job artifacts Object Store\n####! Docs: https://docs.gitlab.com/ee/administration/job_artifacts.html#using-object-storage\n# gitlab_rails[\u0026#39;artifacts_object_store_enabled\u0026#39;] = false\n# gitlab_rails[\u0026#39;artifacts_object_store_direct_upload\u0026#39;] = false\n# gitlab_rails[\u0026#39;artifacts_object_store_background_upload\u0026#39;] = true\n# gitlab_rails[\u0026#39;artifacts_object_store_proxy_download\u0026#39;] = false\n# gitlab_rails[\u0026#39;artifacts_object_store_remote_directory\u0026#39;] = \u0026quot;artifacts\u0026quot;\n# gitlab_rails[\u0026#39;artifacts_object_store_connection\u0026#39;] = {\n#   \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;AWS\u0026#39;,\n#   \u0026#39;region\u0026#39; =\u0026gt; \u0026#39;eu-west-1\u0026#39;,\n#   \u0026#39;aws_access_key_id\u0026#39; =\u0026gt; \u0026#39;AWS_ACCESS_KEY_ID\u0026#39;,\n#   \u0026#39;aws_secret_access_key\u0026#39; =\u0026gt; \u0026#39;AWS_SECRET_ACCESS_KEY\u0026#39;,\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # \u0026#39;aws_signature_version\u0026#39; =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # \u0026#39;endpoint\u0026#39; =\u0026gt; \u0026#39;https://s3.amazonaws.com\u0026#39;, # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # \u0026#39;host\u0026#39; =\u0026gt; \u0026#39;s3.amazonaws.com\u0026#39;,\n#   # \u0026#39;path_style\u0026#39; =\u0026gt; false # Use \u0026#39;host/bucket_name/object\u0026#39; instead of \u0026#39;bucket_name.host/object\u0026#39;\n# }\n\n### External merge request diffs\n# gitlab_rails[\u0026#39;external_diffs_enabled\u0026#39;] = false\n# gitlab_rails[\u0026#39;external_diffs_storage_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/external-diffs\u0026quot;\n# gitlab_rails[\u0026#39;external_diffs_object_store_enabled\u0026#39;] = false\n# gitlab_rails[\u0026#39;external_diffs_object_store_direct_upload\u0026#39;] = false\n# gitlab_rails[\u0026#39;external_diffs_object_store_background_upload\u0026#39;] = false\n# gitlab_rails[\u0026#39;external_diffs_object_store_proxy_download\u0026#39;] = false\n# gitlab_rails[\u0026#39;external_diffs_object_store_remote_directory\u0026#39;] = \u0026quot;external-diffs\u0026quot;\n# gitlab_rails[\u0026#39;external_diffs_object_store_connection\u0026#39;] = {\n#   \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;AWS\u0026#39;,\n#   \u0026#39;region\u0026#39; =\u0026gt; \u0026#39;eu-west-1\u0026#39;,\n#   \u0026#39;aws_access_key_id\u0026#39; =\u0026gt; \u0026#39;AWS_ACCESS_KEY_ID\u0026#39;,\n#   \u0026#39;aws_secret_access_key\u0026#39; =\u0026gt; \u0026#39;AWS_SECRET_ACCESS_KEY\u0026#39;,\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # \u0026#39;aws_signature_version\u0026#39; =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # \u0026#39;endpoint\u0026#39; =\u0026gt; \u0026#39;https://s3.amazonaws.com\u0026#39;, # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # \u0026#39;host\u0026#39; =\u0026gt; \u0026#39;s3.amazonaws.com\u0026#39;,\n#   # \u0026#39;path_style\u0026#39; =\u0026gt; false # Use \u0026#39;host/bucket_name/object\u0026#39; instead of \u0026#39;bucket_name.host/object\u0026#39;\n# }\n\n### Git LFS\n# gitlab_rails[\u0026#39;lfs_enabled\u0026#39;] = true\n# gitlab_rails[\u0026#39;lfs_storage_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/lfs-objects\u0026quot;\n# gitlab_rails[\u0026#39;lfs_object_store_enabled\u0026#39;] = false\n# gitlab_rails[\u0026#39;lfs_object_store_direct_upload\u0026#39;] = false\n# gitlab_rails[\u0026#39;lfs_object_store_background_upload\u0026#39;] = true\n# gitlab_rails[\u0026#39;lfs_object_store_proxy_download\u0026#39;] = false\n# gitlab_rails[\u0026#39;lfs_object_store_remote_directory\u0026#39;] = \u0026quot;lfs-objects\u0026quot;\n# gitlab_rails[\u0026#39;lfs_object_store_connection\u0026#39;] = {\n#   \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;AWS\u0026#39;,\n#   \u0026#39;region\u0026#39; =\u0026gt; \u0026#39;eu-west-1\u0026#39;,\n#   \u0026#39;aws_access_key_id\u0026#39; =\u0026gt; \u0026#39;AWS_ACCESS_KEY_ID\u0026#39;,\n#   \u0026#39;aws_secret_access_key\u0026#39; =\u0026gt; \u0026#39;AWS_SECRET_ACCESS_KEY\u0026#39;,\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # \u0026#39;aws_signature_version\u0026#39; =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # \u0026#39;endpoint\u0026#39; =\u0026gt; \u0026#39;https://s3.amazonaws.com\u0026#39;, # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # \u0026#39;host\u0026#39; =\u0026gt; \u0026#39;s3.amazonaws.com\u0026#39;,\n#   # \u0026#39;path_style\u0026#39; =\u0026gt; false # Use \u0026#39;host/bucket_name/object\u0026#39; instead of \u0026#39;bucket_name.host/object\u0026#39;\n# }\n\n### GitLab uploads\n###! Docs: https://docs.gitlab.com/ee/administration/uploads.html\n# gitlab_rails[\u0026#39;uploads_storage_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/public\u0026quot;\n# gitlab_rails[\u0026#39;uploads_base_dir\u0026#39;] = \u0026quot;uploads/-/system\u0026quot;\n# gitlab_rails[\u0026#39;uploads_object_store_enabled\u0026#39;] = false\n# gitlab_rails[\u0026#39;uploads_object_store_direct_upload\u0026#39;] = false\n# gitlab_rails[\u0026#39;uploads_object_store_background_upload\u0026#39;] = true\n# gitlab_rails[\u0026#39;uploads_object_store_proxy_download\u0026#39;] = false\n# gitlab_rails[\u0026#39;uploads_object_store_remote_directory\u0026#39;] = \u0026quot;uploads\u0026quot;\n# gitlab_rails[\u0026#39;uploads_object_store_connection\u0026#39;] = {\n#   \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;AWS\u0026#39;,\n#   \u0026#39;region\u0026#39; =\u0026gt; \u0026#39;eu-west-1\u0026#39;,\n#   \u0026#39;aws_access_key_id\u0026#39; =\u0026gt; \u0026#39;AWS_ACCESS_KEY_ID\u0026#39;,\n#   \u0026#39;aws_secret_access_key\u0026#39; =\u0026gt; \u0026#39;AWS_SECRET_ACCESS_KEY\u0026#39;,\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # \u0026#39;host\u0026#39; =\u0026gt; \u0026#39;s3.amazonaws.com\u0026#39;,\n#   # \u0026#39;aws_signature_version\u0026#39; =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # \u0026#39;endpoint\u0026#39; =\u0026gt; \u0026#39;https://s3.amazonaws.com\u0026#39;, # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # \u0026#39;path_style\u0026#39; =\u0026gt; false # Use \u0026#39;host/bucket_name/object\u0026#39; instead of \u0026#39;bucket_name.host/object\u0026#39;\n# }\n\n### Impersonation settings\n# gitlab_rails[\u0026#39;impersonation_enabled\u0026#39;] = true\n\n### Usage Statistics\n# gitlab_rails[\u0026#39;usage_ping_enabled\u0026#39;] = true\n\n### GitLab Mattermost\n###! These settings are void if Mattermost is installed on the same omnibus\n###! install\n# gitlab_rails[\u0026#39;mattermost_host\u0026#39;] = \u0026quot;https://mattermost.example.com\u0026quot;\n\n### LDAP Settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/ldap.html\n###! **Be careful not to break the indentation in the ldap_servers block. It is\n###!   in yaml format and the spaces must be retained. Using tabs will not work.**\n\n# gitlab_rails[\u0026#39;ldap_enabled\u0026#39;] = false\n\n###! **remember to close this block with \u0026#39;EOS\u0026#39; below**\n# gitlab_rails[\u0026#39;ldap_servers\u0026#39;] = YAML.load \u0026lt;\u0026lt;-\u0026#39;EOS\u0026#39;\n#   main: # \u0026#39;main\u0026#39; is the GitLab \u0026#39;provider ID\u0026#39; of this LDAP server\n#     label: \u0026#39;LDAP\u0026#39;\n#     host: \u0026#39;_your_ldap_server\u0026#39;\n#     port: 389\n#     uid: \u0026#39;sAMAccountName\u0026#39;\n#     bind_dn: \u0026#39;_the_full_dn_of_the_user_you_will_bind_with\u0026#39;\n#     password: \u0026#39;_the_password_of_the_bind_user\u0026#39;\n#     encryption: \u0026#39;plain\u0026#39; # \u0026quot;start_tls\u0026quot; or \u0026quot;simple_tls\u0026quot; or \u0026quot;plain\u0026quot;\n#     verify_certificates: true\n#     smartcard_auth: false\n#     active_directory: true\n#     allow_username_or_email_login: false\n#     lowercase_usernames: false\n#     block_auto_created_users: false\n#     base: \u0026#39;\u0026#39;\n#     user_filter: \u0026#39;\u0026#39;\n#     ## EE only\n#     group_base: \u0026#39;\u0026#39;\n#     admin_group: \u0026#39;\u0026#39;\n#     sync_ssh_keys: false\n#\n#   secondary: # \u0026#39;secondary\u0026#39; is the GitLab \u0026#39;provider ID\u0026#39; of second LDAP server\n#     label: \u0026#39;LDAP\u0026#39;\n#     host: \u0026#39;_your_ldap_server\u0026#39;\n#     port: 389\n#     uid: \u0026#39;sAMAccountName\u0026#39;\n#     bind_dn: \u0026#39;_the_full_dn_of_the_user_you_will_bind_with\u0026#39;\n#     password: \u0026#39;_the_password_of_the_bind_user\u0026#39;\n#     encryption: \u0026#39;plain\u0026#39; # \u0026quot;start_tls\u0026quot; or \u0026quot;simple_tls\u0026quot; or \u0026quot;plain\u0026quot;\n#     verify_certificates: true\n#     smartcard_auth: false\n#     active_directory: true\n#     allow_username_or_email_login: false\n#     lowercase_usernames: false\n#     block_auto_created_users: false\n#     base: \u0026#39;\u0026#39;\n#     user_filter: \u0026#39;\u0026#39;\n#     ## EE only\n#     group_base: \u0026#39;\u0026#39;\n#     admin_group: \u0026#39;\u0026#39;\n#     sync_ssh_keys: false\n# EOS\n\n### Smartcard authentication settings\n###! Docs: https://docs.gitlab.com/ee/administration/auth/smartcard.html\n# gitlab_rails[\u0026#39;smartcard_enabled\u0026#39;] = false\n# gitlab_rails[\u0026#39;smartcard_ca_file\u0026#39;] = \u0026quot;/etc/gitlab/ssl/CA.pem\u0026quot;\n# gitlab_rails[\u0026#39;smartcard_client_certificate_required_port\u0026#39;] = 3444\n\n### OmniAuth Settings\n###! Docs: https://docs.gitlab.com/ce/integration/omniauth.html\n# gitlab_rails[\u0026#39;omniauth_enabled\u0026#39;] = nil\n# gitlab_rails[\u0026#39;omniauth_allow_single_sign_on\u0026#39;] = [\u0026#39;saml\u0026#39;]\n# gitlab_rails[\u0026#39;omniauth_sync_email_from_provider\u0026#39;] = \u0026#39;saml\u0026#39;\n# gitlab_rails[\u0026#39;omniauth_sync_profile_from_provider\u0026#39;] = [\u0026#39;saml\u0026#39;]\n# gitlab_rails[\u0026#39;omniauth_sync_profile_attributes\u0026#39;] = [\u0026#39;email\u0026#39;]\n# gitlab_rails[\u0026#39;omniauth_auto_sign_in_with_provider\u0026#39;] = \u0026#39;saml\u0026#39;\n# gitlab_rails[\u0026#39;omniauth_block_auto_created_users\u0026#39;] = true\n# gitlab_rails[\u0026#39;omniauth_auto_link_ldap_user\u0026#39;] = false\n# gitlab_rails[\u0026#39;omniauth_auto_link_saml_user\u0026#39;] = false\n# gitlab_rails[\u0026#39;omniauth_external_providers\u0026#39;] = [\u0026#39;twitter\u0026#39;, \u0026#39;google_oauth2\u0026#39;]\n# gitlab_rails[\u0026#39;omniauth_providers\u0026#39;] = [\n#   {\n#     \u0026quot;name\u0026quot; =\u0026gt; \u0026quot;google_oauth2\u0026quot;,\n#     \u0026quot;app_id\u0026quot; =\u0026gt; \u0026quot;YOUR APP ID\u0026quot;,\n#     \u0026quot;app_secret\u0026quot; =\u0026gt; \u0026quot;YOUR APP SECRET\u0026quot;,\n#     \u0026quot;args\u0026quot; =\u0026gt; { \u0026quot;access_type\u0026quot; =\u0026gt; \u0026quot;offline\u0026quot;, \u0026quot;approval_prompt\u0026quot; =\u0026gt; \u0026quot;\u0026quot; }\n#   }\n# ]\n\n### Backup Settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/backups.html\n\n# gitlab_rails[\u0026#39;manage_backup_path\u0026#39;] = true\n# gitlab_rails[\u0026#39;backup_path\u0026#39;] = \u0026quot;/var/opt/gitlab/backups\u0026quot;\n\n###! Docs: https://docs.gitlab.com/ce/raketasks/backup_restore.html#backup-archive-permissions\n# gitlab_rails[\u0026#39;backup_archive_permissions\u0026#39;] = 0644\n\n# gitlab_rails[\u0026#39;backup_pg_schema\u0026#39;] = \u0026#39;public\u0026#39;\n\n###! The duration in seconds to keep backups before they are allowed to be deleted\n# gitlab_rails[\u0026#39;backup_keep_time\u0026#39;] = 604800\n\n# gitlab_rails[\u0026#39;backup_upload_connection\u0026#39;] = {\n#   \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;AWS\u0026#39;,\n#   \u0026#39;region\u0026#39; =\u0026gt; \u0026#39;eu-west-1\u0026#39;,\n#   \u0026#39;aws_access_key_id\u0026#39; =\u0026gt; \u0026#39;AKIAKIAKI\u0026#39;,\n#   \u0026#39;aws_secret_access_key\u0026#39; =\u0026gt; \u0026#39;secret123\u0026#39;\n# }\n# gitlab_rails[\u0026#39;backup_upload_remote_directory\u0026#39;] = \u0026#39;my.s3.bucket\u0026#39;\n# gitlab_rails[\u0026#39;backup_multipart_chunk_size\u0026#39;] = 104857600\n\n###! **Turns on AWS Server-Side Encryption with Amazon S3-Managed Keys for\n###!   backups**\n# gitlab_rails[\u0026#39;backup_encryption\u0026#39;] = \u0026#39;AES256\u0026#39;\n###! The encryption key to use with AWS Server-Side Encryption.\n###! Setting this value will enable Server-Side Encryption with customer provided keys;\n###!   otherwise S3-managed keys are used.\n# gitlab_rails[\u0026#39;backup_encryption_key\u0026#39;] = \u0026#39;\u0026lt;base64-encoded encryption key\u0026gt;\u0026#39;\n\n###! **Specifies Amazon S3 storage class to use for backups. Valid values\n###!   include \u0026#39;STANDARD\u0026#39;, \u0026#39;STANDARD_IA\u0026#39;, and \u0026#39;REDUCED_REDUNDANCY\u0026#39;**\n# gitlab_rails[\u0026#39;backup_storage_class\u0026#39;] = \u0026#39;STANDARD\u0026#39;\n\n\n### Pseudonymizer Settings\n# gitlab_rails[\u0026#39;pseudonymizer_manifest\u0026#39;] = \u0026#39;config/pseudonymizer.yml\u0026#39;\n# gitlab_rails[\u0026#39;pseudonymizer_upload_remote_directory\u0026#39;] = \u0026#39;gitlab-elt\u0026#39;\n# gitlab_rails[\u0026#39;pseudonymizer_upload_connection\u0026#39;] = {\n#   \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;AWS\u0026#39;,\n#   \u0026#39;region\u0026#39; =\u0026gt; \u0026#39;eu-west-1\u0026#39;,\n#   \u0026#39;aws_access_key_id\u0026#39; =\u0026gt; \u0026#39;AKIAKIAKI\u0026#39;,\n#   \u0026#39;aws_secret_access_key\u0026#39; =\u0026gt; \u0026#39;secret123\u0026#39;\n# }\n\n\n### For setting up different data storing directory\n###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#storing-git-data-in-an-alternative-directory\n###! **If you want to use a single non-default directory to store git data use a\n###!   path that doesn\u0026#39;t contain symlinks.**\n# git_data_dirs({\n#   \u0026quot;default\u0026quot; =\u0026gt; {\n#     \u0026quot;path\u0026quot; =\u0026gt; \u0026quot;/mnt/nfs-01/git-data\u0026quot;\n#    }\n# })\n\n### Gitaly settings\n# gitlab_rails[\u0026#39;gitaly_token\u0026#39;] = \u0026#39;secret token\u0026#39;\n\n### For storing GitLab application uploads, eg. LFS objects, build artifacts\n###! Docs: https://docs.gitlab.com/ce/development/shared_files.html\n# gitlab_rails[\u0026#39;shared_path\u0026#39;] = \u0026#39;/var/opt/gitlab/gitlab-rails/shared\u0026#39;\n\n### Wait for file system to be mounted\n###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#only-start-omnibus-gitlab-services-after-a-given-filesystem-is-mounted\n# high_availability[\u0026#39;mountpoint\u0026#39;] = [\u0026quot;/var/opt/gitlab/git-data\u0026quot;, \u0026quot;/var/opt/gitlab/gitlab-rails/shared\u0026quot;]\n\n### GitLab Shell settings for GitLab\n# gitlab_rails[\u0026#39;gitlab_shell_ssh_port\u0026#39;] = 22\n# gitlab_rails[\u0026#39;gitlab_shell_git_timeout\u0026#39;] = 800\n\n### Extra customization\n# gitlab_rails[\u0026#39;extra_google_analytics_id\u0026#39;] = \u0026#39;_your_tracking_id\u0026#39;\n# gitlab_rails[\u0026#39;extra_piwik_url\u0026#39;] = \u0026#39;_your_piwik_url\u0026#39;\n# gitlab_rails[\u0026#39;extra_piwik_site_id\u0026#39;] = \u0026#39;_your_piwik_site_id\u0026#39;\n\n##! Docs: https://docs.gitlab.com/omnibus/settings/environment-variables.html\n# gitlab_rails[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;BUNDLE_GEMFILE\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/service/gitlab-rails/Gemfile\u0026quot;,\n#   \u0026#39;PATH\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\u0026quot;\n# }\n\n# gitlab_rails[\u0026#39;rack_attack_git_basic_auth\u0026#39;] = {\n#   \u0026#39;enabled\u0026#39; =\u0026gt; false,\n#   \u0026#39;ip_whitelist\u0026#39; =\u0026gt; [\u0026quot;127.0.0.1\u0026quot;],\n#   \u0026#39;maxretry\u0026#39; =\u0026gt; 10,\n#   \u0026#39;findtime\u0026#39; =\u0026gt; 60,\n#   \u0026#39;bantime\u0026#39; =\u0026gt; 3600\n# }\n\n# gitlab_rails[\u0026#39;rack_attack_protected_paths\u0026#39;] = [\n#   \u0026#39;/users/password\u0026#39;,\n#   \u0026#39;/users/sign_in\u0026#39;,\n#   \u0026#39;/api/#{API::API.version}/session.json\u0026#39;,\n#   \u0026#39;/api/#{API::API.version}/session\u0026#39;,\n#   \u0026#39;/users\u0026#39;,\n#   \u0026#39;/users/confirmation\u0026#39;,\n#   \u0026#39;/unsubscribes/\u0026#39;,\n#   \u0026#39;/import/github/personal_access_token\u0026#39;\n# ]\n\n###! **We do not recommend changing these directories.**\n# gitlab_rails[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails\u0026quot;\n# gitlab_rails[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/gitlab-rails\u0026quot;\n\n### GitLab application settings\n# gitlab_rails[\u0026#39;uploads_directory\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/uploads\u0026quot;\n# gitlab_rails[\u0026#39;rate_limit_requests_per_period\u0026#39;] = 10\n# gitlab_rails[\u0026#39;rate_limit_period\u0026#39;] = 60\n\n#### Change the initial default admin password and shared runner registration tokens.\n####! **Only applicable on initial setup, changing these settings after database\n####!   is created and seeded won\u0026#39;t yield any change.**\n# gitlab_rails[\u0026#39;initial_root_password\u0026#39;] = \u0026quot;password\u0026quot;\n# gitlab_rails[\u0026#39;initial_shared_runners_registration_token\u0026#39;] = \u0026quot;token\u0026quot;\n\n#### Enable or disable automatic database migrations\n# gitlab_rails[\u0026#39;auto_migrate\u0026#39;] = true\n\n#### This is advanced feature used by large gitlab deployments where loading\n#### whole RAILS env takes a lot of time.\n# gitlab_rails[\u0026#39;rake_cache_clear\u0026#39;] = true\n\n### GitLab database settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/database.html\n###! **Only needed if you use an external database.**\n# gitlab_rails[\u0026#39;db_adapter\u0026#39;] = \u0026quot;postgresql\u0026quot;\n# gitlab_rails[\u0026#39;db_encoding\u0026#39;] = \u0026quot;unicode\u0026quot;\n# gitlab_rails[\u0026#39;db_collation\u0026#39;] = nil\n# gitlab_rails[\u0026#39;db_database\u0026#39;] = \u0026quot;gitlabhq_production\u0026quot;\n# gitlab_rails[\u0026#39;db_pool\u0026#39;] = 10\n# gitlab_rails[\u0026#39;db_username\u0026#39;] = \u0026quot;gitlab\u0026quot;\n# gitlab_rails[\u0026#39;db_password\u0026#39;] = nil\n# gitlab_rails[\u0026#39;db_host\u0026#39;] = nil\n# gitlab_rails[\u0026#39;db_port\u0026#39;] = 5432\n# gitlab_rails[\u0026#39;db_socket\u0026#39;] = nil\n# gitlab_rails[\u0026#39;db_sslmode\u0026#39;] = nil\n# gitlab_rails[\u0026#39;db_sslcompression\u0026#39;] = 0\n# gitlab_rails[\u0026#39;db_sslrootcert\u0026#39;] = nil\n# gitlab_rails[\u0026#39;db_prepared_statements\u0026#39;] = false\n# gitlab_rails[\u0026#39;db_statements_limit\u0026#39;] = 1000\n\n\n### GitLab Redis settings\n###! Connect to your own Redis instance\n###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\n\n#### Redis TCP connection\n# gitlab_rails[\u0026#39;redis_host\u0026#39;] = \u0026quot;127.0.0.1\u0026quot;\n# gitlab_rails[\u0026#39;redis_port\u0026#39;] = 6379\n# gitlab_rails[\u0026#39;redis_ssl\u0026#39;] = false\n# gitlab_rails[\u0026#39;redis_password\u0026#39;] = nil\n# gitlab_rails[\u0026#39;redis_database\u0026#39;] = 0\n\n#### Redis local UNIX socket (will be disabled if TCP method is used)\n# gitlab_rails[\u0026#39;redis_socket\u0026#39;] = \u0026quot;/var/opt/gitlab/redis/redis.socket\u0026quot;\n\n#### Sentinel support\n####! To have Sentinel working, you must enable Redis TCP connection support\n####! above and define a few Sentinel hosts below (to get a reliable setup\n####! at least 3 hosts).\n####! **You don\u0026#39;t need to list every sentinel host, but the ones not listed will\n####!   not be used in a fail-over situation to query for the new master.**\n# gitlab_rails[\u0026#39;redis_sentinels\u0026#39;] = [\n#   {\u0026#39;host\u0026#39; =\u0026gt; \u0026#39;127.0.0.1\u0026#39;, \u0026#39;port\u0026#39; =\u0026gt; 26379},\n# ]\n\n#### Separate instances support\n###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html#running-with-multiple-redis-instances\n# gitlab_rails[\u0026#39;redis_cache_instance\u0026#39;] = nil\n# gitlab_rails[\u0026#39;redis_cache_sentinels\u0026#39;] = nil\n# gitlab_rails[\u0026#39;redis_queues_instance\u0026#39;] = nil\n# gitlab_rails[\u0026#39;redis_queues_sentinels\u0026#39;] = nil\n# gitlab_rails[\u0026#39;redis_shared_state_instance\u0026#39;] = nil\n# gitlab_rails[\u0026#39;redis_shared_sentinels\u0026#39;] = nil\n\n### GitLab email server settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/smtp.html\n###! **Use smtp instead of sendmail/postfix.**\n\n# gitlab_rails[\u0026#39;smtp_enable\u0026#39;] = true\n# gitlab_rails[\u0026#39;smtp_address\u0026#39;] = \u0026quot;smtp.server\u0026quot;\n# gitlab_rails[\u0026#39;smtp_port\u0026#39;] = 465\n# gitlab_rails[\u0026#39;smtp_user_name\u0026#39;] = \u0026quot;smtp user\u0026quot;\n# gitlab_rails[\u0026#39;smtp_password\u0026#39;] = \u0026quot;smtp password\u0026quot;\n# gitlab_rails[\u0026#39;smtp_domain\u0026#39;] = \u0026quot;example.com\u0026quot;\n# gitlab_rails[\u0026#39;smtp_authentication\u0026#39;] = \u0026quot;login\u0026quot;\n# gitlab_rails[\u0026#39;smtp_enable_starttls_auto\u0026#39;] = true\n# gitlab_rails[\u0026#39;smtp_tls\u0026#39;] = false\n\n###! **Can be: \u0026#39;none\u0026#39;, \u0026#39;peer\u0026#39;, \u0026#39;client_once\u0026#39;, \u0026#39;fail_if_no_peer_cert\u0026#39;**\n###! Docs: http://api.rubyonrails.org/classes/ActionMailer/Base.html\n# gitlab_rails[\u0026#39;smtp_openssl_verify_mode\u0026#39;] = \u0026#39;none\u0026#39;\n\n# gitlab_rails[\u0026#39;smtp_ca_path\u0026#39;] = \u0026quot;/etc/ssl/certs\u0026quot;\n# gitlab_rails[\u0026#39;smtp_ca_file\u0026#39;] = \u0026quot;/etc/ssl/certs/ca-certificates.crt\u0026quot;\n\n################################################################################\n## Container Registry settings\n##! Docs: https://docs.gitlab.com/ce/administration/container_registry.html\n################################################################################\n\n# registry_external_url \u0026#39;https://registry.gitlab.example.com\u0026#39;\n\n### Settings used by GitLab application\n# gitlab_rails[\u0026#39;registry_enabled\u0026#39;] = true\n# gitlab_rails[\u0026#39;registry_host\u0026#39;] = \u0026quot;registry.gitlab.example.com\u0026quot;\n# gitlab_rails[\u0026#39;registry_port\u0026#39;] = \u0026quot;5005\u0026quot;\n# gitlab_rails[\u0026#39;registry_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/registry\u0026quot;\n\n###! **Do not change the following 3 settings unless you know what you are\n###!   doing**\n# gitlab_rails[\u0026#39;registry_api_url\u0026#39;] = \u0026quot;http://localhost:5000\u0026quot;\n# gitlab_rails[\u0026#39;registry_key_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/certificate.key\u0026quot;\n# gitlab_rails[\u0026#39;registry_issuer\u0026#39;] = \u0026quot;omnibus-gitlab-issuer\u0026quot;\n\n### Settings used by Registry application\n# registry[\u0026#39;enable\u0026#39;] = true\n# registry[\u0026#39;username\u0026#39;] = \u0026quot;registry\u0026quot;\n# registry[\u0026#39;group\u0026#39;] = \u0026quot;registry\u0026quot;\n# registry[\u0026#39;uid\u0026#39;] = nil\n# registry[\u0026#39;gid\u0026#39;] = nil\n# registry[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/registry\u0026quot;\n# registry[\u0026#39;registry_http_addr\u0026#39;] = \u0026quot;localhost:5000\u0026quot;\n# registry[\u0026#39;debug_addr\u0026#39;] = \u0026quot;localhost:5001\u0026quot;\n# registry[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/registry\u0026quot;\n# registry[\u0026#39;env_directory\u0026#39;] = \u0026quot;/opt/gitlab/etc/registry/env\u0026quot;\n# registry[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n# registry[\u0026#39;log_level\u0026#39;] = \u0026quot;info\u0026quot;\n# registry[\u0026#39;log_formatter\u0026#39;] = \u0026quot;text\u0026quot;\n# registry[\u0026#39;rootcertbundle\u0026#39;] = \u0026quot;/var/opt/gitlab/registry/certificate.crt\u0026quot;\n# registry[\u0026#39;health_storagedriver_enabled\u0026#39;] = true\n# registry[\u0026#39;storage_delete_enabled\u0026#39;] = true\n# registry[\u0026#39;validation_enabled\u0026#39;] = false\n# registry[\u0026#39;autoredirect\u0026#39;] = false\n# registry[\u0026#39;compatibility_schema1_enabled\u0026#39;] = false\n\n### Registry backend storage\n###! Docs: https://docs.gitlab.com/ce/administration/container_registry.html#container-registry-storage-driver\n# registry[\u0026#39;storage\u0026#39;] = {\n#   \u0026#39;s3\u0026#39; =\u0026gt; {\n#     \u0026#39;accesskey\u0026#39; =\u0026gt; \u0026#39;AKIAKIAKI\u0026#39;,\n#     \u0026#39;secretkey\u0026#39; =\u0026gt; \u0026#39;secret123\u0026#39;,\n#     \u0026#39;bucket\u0026#39; =\u0026gt; \u0026#39;gitlab-registry-bucket-AKIAKIAKI\u0026#39;\n#   }\n# }\n\n### Registry notifications endpoints\n# registry[\u0026#39;notifications\u0026#39;] = [\n#   {\n#     \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;test_endpoint\u0026#39;,\n#     \u0026#39;url\u0026#39; =\u0026gt; \u0026#39;https://gitlab.example.com/notify2\u0026#39;,\n#     \u0026#39;timeout\u0026#39; =\u0026gt; \u0026#39;500ms\u0026#39;,\n#     \u0026#39;threshold\u0026#39; =\u0026gt; 5,\n#     \u0026#39;backoff\u0026#39; =\u0026gt; \u0026#39;1s\u0026#39;,\n#     \u0026#39;headers\u0026#39; =\u0026gt; {\n#       \u0026quot;Authorization\u0026quot; =\u0026gt; [\u0026quot;AUTHORIZATION_EXAMPLE_TOKEN\u0026quot;]\n#     }\n#   }\n# ]\n### Default registry notifications\n# registry[\u0026#39;default_notifications_timeout\u0026#39;] = \u0026quot;500ms\u0026quot;\n# registry[\u0026#39;default_notifications_threshold\u0026#39;] = 5\n# registry[\u0026#39;default_notifications_backoff\u0026#39;] = \u0026quot;1s\u0026quot;\n# registry[\u0026#39;default_notifications_headers\u0026#39;] = {}\n\n\n\n################################################################################\n## GitLab Workhorse\n##! Docs: https://gitlab.com/gitlab-org/gitlab-workhorse/blob/master/README.md\n################################################################################\n\n# gitlab_workhorse[\u0026#39;enable\u0026#39;] = true\n# gitlab_workhorse[\u0026#39;ha\u0026#39;] = false\n# gitlab_workhorse[\u0026#39;listen_network\u0026#39;] = \u0026quot;unix\u0026quot;\n# gitlab_workhorse[\u0026#39;listen_umask\u0026#39;] = 000\n# gitlab_workhorse[\u0026#39;listen_addr\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-workhorse/socket\u0026quot;\n# gitlab_workhorse[\u0026#39;auth_backend\u0026#39;] = \u0026quot;http://localhost:8080\u0026quot;\n\n##! the empty string is the default in gitlab-workhorse option parser\n# gitlab_workhorse[\u0026#39;auth_socket\u0026#39;] = \u0026quot;\u0026#39;\u0026#39;\u0026quot;\n\n##! put an empty string on the command line\n# gitlab_workhorse[\u0026#39;pprof_listen_addr\u0026#39;] = \u0026quot;\u0026#39;\u0026#39;\u0026quot;\n\n# gitlab_workhorse[\u0026#39;prometheus_listen_addr\u0026#39;] = \u0026quot;localhost:9229\u0026quot;\n\n# gitlab_workhorse[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-workhorse\u0026quot;\n# gitlab_workhorse[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/gitlab-workhorse\u0026quot;\n# gitlab_workhorse[\u0026#39;proxy_headers_timeout\u0026#39;] = \u0026quot;1m0s\u0026quot;\n\n##! limit number of concurrent API requests, defaults to 0 which is unlimited\n# gitlab_workhorse[\u0026#39;api_limit\u0026#39;] = 0\n\n##! limit number of API requests allowed to be queued, defaults to 0 which\n##! disables queuing\n# gitlab_workhorse[\u0026#39;api_queue_limit\u0026#39;] = 0\n\n##! duration after which we timeout requests if they sit too long in the queue\n# gitlab_workhorse[\u0026#39;api_queue_duration\u0026#39;] = \u0026quot;30s\u0026quot;\n\n##! Long polling duration for job requesting for runners\n# gitlab_workhorse[\u0026#39;api_ci_long_polling_duration\u0026#39;] = \u0026quot;60s\u0026quot;\n\n##! Log format: default is text, can also be json or none.\n# gitlab_workhorse[\u0026#39;log_format\u0026#39;] = \u0026quot;json\u0026quot;\n\n# gitlab_workhorse[\u0026#39;env_directory\u0026#39;] = \u0026quot;/opt/gitlab/etc/gitlab-workhorse/env\u0026quot;\n# gitlab_workhorse[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;PATH\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\u0026quot;,\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n\n################################################################################\n## GitLab User Settings\n##! Modify default git user.\n##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#changing-the-name-of-the-git-user-group\n################################################################################\n\n# user[\u0026#39;username\u0026#39;] = \u0026quot;git\u0026quot;\n# user[\u0026#39;group\u0026#39;] = \u0026quot;git\u0026quot;\n# user[\u0026#39;uid\u0026#39;] = nil\n# user[\u0026#39;gid\u0026#39;] = nil\n\n##! The shell for the git user\n# user[\u0026#39;shell\u0026#39;] = \u0026quot;/bin/sh\u0026quot;\n\n##! The home directory for the git user\n# user[\u0026#39;home\u0026#39;] = \u0026quot;/var/opt/gitlab\u0026quot;\n\n# user[\u0026#39;git_user_name\u0026#39;] = \u0026quot;GitLab\u0026quot;\n# user[\u0026#39;git_user_email\u0026#39;] = \u0026quot;gitlab@#{node[\u0026#39;fqdn\u0026#39;]}\u0026quot;\n\n################################################################################\n## GitLab Unicorn\n##! Tweak unicorn settings.\n##! Docs: https://docs.gitlab.com/omnibus/settings/unicorn.html\n################################################################################\n\n# unicorn[\u0026#39;enable\u0026#39;] = true\n# unicorn[\u0026#39;worker_timeout\u0026#39;] = 60\n###! Minimum worker_processes is 2 at this moment\n###! See https://gitlab.com/gitlab-org/gitlab-ce/issues/18771\n# unicorn[\u0026#39;worker_processes\u0026#39;] = 2\n\n### Advanced settings\n# unicorn[\u0026#39;listen\u0026#39;] = \u0026#39;localhost\u0026#39;\n# unicorn[\u0026#39;port\u0026#39;] = 8080\n# unicorn[\u0026#39;socket\u0026#39;] = \u0026#39;/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket\u0026#39;\n# unicorn[\u0026#39;pidfile\u0026#39;] = \u0026#39;/opt/gitlab/var/unicorn/unicorn.pid\u0026#39;\n# unicorn[\u0026#39;tcp_nopush\u0026#39;] = true\n# unicorn[\u0026#39;backlog_socket\u0026#39;] = 1024\n\n###! **Make sure somaxconn is equal or higher then backlog_socket**\n# unicorn[\u0026#39;somaxconn\u0026#39;] = 1024\n\n###! **We do not recommend changing this setting**\n# unicorn[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/unicorn\u0026quot;\n\n### **Only change these settings if you understand well what they mean**\n###! Docs: https://about.gitlab.com/2015/06/05/how-gitlab-uses-unicorn-and-unicorn-worker-killer/\n###!       https://github.com/kzk/unicorn-worker-killer\n# unicorn[\u0026#39;worker_memory_limit_min\u0026#39;] = \u0026quot;400 * 1 \u0026lt;\u0026lt; 20\u0026quot;\n# unicorn[\u0026#39;worker_memory_limit_max\u0026#39;] = \u0026quot;650 * 1 \u0026lt;\u0026lt; 20\u0026quot;\n\n################################################################################\n## GitLab Puma\n##! Tweak puma settings. You should only use Unicorn or Puma, not both.\n##! Docs: https://docs.gitlab.com/omnibus/settings/puma.html\n################################################################################\n\n# puma[\u0026#39;enable\u0026#39;] = false\n# puma[\u0026#39;ha\u0026#39;] = false\n# puma[\u0026#39;worker_timeout\u0026#39;] = 60\n# puma[\u0026#39;worker_processes\u0026#39;] = 2\n# puma[\u0026#39;min_threads\u0026#39;] = 1\n# puma[\u0026#39;max_threads\u0026#39;] = 16\n\n### Advanced settings\n# puma[\u0026#39;listen\u0026#39;] = \u0026#39;127.0.0.1\u0026#39;\n# puma[\u0026#39;port\u0026#39;] = 8080\n# puma[\u0026#39;socket\u0026#39;] = \u0026#39;/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket\u0026#39;\n# puma[\u0026#39;pidfile\u0026#39;] = \u0026#39;/opt/gitlab/var/puma/puma.pid\u0026#39;\n# puma[\u0026#39;state_path\u0026#39;] = \u0026#39;/opt/gitlab/var/puma/puma.state\u0026#39;\n\n###! **We do not recommend changing this setting**\n# puma[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/puma\u0026quot;\n\n### **Only change these settings if you understand well what they mean**\n###! Docs: https://github.com/schneems/puma_worker_killer\n# puma[\u0026#39;per_worker_max_memory_mb\u0026#39;] = 650\n\n################################################################################\n## GitLab Sidekiq\n################################################################################\n\n# sidekiq[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/sidekiq\u0026quot;\n# sidekiq[\u0026#39;log_format\u0026#39;] = \u0026quot;default\u0026quot;\n# sidekiq[\u0026#39;shutdown_timeout\u0026#39;] = 4\n# sidekiq[\u0026#39;concurrency\u0026#39;] = 25\n# sidekiq[\u0026#39;metrics_enabled\u0026#39;] = true\n# sidekiq[\u0026#39;listen_address\u0026#39;] = \u0026quot;localhost\u0026quot;\n# sidekiq[\u0026#39;listen_port\u0026#39;] = 8082\n\n################################################################################\n## gitlab-shell\n################################################################################\n\n# gitlab_shell[\u0026#39;audit_usernames\u0026#39;] = false\n# gitlab_shell[\u0026#39;log_level\u0026#39;] = \u0026#39;INFO\u0026#39;\n# gitlab_shell[\u0026#39;log_format\u0026#39;] = \u0026#39;json\u0026#39;\n# gitlab_shell[\u0026#39;http_settings\u0026#39;] = { user: \u0026#39;username\u0026#39;, password: \u0026#39;password\u0026#39;, ca_file: \u0026#39;/etc/ssl/cert.pem\u0026#39;, ca_path: \u0026#39;/etc/pki/tls/certs\u0026#39;, self_signed_cert: false}\n# gitlab_shell[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/gitlab-shell/\u0026quot;\n# gitlab_shell[\u0026#39;custom_hooks_dir\u0026#39;] = \u0026quot;/opt/gitlab/embedded/service/gitlab-shell/hooks\u0026quot;\n\n# gitlab_shell[\u0026#39;auth_file\u0026#39;] = \u0026quot;/var/opt/gitlab/.ssh/authorized_keys\u0026quot;\n\n### Git trace log file.\n###! If set, git commands receive GIT_TRACE* environment variables\n###! Docs: https://git-scm.com/book/es/v2/Git-Internals-Environment-Variables#Debugging\n###! An absolute path starting with / – the trace output will be appended to\n###! that file. It needs to exist so we can check permissions and avoid\n###! throwing warnings to the users.\n# gitlab_shell[\u0026#39;git_trace_log_file\u0026#39;] = \u0026quot;/var/log/gitlab/gitlab-shell/gitlab-shell-git-trace.log\u0026quot;\n\n##! **We do not recommend changing this directory.**\n# gitlab_shell[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-shell\u0026quot;\n\n################################################################\n## GitLab PostgreSQL\n################################################################\n\n###! Changing any of these settings requires a restart of postgresql.\n###! By default, reconfigure reloads postgresql if it is running. If you\n###! change any of these settings, be sure to run `gitlab-ctl restart postgresql`\n###! after reconfigure in order for the changes to take effect.\n# postgresql[\u0026#39;enable\u0026#39;] = true\n# postgresql[\u0026#39;listen_address\u0026#39;] = nil\n# postgresql[\u0026#39;port\u0026#39;] = 5432\n# postgresql[\u0026#39;data_dir\u0026#39;] = \u0026quot;/var/opt/gitlab/postgresql/data\u0026quot;\n\n##! **recommend value is 1/4 of total RAM, up to 14GB.**\n# postgresql[\u0026#39;shared_buffers\u0026#39;] = \u0026quot;256MB\u0026quot;\n\n### Advanced settings\n# postgresql[\u0026#39;ha\u0026#39;] = false\n# postgresql[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/postgresql\u0026quot;\n# postgresql[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/postgresql\u0026quot;\n# postgresql[\u0026#39;username\u0026#39;] = \u0026quot;gitlab-psql\u0026quot;\n# postgresql[\u0026#39;group\u0026#39;] = \u0026quot;gitlab-psql\u0026quot;\n##! `SQL_USER_PASSWORD_HASH` can be generated using the command `gitlab-ctl pg-password-md5 gitlab`\n# postgresql[\u0026#39;sql_user_password\u0026#39;] = \u0026#39;SQL_USER_PASSWORD_HASH\u0026#39;\n# postgresql[\u0026#39;uid\u0026#39;] = nil\n# postgresql[\u0026#39;gid\u0026#39;] = nil\n# postgresql[\u0026#39;shell\u0026#39;] = \u0026quot;/bin/sh\u0026quot;\n# postgresql[\u0026#39;home\u0026#39;] = \u0026quot;/var/opt/gitlab/postgresql\u0026quot;\n# postgresql[\u0026#39;user_path\u0026#39;] = \u0026quot;/opt/gitlab/embedded/bin:/opt/gitlab/bin:$PATH\u0026quot;\n# postgresql[\u0026#39;sql_user\u0026#39;] = \u0026quot;gitlab\u0026quot;\n# postgresql[\u0026#39;max_connections\u0026#39;] = 200\n# postgresql[\u0026#39;md5_auth_cidr_addresses\u0026#39;] = []\n# postgresql[\u0026#39;trust_auth_cidr_addresses\u0026#39;] = []\n# postgresql[\u0026#39;wal_buffers\u0026#39;] = \u0026quot;-1\u0026quot;\n# postgresql[\u0026#39;autovacuum_max_workers\u0026#39;] = \u0026quot;3\u0026quot;\n# postgresql[\u0026#39;autovacuum_freeze_max_age\u0026#39;] = \u0026quot;200000000\u0026quot;\n# postgresql[\u0026#39;log_statement\u0026#39;] = nil\n# postgresql[\u0026#39;track_activity_query_size\u0026#39;] = \u0026quot;1024\u0026quot;\n# postgresql[\u0026#39;shared_preload_libraries\u0026#39;] = nil\n# postgresql[\u0026#39;dynamic_shared_memory_type\u0026#39;] = nil\n# postgresql[\u0026#39;hot_standby\u0026#39;] = \u0026quot;off\u0026quot;\n\n### SSL settings\n# See https://www.postgresql.org/docs/9.6/static/runtime-config-connection.html#GUC-SSL-CERT-FILE for more details\n# postgresql[\u0026#39;ssl\u0026#39;] = \u0026#39;on\u0026#39;\n# postgresql[\u0026#39;ssl_ciphers\u0026#39;] = \u0026#39;HIGH:MEDIUM:+3DES:!aNULL:!SSLv3:!TLSv1\u0026#39;\n# postgresql[\u0026#39;ssl_cert_file\u0026#39;] = \u0026#39;server.crt\u0026#39;\n# postgresql[\u0026#39;ssl_key_file\u0026#39;] = \u0026#39;server.key\u0026#39;\n# postgresql[\u0026#39;ssl_ca_file\u0026#39;] = \u0026#39;/opt/gitlab/embedded/ssl/certs/cacert.pem\u0026#39;\n# postgresql[\u0026#39;ssl_crl_file\u0026#39;] = nil\n\n### Replication settings\n###! Note, some replication settings do not require a full restart. They are documented below.\n# postgresql[\u0026#39;wal_level\u0026#39;] = \u0026quot;hot_standby\u0026quot;\n# postgresql[\u0026#39;max_wal_senders\u0026#39;] = 5\n# postgresql[\u0026#39;max_replication_slots\u0026#39;] = 0\n# postgresql[\u0026#39;max_locks_per_transaction\u0026#39;] = 128\n\n# Backup/Archive settings\n# postgresql[\u0026#39;archive_mode\u0026#39;] = \u0026quot;off\u0026quot;\n\n###! Changing any of these settings only requires a reload of postgresql. You do not need to\n###! restart postgresql if you change any of these and run reconfigure.\n# postgresql[\u0026#39;work_mem\u0026#39;] = \u0026quot;16MB\u0026quot;\n# postgresql[\u0026#39;maintenance_work_mem\u0026#39;] = \u0026quot;16MB\u0026quot;\n# postgresql[\u0026#39;checkpoint_segments\u0026#39;] = 10\n# postgresql[\u0026#39;checkpoint_timeout\u0026#39;] = \u0026quot;5min\u0026quot;\n# postgresql[\u0026#39;checkpoint_completion_target\u0026#39;] = 0.9\n# postgresql[\u0026#39;effective_io_concurrency\u0026#39;] = 1\n# postgresql[\u0026#39;checkpoint_warning\u0026#39;] = \u0026quot;30s\u0026quot;\n# postgresql[\u0026#39;effective_cache_size\u0026#39;] = \u0026quot;1MB\u0026quot;\n# postgresql[\u0026#39;shmmax\u0026#39;] =  17179869184 # or 4294967295\n# postgresql[\u0026#39;shmall\u0026#39;] =  4194304 # or 1048575\n# postgresql[\u0026#39;autovacuum\u0026#39;] = \u0026quot;on\u0026quot;\n# postgresql[\u0026#39;log_autovacuum_min_duration\u0026#39;] = \u0026quot;-1\u0026quot;\n# postgresql[\u0026#39;autovacuum_naptime\u0026#39;] = \u0026quot;1min\u0026quot;\n# postgresql[\u0026#39;autovacuum_vacuum_threshold\u0026#39;] = \u0026quot;50\u0026quot;\n# postgresql[\u0026#39;autovacuum_analyze_threshold\u0026#39;] = \u0026quot;50\u0026quot;\n# postgresql[\u0026#39;autovacuum_vacuum_scale_factor\u0026#39;] = \u0026quot;0.02\u0026quot;\n# postgresql[\u0026#39;autovacuum_analyze_scale_factor\u0026#39;] = \u0026quot;0.01\u0026quot;\n# postgresql[\u0026#39;autovacuum_vacuum_cost_delay\u0026#39;] = \u0026quot;20ms\u0026quot;\n# postgresql[\u0026#39;autovacuum_vacuum_cost_limit\u0026#39;] = \u0026quot;-1\u0026quot;\n# postgresql[\u0026#39;statement_timeout\u0026#39;] = \u0026quot;60000\u0026quot;\n# postgresql[\u0026#39;idle_in_transaction_session_timeout\u0026#39;] = \u0026quot;60000\u0026quot;\n# postgresql[\u0026#39;log_line_prefix\u0026#39;] = \u0026quot;%a\u0026quot;\n# postgresql[\u0026#39;max_worker_processes\u0026#39;] = 8\n# postgresql[\u0026#39;max_parallel_workers_per_gather\u0026#39;] = 0\n# postgresql[\u0026#39;log_lock_waits\u0026#39;] = 1\n# postgresql[\u0026#39;deadlock_timeout\u0026#39;] = \u0026#39;5s\u0026#39;\n# postgresql[\u0026#39;track_io_timing\u0026#39;] = 0\n# postgresql[\u0026#39;default_statistics_target\u0026#39;] = 1000\n\n### Available in PostgreSQL 9.6 and later\n# postgresql[\u0026#39;min_wal_size\u0026#39;] = 80MB\n# postgresql[\u0026#39;max_wal_size\u0026#39;] = 1GB\n\n# Backup/Archive settings\n# postgresql[\u0026#39;archive_command\u0026#39;] = nil\n# postgresql[\u0026#39;archive_timeout\u0026#39;] = \u0026quot;0\u0026quot;\n\n### Replication settings\n# postgresql[\u0026#39;sql_replication_user\u0026#39;] = \u0026quot;gitlab_replicator\u0026quot;\n# postgresql[\u0026#39;sql_replication_password\u0026#39;] = \u0026quot;md5 hash of postgresql password\u0026quot; # You can generate with `gitlab-ctl pg-password-md5 \u0026lt;dbuser\u0026gt;`\n# postgresql[\u0026#39;wal_keep_segments\u0026#39;] = 10\n# postgresql[\u0026#39;max_standby_archive_delay\u0026#39;] = \u0026quot;30s\u0026quot;\n# postgresql[\u0026#39;max_standby_streaming_delay\u0026#39;] = \u0026quot;30s\u0026quot;\n# postgresql[\u0026#39;synchronous_commit\u0026#39;] = on\n# postgresql[\u0026#39;synchronous_standby_names\u0026#39;] = \u0026#39;\u0026#39;\n# postgresql[\u0026#39;hot_standby_feedback\u0026#39;] = \u0026#39;off\u0026#39;\n# postgresql[\u0026#39;random_page_cost\u0026#39;] = 2.0\n# postgresql[\u0026#39;log_temp_files\u0026#39;] = -1\n# postgresql[\u0026#39;log_checkpoints\u0026#39;] = \u0026#39;off\u0026#39;\n# To add custom entries to pg_hba.conf use the following\n# postgresql[\u0026#39;custom_pg_hba_entries\u0026#39;] = {\n#   APPLICATION: [ # APPLICATION should identify what the settings are used for\n#     {\n#       type: example,\n#       database: example,\n#       user: example,\n#       cidr: example,\n#       method: example,\n#       option: example\n#     }\n#   ]\n# }\n# See https://www.postgresql.org/docs/9.6/static/auth-pg-hba-conf.html for an explanation\n# of the values\n\n\n################################################################################\n## GitLab Redis\n##! **Can be disabled if you are using your own Redis instance.**\n##! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\n################################################################################\n\n# redis[\u0026#39;enable\u0026#39;] = true\n# redis[\u0026#39;ha\u0026#39;] = false\n# redis[\u0026#39;hz\u0026#39;] = 10\n# redis[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/redis\u0026quot;\n# redis[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/redis\u0026quot;\n# redis[\u0026#39;username\u0026#39;] = \u0026quot;gitlab-redis\u0026quot;\n# redis[\u0026#39;group\u0026#39;] = \u0026quot;gitlab-redis\u0026quot;\n# redis[\u0026#39;maxclients\u0026#39;] = \u0026quot;10000\u0026quot;\n# redis[\u0026#39;maxmemory\u0026#39;] = \u0026quot;0\u0026quot;\n# redis[\u0026#39;maxmemory_policy\u0026#39;] = \u0026quot;noeviction\u0026quot;\n# redis[\u0026#39;maxmemory_samples\u0026#39;] = \u0026quot;5\u0026quot;\n# redis[\u0026#39;tcp_backlog\u0026#39;] = 511\n# redis[\u0026#39;tcp_timeout\u0026#39;] = \u0026quot;60\u0026quot;\n# redis[\u0026#39;tcp_keepalive\u0026#39;] = \u0026quot;300\u0026quot;\n# redis[\u0026#39;uid\u0026#39;] = nil\n# redis[\u0026#39;gid\u0026#39;] = nil\n\n###! **To enable only Redis service in this machine, uncomment\n###!   one of the lines below (choose master or slave instance types).**\n###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html\n###!       https://docs.gitlab.com/ce/administration/high_availability/redis.html\n# redis_master_role[\u0026#39;enable\u0026#39;] = true\n# redis_slave_role[\u0026#39;enable\u0026#39;] = true\n\n### Redis TCP support (will disable UNIX socket transport)\n# redis[\u0026#39;bind\u0026#39;] = \u0026#39;0.0.0.0\u0026#39; # or specify an IP to bind to a single one\n# redis[\u0026#39;port\u0026#39;] = 6379\n# redis[\u0026#39;password\u0026#39;] = \u0026#39;redis-password-goes-here\u0026#39;\n\n### Redis Sentinel support\n###! **You need a master slave Redis replication to be able to do failover**\n###! **Please read the documentation before enabling it to understand the\n###!   caveats:**\n###! Docs: https://docs.gitlab.com/ce/administration/high_availability/redis.html\n\n### Replication support\n#### Slave Redis instance\n# redis[\u0026#39;master\u0026#39;] = false # by default this is true\n\n#### Slave and Sentinel shared configuration\n####! **Both need to point to the master Redis instance to get replication and\n####!   heartbeat monitoring**\n# redis[\u0026#39;master_name\u0026#39;] = \u0026#39;gitlab-redis\u0026#39;\n# redis[\u0026#39;master_ip\u0026#39;] = nil\n# redis[\u0026#39;master_port\u0026#39;] = 6379\n\n#### Support to run redis slaves in a Docker or NAT environment\n####! Docs: https://redis.io/topics/replication#configuring-replication-in-docker-and-nat\n# redis[\u0026#39;announce_ip\u0026#39;] = nil\n# redis[\u0026#39;announce_port\u0026#39;] = nil\n\n####! **Master password should have the same value defined in\n####!   redis[\u0026#39;password\u0026#39;] to enable the instance to transition to/from\n####!   master/slave in a failover event.**\n# redis[\u0026#39;master_password\u0026#39;] = \u0026#39;redis-password-goes-here\u0026#39;\n\n####! Increase these values when your slaves can\u0026#39;t catch up with master\n# redis[\u0026#39;client_output_buffer_limit_normal\u0026#39;] = \u0026#39;0 0 0\u0026#39;\n# redis[\u0026#39;client_output_buffer_limit_slave\u0026#39;] = \u0026#39;256mb 64mb 60\u0026#39;\n# redis[\u0026#39;client_output_buffer_limit_pubsub\u0026#39;] = \u0026#39;32mb 8mb 60\u0026#39;\n\n#####! Redis snapshotting frequency\n#####! Set to [] to disable\n#####! Set to [\u0026#39;\u0026#39;] to clear previously set values\n# redis[\u0026#39;save\u0026#39;] = [ \u0026#39;900 1\u0026#39;, \u0026#39;300 10\u0026#39;, \u0026#39;60 10000\u0026#39; ]\n\n################################################################################\n## GitLab Web server\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#using-a-non-bundled-web-server\n################################################################################\n\n##! When bundled nginx is disabled we need to add the external webserver user to\n##! the GitLab webserver group.\n# web_server[\u0026#39;external_users\u0026#39;] = []\n# web_server[\u0026#39;username\u0026#39;] = \u0026#39;gitlab-www\u0026#39;\n# web_server[\u0026#39;group\u0026#39;] = \u0026#39;gitlab-www\u0026#39;\n# web_server[\u0026#39;uid\u0026#39;] = nil\n# web_server[\u0026#39;gid\u0026#39;] = nil\n# web_server[\u0026#39;shell\u0026#39;] = \u0026#39;/bin/false\u0026#39;\n# web_server[\u0026#39;home\u0026#39;] = \u0026#39;/var/opt/gitlab/nginx\u0026#39;\n\n################################################################################\n## GitLab NGINX\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html\n################################################################################\n\n# nginx[\u0026#39;enable\u0026#39;] = true\n# nginx[\u0026#39;client_max_body_size\u0026#39;] = \u0026#39;250m\u0026#39;\n# nginx[\u0026#39;redirect_http_to_https\u0026#39;] = false\n# nginx[\u0026#39;redirect_http_to_https_port\u0026#39;] = 80\n\n##! Most root CA\u0026#39;s are included by default\n# nginx[\u0026#39;ssl_client_certificate\u0026#39;] = \u0026quot;/etc/gitlab/ssl/ca.crt\u0026quot;\n\n##! enable/disable 2-way SSL client authentication\n# nginx[\u0026#39;ssl_verify_client\u0026#39;] = \u0026quot;off\u0026quot;\n\n##! if ssl_verify_client on, verification depth in the client certificates chain\n# nginx[\u0026#39;ssl_verify_depth\u0026#39;] = \u0026quot;1\u0026quot;\n\n# nginx[\u0026#39;ssl_certificate\u0026#39;] = \u0026quot;/etc/gitlab/ssl/#{node[\u0026#39;fqdn\u0026#39;]}.crt\u0026quot;\n# nginx[\u0026#39;ssl_certificate_key\u0026#39;] = \u0026quot;/etc/gitlab/ssl/#{node[\u0026#39;fqdn\u0026#39;]}.key\u0026quot;\n# nginx[\u0026#39;ssl_ciphers\u0026#39;] = \u0026quot;ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256\u0026quot;\n# nginx[\u0026#39;ssl_prefer_server_ciphers\u0026#39;] = \u0026quot;on\u0026quot;\n\n##! **Recommended by: https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html\n##!                   https://cipherli.st/**\n# nginx[\u0026#39;ssl_protocols\u0026#39;] = \u0026quot;TLSv1.1 TLSv1.2\u0026quot;\n\n##! **Recommended in: https://nginx.org/en/docs/http/ngx_http_ssl_module.html**\n# nginx[\u0026#39;ssl_session_cache\u0026#39;] = \u0026quot;builtin:1000  shared:SSL:10m\u0026quot;\n\n##! **Default according to https://nginx.org/en/docs/http/ngx_http_ssl_module.html**\n# nginx[\u0026#39;ssl_session_timeout\u0026#39;] = \u0026quot;5m\u0026quot;\n\n# nginx[\u0026#39;ssl_dhparam\u0026#39;] = nil # Path to dhparams.pem, eg. /etc/gitlab/ssl/dhparams.pem\n# nginx[\u0026#39;listen_addresses\u0026#39;] = [\u0026#39;*\u0026#39;, \u0026#39;[::]\u0026#39;]\n\n##! **Defaults to forcing web browsers to always communicate using only HTTPS**\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#setting-http-strict-transport-security\n# nginx[\u0026#39;hsts_max_age\u0026#39;] = 31536000\n# nginx[\u0026#39;hsts_include_subdomains\u0026#39;] = false\n\n##! **Docs: http://nginx.org/en/docs/http/ngx_http_gzip_module.html**\n# nginx[\u0026#39;gzip_enabled\u0026#39;] = true\n\n##! **Override only if you use a reverse proxy**\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#setting-the-nginx-listen-port\n# nginx[\u0026#39;listen_port\u0026#39;] = nil\n\n##! **Override only if your reverse proxy internally communicates over HTTP**\n##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html#supporting-proxied-ssl\n# nginx[\u0026#39;listen_https\u0026#39;] = nil\n\n# nginx[\u0026#39;custom_gitlab_server_config\u0026#39;] = \u0026quot;location ^~ /foo-namespace/bar-project/raw/ {\\n deny all;\\n}\\n\u0026quot;\n# nginx[\u0026#39;custom_nginx_config\u0026#39;] = \u0026quot;include /etc/nginx/conf.d/example.conf;\u0026quot;\n# nginx[\u0026#39;proxy_read_timeout\u0026#39;] = 3600\n# nginx[\u0026#39;proxy_connect_timeout\u0026#39;] = 300\n# nginx[\u0026#39;proxy_set_headers\u0026#39;] = {\n#  \u0026quot;Host\u0026quot; =\u0026gt; \u0026quot;$http_host_with_default\u0026quot;,\n#  \u0026quot;X-Real-IP\u0026quot; =\u0026gt; \u0026quot;$remote_addr\u0026quot;,\n#  \u0026quot;X-Forwarded-For\u0026quot; =\u0026gt; \u0026quot;$proxy_add_x_forwarded_for\u0026quot;,\n#  \u0026quot;X-Forwarded-Proto\u0026quot; =\u0026gt; \u0026quot;https\u0026quot;,\n#  \u0026quot;X-Forwarded-Ssl\u0026quot; =\u0026gt; \u0026quot;on\u0026quot;,\n#  \u0026quot;Upgrade\u0026quot; =\u0026gt; \u0026quot;$http_upgrade\u0026quot;,\n#  \u0026quot;Connection\u0026quot; =\u0026gt; \u0026quot;$connection_upgrade\u0026quot;\n# }\n# nginx[\u0026#39;proxy_cache_path\u0026#39;] = \u0026#39;proxy_cache keys_zone=gitlab:10m max_size=1g levels=1:2\u0026#39;\n# nginx[\u0026#39;proxy_cache\u0026#39;] = \u0026#39;gitlab\u0026#39;\n# nginx[\u0026#39;http2_enabled\u0026#39;] = true\n# nginx[\u0026#39;real_ip_trusted_addresses\u0026#39;] = []\n# nginx[\u0026#39;real_ip_header\u0026#39;] = nil\n# nginx[\u0026#39;real_ip_recursive\u0026#39;] = nil\n# nginx[\u0026#39;custom_error_pages\u0026#39;] = {\n#   \u0026#39;404\u0026#39; =\u0026gt; {\n#     \u0026#39;title\u0026#39; =\u0026gt; \u0026#39;Example title\u0026#39;,\n#     \u0026#39;header\u0026#39; =\u0026gt; \u0026#39;Example header\u0026#39;,\n#     \u0026#39;message\u0026#39; =\u0026gt; \u0026#39;Example message\u0026#39;\n#   }\n# }\n\n### Advanced settings\n# nginx[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/nginx\u0026quot;\n# nginx[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/nginx\u0026quot;\n# nginx[\u0026#39;worker_processes\u0026#39;] = 4\n# nginx[\u0026#39;worker_connections\u0026#39;] = 10240\n# nginx[\u0026#39;log_format\u0026#39;] = \u0026#39;$remote_addr - $remote_user [$time_local] \u0026quot;$request\u0026quot; $status $body_bytes_sent \u0026quot;$http_referer\u0026quot; \u0026quot;$http_user_agent\u0026quot;\u0026#39;\n# nginx[\u0026#39;sendfile\u0026#39;] = \u0026#39;on\u0026#39;\n# nginx[\u0026#39;tcp_nopush\u0026#39;] = \u0026#39;on\u0026#39;\n# nginx[\u0026#39;tcp_nodelay\u0026#39;] = \u0026#39;on\u0026#39;\n# nginx[\u0026#39;gzip\u0026#39;] = \u0026quot;on\u0026quot;\n# nginx[\u0026#39;gzip_http_version\u0026#39;] = \u0026quot;1.0\u0026quot;\n# nginx[\u0026#39;gzip_comp_level\u0026#39;] = \u0026quot;2\u0026quot;\n# nginx[\u0026#39;gzip_proxied\u0026#39;] = \u0026quot;any\u0026quot;\n# nginx[\u0026#39;gzip_types\u0026#39;] = [ \u0026quot;text/plain\u0026quot;, \u0026quot;text/css\u0026quot;, \u0026quot;application/x-javascript\u0026quot;, \u0026quot;text/xml\u0026quot;, \u0026quot;application/xml\u0026quot;, \u0026quot;application/xml+rss\u0026quot;, \u0026quot;text/javascript\u0026quot;, \u0026quot;application/json\u0026quot; ]\n# nginx[\u0026#39;keepalive_timeout\u0026#39;] = 65\n# nginx[\u0026#39;cache_max_size\u0026#39;] = \u0026#39;5000m\u0026#39;\n# nginx[\u0026#39;server_names_hash_bucket_size\u0026#39;] = 64\n##! These paths have proxy_request_buffering disabled\n# nginx[\u0026#39;request_buffering_off_path_regex\u0026#39;] = \u0026quot;\\.git/git-receive-pack$|\\.git/info/refs?service=git-receive-pack$|\\.git/gitlab-lfs/objects|\\.git/info/lfs/objects/batch$\u0026quot;\n\n### Nginx status\n# nginx[\u0026#39;status\u0026#39;] = {\n#  \u0026quot;enable\u0026quot; =\u0026gt; true,\n#  \u0026quot;listen_addresses\u0026quot; =\u0026gt; [\u0026quot;127.0.0.1\u0026quot;],\n#  \u0026quot;fqdn\u0026quot; =\u0026gt; \u0026quot;dev.example.com\u0026quot;,\n#  \u0026quot;port\u0026quot; =\u0026gt; 9999,\n#  \u0026quot;vts_enable\u0026quot; =\u0026gt; true,\n#  \u0026quot;options\u0026quot; =\u0026gt; {\n#    \u0026quot;stub_status\u0026quot; =\u0026gt; \u0026quot;on\u0026quot;, # Turn on stats\n#    \u0026quot;server_tokens\u0026quot; =\u0026gt; \u0026quot;off\u0026quot;, # Don\u0026#39;t show the version of NGINX\n#    \u0026quot;access_log\u0026quot; =\u0026gt; \u0026quot;off\u0026quot;, # Disable logs for stats\n#    \u0026quot;allow\u0026quot; =\u0026gt; \u0026quot;127.0.0.1\u0026quot;, # Only allow access from localhost\n#    \u0026quot;deny\u0026quot; =\u0026gt; \u0026quot;all\u0026quot; # Deny access to anyone else\n#  }\n# }\n\n################################################################################\n## GitLab Logging\n##! Docs: https://docs.gitlab.com/omnibus/settings/logs.html\n################################################################################\n\n# logging[\u0026#39;svlogd_size\u0026#39;] = 200 * 1024 * 1024 # rotate after 200 MB of log data\n# logging[\u0026#39;svlogd_num\u0026#39;] = 30 # keep 30 rotated log files\n# logging[\u0026#39;svlogd_timeout\u0026#39;] = 24 * 60 * 60 # rotate after 24 hours\n# logging[\u0026#39;svlogd_filter\u0026#39;] = \u0026quot;gzip\u0026quot; # compress logs with gzip\n# logging[\u0026#39;svlogd_udp\u0026#39;] = nil # transmit log messages via UDP\n# logging[\u0026#39;svlogd_prefix\u0026#39;] = nil # custom prefix for log messages\n# logging[\u0026#39;logrotate_frequency\u0026#39;] = \u0026quot;daily\u0026quot; # rotate logs daily\n# logging[\u0026#39;logrotate_size\u0026#39;] = nil # do not rotate by size by default\n# logging[\u0026#39;logrotate_rotate\u0026#39;] = 30 # keep 30 rotated logs\n# logging[\u0026#39;logrotate_compress\u0026#39;] = \u0026quot;compress\u0026quot; # see \u0026#39;man logrotate\u0026#39;\n# logging[\u0026#39;logrotate_method\u0026#39;] = \u0026quot;copytruncate\u0026quot; # see \u0026#39;man logrotate\u0026#39;\n# logging[\u0026#39;logrotate_postrotate\u0026#39;] = nil # no postrotate command by default\n# logging[\u0026#39;logrotate_dateformat\u0026#39;] = nil # use date extensions for rotated files rather than numbers e.g. a value of \u0026quot;-%Y-%m-%d\u0026quot; would give rotated files like production.log-2016-03-09.gz\n\n### UDP log forwarding\n##! Docs: http://docs.gitlab.com/omnibus/settings/logs.html#udp-log-forwarding\n\n##! remote host to ship log messages to via UDP\n# logging[\u0026#39;udp_log_shipping_host\u0026#39;] = nil\n\n##! override the hostname used when logs are shipped via UDP,\n##  by default the system hostname will be used.\n# logging[\u0026#39;udp_log_shipping_hostname\u0026#39;] = nil\n\n##! remote port to ship log messages to via UDP\n# logging[\u0026#39;udp_log_shipping_port\u0026#39;] = 514\n\n################################################################################\n## Logrotate\n##! Docs: https://docs.gitlab.com/omnibus/settings/logs.html#logrotate\n##! You can disable built in logrotate feature.\n################################################################################\n# logrotate[\u0026#39;enable\u0026#39;] = true\n\n################################################################################\n## Users and groups accounts\n##! Disable management of users and groups accounts.\n##! **Set only if creating accounts manually**\n##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#disable-user-and-group-account-management\n################################################################################\n\n# manage_accounts[\u0026#39;enable\u0026#39;] = false\n\n################################################################################\n## Storage directories\n##! Disable managing storage directories\n##! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#disable-storage-directories-management\n################################################################################\n\n##! **Set only if the select directories are created manually**\n# manage_storage_directories[\u0026#39;enable\u0026#39;] = false\n# manage_storage_directories[\u0026#39;manage_etc\u0026#39;] = false\n\n################################################################################\n## Runtime directory\n##! Docs: https://docs.gitlab.com//omnibus/settings/configuration.html#configuring-runtime-directory\n################################################################################\n\n# runtime_dir \u0026#39;/run\u0026#39;\n\n################################################################################\n## Git\n##! Advanced setting for configuring git system settings for omnibus-gitlab\n##! internal git\n################################################################################\n\n##! For multiple options under one header use array of comma separated values,\n##! eg.:\n##! { \u0026quot;receive\u0026quot; =\u0026gt; [\u0026quot;fsckObjects = true\u0026quot;], \u0026quot;alias\u0026quot; =\u0026gt; [\u0026quot;st = status\u0026quot;, \u0026quot;co = checkout\u0026quot;] }\n\n# omnibus_gitconfig[\u0026#39;system\u0026#39;] = {\n#  \u0026quot;pack\u0026quot; =\u0026gt; [\u0026quot;threads = 1\u0026quot;],\n#  \u0026quot;receive\u0026quot; =\u0026gt; [\u0026quot;fsckObjects = true\u0026quot;, \u0026quot;advertisePushOptions = true\u0026quot;],\n#  \u0026quot;repack\u0026quot; =\u0026gt; [\u0026quot;writeBitmaps = true\u0026quot;],\n#  \u0026quot;transfer\u0026quot; =\u0026gt; [\u0026quot;hideRefs=^refs/tmp/\u0026quot;, \u0026quot;hideRefs=^refs/keep-around/\u0026quot;, \u0026quot;hideRefs=^refs/remotes/\u0026quot;],\n# }\n\n################################################################################\n## GitLab Pages\n##! Docs: https://docs.gitlab.com/ce/pages/administration.html\n################################################################################\n\n##! Define to enable GitLab Pages\n# pages_external_url \u0026quot;http://pages.example.com/\u0026quot;\n# gitlab_pages[\u0026#39;enable\u0026#39;] = false\n\n##! Configure to expose GitLab Pages on external IP address, serving the HTTP\n# gitlab_pages[\u0026#39;external_http\u0026#39;] = []\n\n##! Configure to expose GitLab Pages on external IP address, serving the HTTPS\n# gitlab_pages[\u0026#39;external_https\u0026#39;] = []\n\n##! Configure to enable health check endpoint on GitLab Pages\n# gitlab_pages[\u0026#39;status_uri\u0026#39;] = \u0026quot;/@status\u0026quot;\n\n##! Tune the maximum number of concurrent connections GitLab Pages will handle.\n##! This should be in the range 1 - 10000, defaulting to 5000.\n# gitlab_pages[\u0026#39;max_connections\u0026#39;] = 5000\n\n##! Configure to use JSON structured logging in GitLab Pages\n# gitlab_pages[\u0026#39;log_format\u0026#39;] = \u0026quot;json\u0026quot;\n\n##! Configure verbose logging for GitLab Pages\n# gitlab_pages[\u0026#39;log_verbose\u0026#39;] = false\n\n##! Listen for requests forwarded by reverse proxy\n# gitlab_pages[\u0026#39;listen_proxy\u0026#39;] = \u0026quot;localhost:8090\u0026quot;\n\n# gitlab_pages[\u0026#39;redirect_http\u0026#39;] = true\n# gitlab_pages[\u0026#39;use_http2\u0026#39;] = true\n# gitlab_pages[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-pages\u0026quot;\n# gitlab_pages[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/gitlab-pages\u0026quot;\n\n# gitlab_pages[\u0026#39;artifacts_server\u0026#39;] = true\n# gitlab_pages[\u0026#39;artifacts_server_url\u0026#39;] = nil # Defaults to external_url + \u0026#39;/api/v4\u0026#39;\n# gitlab_pages[\u0026#39;artifacts_server_timeout\u0026#39;] = 10\n\n##! Environments that do not support bind-mounting should set this parameter to\n##! true. This is incompatible with the artifacts server\n# gitlab_pages[\u0026#39;inplace_chroot\u0026#39;] = false\n\n##! Prometheus metrics for Pages docs: https://gitlab.com/gitlab-org/gitlab-pages/#enable-prometheus-metrics\n# gitlab_pages[\u0026#39;metrics_address\u0026#39;] = \u0026quot;:9235\u0026quot;\n\n##! Configure the pages admin API\n# gitlab_pages[\u0026#39;admin_secret_token\u0026#39;] = \u0026#39;custom secret\u0026#39;\n# gitlab_pages[\u0026#39;admin_https_listener\u0026#39;] = \u0026#39;0.0.0.0:5678\u0026#39;\n# gitlab_pages[\u0026#39;admin_https_cert\u0026#39;] = \u0026#39;/etc/gitlab/pages-admin.crt\u0026#39;\n# gitlab_pages[\u0026#39;admin_https_key\u0026#39;] = \u0026#39;/etc/gitlab/pages-admin.key\u0026#39;\n\n##! Client side configuration for gitlab-pages admin API, in case pages runs on a different host\n# gitlab_rails[\u0026#39;pages_admin_address\u0026#39;] = \u0026#39;pages.gitlab.example.com:5678\u0026#39;\n# gitlab_rails[\u0026#39;pages_admin_certificate\u0026#39;] = \u0026#39;/etc/gitlab/pages-admin.crt\u0026#39;\n\n##! Pages access control\n# gitlab_pages[\u0026#39;access_control\u0026#39;] = false\n# gitlab_pages[\u0026#39;gitlab_id\u0026#39;] = nil # Automatically generated if not present\n# gitlab_pages[\u0026#39;gitlab_secret\u0026#39;] = nil # Generated if not present\n# gitlab_pages[\u0026#39;auth_redirect_uri\u0026#39;] = nil # Defaults to projects subdomain of pages_external_url and + \u0026#39;/auth\u0026#39;\n# gitlab_pages[\u0026#39;auth_server\u0026#39;] = nil # Defaults to external_url\n# gitlab_pages[\u0026#39;auth_secret\u0026#39;] = nil # Generated if not present\n\n################################################################################\n## GitLab Pages NGINX\n################################################################################\n\n# All the settings defined in the \u0026quot;GitLab Nginx\u0026quot; section are also available in\n# this \u0026quot;GitLab Pages NGINX\u0026quot; section, using the key `pages_nginx`.  However,\n# those settings should be explicitly set. That is, settings given as\n# `nginx[\u0026#39;some_setting\u0026#39;]` WILL NOT be automatically replicated as\n# `pages_nginx[\u0026#39;some_setting\u0026#39;]` and should be set separately.\n\n# Below you can find settings that are exclusive to \u0026quot;GitLab Pages NGINX\u0026quot;\n# pages_nginx[\u0026#39;enable\u0026#39;] = false\n\n# gitlab_rails[\u0026#39;pages_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/pages\u0026quot;\n\n################################################################################\n## GitLab CI\n##! Docs: https://docs.gitlab.com/ce/ci/quick_start/README.html\n################################################################################\n\n# gitlab_ci[\u0026#39;gitlab_ci_all_broken_builds\u0026#39;] = true\n# gitlab_ci[\u0026#39;gitlab_ci_add_pusher\u0026#39;] = true\n# gitlab_ci[\u0026#39;builds_directory\u0026#39;] = \u0026#39;/var/opt/gitlab/gitlab-ci/builds\u0026#39;\n\n################################################################################\n## GitLab Mattermost\n##! Docs: https://docs.gitlab.com/omnibus/gitlab-mattermost\n################################################################################\n\n# mattermost_external_url \u0026#39;http://mattermost.example.com\u0026#39;\n\n# mattermost[\u0026#39;enable\u0026#39;] = false\n# mattermost[\u0026#39;username\u0026#39;] = \u0026#39;mattermost\u0026#39;\n# mattermost[\u0026#39;group\u0026#39;] = \u0026#39;mattermost\u0026#39;\n# mattermost[\u0026#39;uid\u0026#39;] = nil\n# mattermost[\u0026#39;gid\u0026#39;] = nil\n# mattermost[\u0026#39;home\u0026#39;] = \u0026#39;/var/opt/gitlab/mattermost\u0026#39;\n# mattermost[\u0026#39;database_name\u0026#39;] = \u0026#39;mattermost_production\u0026#39;\n# mattermost[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n# mattermost[\u0026#39;service_address\u0026#39;] = \u0026quot;127.0.0.1\u0026quot;\n# mattermost[\u0026#39;service_port\u0026#39;] = \u0026quot;8065\u0026quot;\n# mattermost[\u0026#39;service_site_url\u0026#39;] = nil\n# mattermost[\u0026#39;service_allowed_untrusted_internal_connections\u0026#39;] = \u0026quot;\u0026quot;\n# mattermost[\u0026#39;service_enable_api_team_deletion\u0026#39;] = true\n# mattermost[\u0026#39;team_site_name\u0026#39;] = \u0026quot;GitLab Mattermost\u0026quot;\n# mattermost[\u0026#39;sql_driver_name\u0026#39;] = \u0026#39;mysql\u0026#39;\n# mattermost[\u0026#39;sql_data_source\u0026#39;] = \u0026quot;mmuser:mostest@tcp(dockerhost:3306)/mattermost_test?charset=utf8mb4,utf8\u0026quot;\n# mattermost[\u0026#39;log_file_directory\u0026#39;] = \u0026#39;/var/log/gitlab/mattermost/\u0026#39;\n# mattermost[\u0026#39;gitlab_enable\u0026#39;] = false\n# mattermost[\u0026#39;gitlab_id\u0026#39;] = \u0026quot;12345656\u0026quot;\n# mattermost[\u0026#39;gitlab_secret\u0026#39;] = \u0026quot;123456789\u0026quot;\n# mattermost[\u0026#39;gitlab_scope\u0026#39;] = \u0026quot;\u0026quot;\n# mattermost[\u0026#39;gitlab_auth_endpoint\u0026#39;] = \u0026quot;http://gitlab.example.com/oauth/authorize\u0026quot;\n# mattermost[\u0026#39;gitlab_token_endpoint\u0026#39;] = \u0026quot;http://gitlab.example.com/oauth/token\u0026quot;\n# mattermost[\u0026#39;gitlab_user_api_endpoint\u0026#39;] = \u0026quot;http://gitlab.example.com/api/v4/user\u0026quot;\n# mattermost[\u0026#39;file_directory\u0026#39;] = \u0026quot;/var/opt/gitlab/mattermost/data\u0026quot;\n# mattermost[\u0026#39;plugin_directory\u0026#39;] = \u0026quot;/var/opt/gitlab/mattermost/plugins\u0026quot;\n# mattermost[\u0026#39;plugin_client_directory\u0026#39;] = \u0026quot;/var/opt/gitlab/mattermost/client-plugins\u0026quot;\n\n################################################################################\n## Mattermost NGINX\n################################################################################\n\n# All the settings defined in the \u0026quot;GitLab Nginx\u0026quot; section are also available in\n# this \u0026quot;Mattermost NGINX\u0026quot; section, using the key `mattermost_nginx`.  However,\n# those settings should be explicitly set. That is, settings given as\n# `nginx[\u0026#39;some_setting\u0026#39;]` WILL NOT be automatically replicated as\n# `mattermost_nginx[\u0026#39;some_setting\u0026#39;]` and should be set separately.\n\n# Below you can find settings that are exclusive to \u0026quot;Mattermost NGINX\u0026quot;\n# mattermost_nginx[\u0026#39;enable\u0026#39;] = false\n\n# mattermost_nginx[\u0026#39;custom_gitlab_mattermost_server_config\u0026#39;] = \u0026quot;location ^~ /foo-namespace/bar-project/raw/ {\\n deny all;\\n}\\n\u0026quot;\n# mattermost_nginx[\u0026#39;proxy_set_headers\u0026#39;] = {\n#   \u0026quot;Host\u0026quot; =\u0026gt; \u0026quot;$http_host\u0026quot;,\n#   \u0026quot;X-Real-IP\u0026quot; =\u0026gt; \u0026quot;$remote_addr\u0026quot;,\n#   \u0026quot;X-Forwarded-For\u0026quot; =\u0026gt; \u0026quot;$proxy_add_x_forwarded_for\u0026quot;,\n#   \u0026quot;X-Frame-Options\u0026quot; =\u0026gt; \u0026quot;SAMEORIGIN\u0026quot;,\n#   \u0026quot;X-Forwarded-Proto\u0026quot; =\u0026gt; \u0026quot;https\u0026quot;,\n#   \u0026quot;X-Forwarded-Ssl\u0026quot; =\u0026gt; \u0026quot;on\u0026quot;,\n#   \u0026quot;Upgrade\u0026quot; =\u0026gt; \u0026quot;$http_upgrade\u0026quot;,\n#   \u0026quot;Connection\u0026quot; =\u0026gt; \u0026quot;$connection_upgrade\u0026quot;\n# }\n\n\n################################################################################\n## Registry NGINX\n################################################################################\n\n# All the settings defined in the \u0026quot;GitLab Nginx\u0026quot; section are also available in\n# this \u0026quot;Registry NGINX\u0026quot; section, using the key `registry_nginx`.  However, those\n# settings should be explicitly set. That is, settings given as\n# `nginx[\u0026#39;some_setting\u0026#39;]` WILL NOT be automatically replicated as\n# `registry_nginx[\u0026#39;some_setting\u0026#39;]` and should be set separately.\n\n# Below you can find settings that are exclusive to \u0026quot;Registry NGINX\u0026quot;\n# registry_nginx[\u0026#39;enable\u0026#39;] = false\n\n# registry_nginx[\u0026#39;proxy_set_headers\u0026#39;] = {\n#  \u0026quot;Host\u0026quot; =\u0026gt; \u0026quot;$http_host\u0026quot;,\n#  \u0026quot;X-Real-IP\u0026quot; =\u0026gt; \u0026quot;$remote_addr\u0026quot;,\n#  \u0026quot;X-Forwarded-For\u0026quot; =\u0026gt; \u0026quot;$proxy_add_x_forwarded_for\u0026quot;,\n#  \u0026quot;X-Forwarded-Proto\u0026quot; =\u0026gt; \u0026quot;https\u0026quot;,\n#  \u0026quot;X-Forwarded-Ssl\u0026quot; =\u0026gt; \u0026quot;on\u0026quot;\n# }\n\n################################################################################\n## Prometheus\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/\n################################################################################\n\n# prometheus[\u0026#39;enable\u0026#39;] = true\n# prometheus[\u0026#39;monitor_kubernetes\u0026#39;] = true\n# prometheus[\u0026#39;username\u0026#39;] = \u0026#39;gitlab-prometheus\u0026#39;\n# prometheus[\u0026#39;group\u0026#39;] = \u0026#39;gitlab-prometheus\u0026#39;\n# prometheus[\u0026#39;uid\u0026#39;] = nil\n# prometheus[\u0026#39;gid\u0026#39;] = nil\n# prometheus[\u0026#39;shell\u0026#39;] = \u0026#39;/bin/sh\u0026#39;\n# prometheus[\u0026#39;home\u0026#39;] = \u0026#39;/var/opt/gitlab/prometheus\u0026#39;\n# prometheus[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/prometheus\u0026#39;\n# prometheus[\u0026#39;rules_files\u0026#39;] = [\u0026#39;/var/opt/gitlab/prometheus/rules/*.rules\u0026#39;]\n# prometheus[\u0026#39;scrape_interval\u0026#39;] = 15\n# prometheus[\u0026#39;scrape_timeout\u0026#39;] = 15\n# prometheus[\u0026#39;chunk_encoding_version\u0026#39;] = 2\n# prometheus[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/prometheus/env\u0026#39;\n# prometheus[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n#\n### Custom scrape configs\n#\n# Prometheus can scrape additional jobs via scrape_configs.  The default automatically\n# includes all of the exporters supported by the omnibus config.\n#\n# See: https://prometheus.io/docs/operating/configuration/#\u0026lt;scrape_config\u0026gt;\n#\n# Example:\n#\n# prometheus[\u0026#39;scrape_configs\u0026#39;] = [\n#   {\n#     \u0026#39;job_name\u0026#39;: \u0026#39;example\u0026#39;,\n#     \u0026#39;static_configs\u0026#39; =\u0026gt; [\n#       \u0026#39;targets\u0026#39; =\u0026gt; [\u0026#39;hostname:port\u0026#39;],\n#     ],\n#   },\n# ]\n#\n### Prometheus Memory Management\n#\n# Prometheus needs to be configured for how much memory is used.\n# * This sets the target heap size.\n# * This value accounts for approximately 2/3 of the memory used by the server.\n# * The recommended memory is 4kb per unique metrics time-series.\n# See: https://prometheus.io/docs/operating/storage/#memory-usage\n#\n# prometheus[\u0026#39;target_heap_size\u0026#39;] = (\n#   # Use 25mb + 2% of total memory for Prometheus memory.\n#   26_214_400 + (node[\u0026#39;memory\u0026#39;][\u0026#39;total\u0026#39;].to_i * 1024 * 0.02 )\n# ).to_i\n#\n# prometheus[\u0026#39;flags\u0026#39;] = {\n#   \u0026#39;storage.local.path\u0026#39; =\u0026gt; \u0026quot;#{node[\u0026#39;gitlab\u0026#39;][\u0026#39;prometheus\u0026#39;][\u0026#39;home\u0026#39;]}/data\u0026quot;,\n#   \u0026#39;storage.local.chunk-encoding-version\u0026#39; =\u0026gt; user_config[\u0026#39;chunk-encoding-version\u0026#39;],\n#   \u0026#39;storage.local.target-heap-size\u0026#39; =\u0026gt; node[\u0026#39;gitlab\u0026#39;][\u0026#39;prometheus\u0026#39;][\u0026#39;target-heap-size\u0026#39;],\n#   \u0026#39;config.file\u0026#39; =\u0026gt; \u0026quot;#{node[\u0026#39;gitlab\u0026#39;][\u0026#39;prometheus\u0026#39;][\u0026#39;home\u0026#39;]}/prometheus.yml\u0026quot;\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# prometheus[\u0026#39;listen_address\u0026#39;] = \u0026#39;localhost:9090\u0026#39;\n\n################################################################################\n## Prometheus Alertmanager\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/alertmanager.html\n################################################################################\n\n# alertmanager[\u0026#39;enable\u0026#39;] = true\n# alertmanager[\u0026#39;home\u0026#39;] = \u0026#39;/var/opt/gitlab/alertmanager\u0026#39;\n# alertmanager[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/alertmanager\u0026#39;\n# alertmanager[\u0026#39;admin_email\u0026#39;] = \u0026#39;admin@example.com\u0026#39;\n# alertmanager[\u0026#39;flags\u0026#39;] = {\n#   \u0026#39;web.listen-address\u0026#39; =\u0026gt; \u0026quot;#{node[\u0026#39;gitlab\u0026#39;][\u0026#39;alertmanager\u0026#39;][\u0026#39;listen_address\u0026#39;]}\u0026quot;\n#   \u0026#39;storage.path\u0026#39; =\u0026gt; \u0026quot;#{node[\u0026#39;gitlab\u0026#39;][\u0026#39;alertmanager\u0026#39;][\u0026#39;home\u0026#39;]}/data\u0026quot;\n#   \u0026#39;config.file\u0026#39; =\u0026gt; \u0026quot;#{node[\u0026#39;gitlab\u0026#39;][\u0026#39;alertmanager\u0026#39;][\u0026#39;home\u0026#39;]}/alertmanager.yml\u0026quot;\n# }\n# alertmanager[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/alertmanager/env\u0026#39;\n# alertmanager[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# alertmanager[\u0026#39;listen_address\u0026#39;] = \u0026#39;localhost:9093\u0026#39;\n\n################################################################################\n## Prometheus Node Exporter\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/node_exporter.html\n################################################################################\n\n# node_exporter[\u0026#39;enable\u0026#39;] = true\n# node_exporter[\u0026#39;home\u0026#39;] = \u0026#39;/var/opt/gitlab/node-exporter\u0026#39;\n# node_exporter[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/node-exporter\u0026#39;\n# node_exporter[\u0026#39;flags\u0026#39;] = {\n#   \u0026#39;collector.textfile.directory\u0026#39; =\u0026gt; \u0026quot;#{node[\u0026#39;gitlab\u0026#39;][\u0026#39;node-exporter\u0026#39;][\u0026#39;home\u0026#39;]}/textfile_collector\u0026quot;\n# }\n# node_exporter[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/node-exporter/env\u0026#39;\n# node_exporter[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# node_exporter[\u0026#39;listen_address\u0026#39;] = \u0026#39;localhost:9100\u0026#39;\n\n################################################################################\n## Prometheus Redis exporter\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/redis_exporter.html\n################################################################################\n\n# redis_exporter[\u0026#39;enable\u0026#39;] = true\n# redis_exporter[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/redis-exporter\u0026#39;\n# redis_exporter[\u0026#39;flags\u0026#39;] = {\n#   \u0026#39;redis.addr\u0026#39; =\u0026gt; \u0026quot;unix://#{node[\u0026#39;gitlab\u0026#39;][\u0026#39;gitlab-rails\u0026#39;][\u0026#39;redis_socket\u0026#39;]}\u0026quot;,\n# }\n# redis_exporter[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/redis-exporter/env\u0026#39;\n# redis_exporter[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# redis_exporter[\u0026#39;listen_address\u0026#39;] = \u0026#39;localhost:9121\u0026#39;\n\n################################################################################\n## Prometheus Postgres exporter\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/postgres_exporter.html\n################################################################################\n\n# postgres_exporter[\u0026#39;enable\u0026#39;] = true\n# postgres_exporter[\u0026#39;home\u0026#39;] = \u0026#39;/var/opt/gitlab/postgres-exporter\u0026#39;\n# postgres_exporter[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/postgres-exporter\u0026#39;\n# postgres_exporter[\u0026#39;flags\u0026#39;] = {}\n# postgres_exporter[\u0026#39;listen_address\u0026#39;] = \u0026#39;localhost:9187\u0026#39;\n# postgres_exporter[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/postgres-exporter/env\u0026#39;\n# postgres_exporter[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n\n################################################################################\n## Prometheus PgBouncer exporter (EE only)\n##! Docs: https://docs.gitlab.com/ee/administration/monitoring/prometheus/pgbouncer_exporter.html\n################################################################################\n\n# pgbouncer_exporter[\u0026#39;enable\u0026#39;] = false\n# pgbouncer_exporter[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/pgbouncer-exporter\u0026quot;\n# pgbouncer_exporter[\u0026#39;listen_address\u0026#39;] = \u0026#39;localhost:9188\u0026#39;\n# pgbouncer_exporter[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/pgbouncer-exporter/env\u0026#39;\n# pgbouncer_exporter[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n\n################################################################################\n## Prometheus Gitlab monitor\n##! Docs: https://docs.gitlab.com/ce/administration/monitoring/prometheus/gitlab_monitor_exporter.html\n################################################################################\n\n\n# gitlab_monitor[\u0026#39;enable\u0026#39;] = true\n# gitlab_monitor[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/gitlab-monitor\u0026quot;\n# gitlab_monitor[\u0026#39;home\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-monitor\u0026quot;\n\n##! Advanced settings. Should be changed only if absolutely needed.\n# gitlab_monitor[\u0026#39;listen_address\u0026#39;] = \u0026#39;localhost\u0026#39;\n# gitlab_monitor[\u0026#39;listen_port\u0026#39;] = \u0026#39;9168\u0026#39;\n\n##! Manage gitlab-monitor sidekiq probes. false by default when Sentinels are\n##! found.\n# gitlab_monitor[\u0026#39;probe_sidekiq\u0026#39;] = true\n\n# To completely disable prometheus, and all of it\u0026#39;s exporters, set to false\n# prometheus_monitoring[\u0026#39;enable\u0026#39;] = true\n\n################################################################################\n## Gitaly\n##! Docs:\n################################################################################\n\n# The gitaly[\u0026#39;enable\u0026#39;] option exists for the purpose of cluster\n# deployments, see https://docs.gitlab.com/ee/administration/gitaly/index.html .\n# gitaly[\u0026#39;enable\u0026#39;] = true\n# gitaly[\u0026#39;dir\u0026#39;] = \u0026quot;/var/opt/gitlab/gitaly\u0026quot;\n# gitaly[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/gitaly\u0026quot;\n# gitaly[\u0026#39;bin_path\u0026#39;] = \u0026quot;/opt/gitlab/embedded/bin/gitaly\u0026quot;\n# gitaly[\u0026#39;env_directory\u0026#39;] = \u0026quot;/opt/gitlab/etc/gitaly/env\u0026quot;\n# gitaly[\u0026#39;env\u0026#39;] = {\n#  \u0026#39;PATH\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin\u0026quot;,\n#  \u0026#39;HOME\u0026#39; =\u0026gt; \u0026#39;/var/opt/gitlab\u0026#39;\n# }\n# gitaly[\u0026#39;socket_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitaly/gitaly.socket\u0026quot;\n# gitaly[\u0026#39;listen_addr\u0026#39;] = \u0026quot;localhost:8075\u0026quot;\n# gitaly[\u0026#39;tls_listen_addr] = \u0026quot;localhost:9075\u0026quot;\n# gitaly[\u0026#39;certificate_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitaly/certificate.pem\u0026#39;\n# gitaly[\u0026#39;key_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitaly/key.pem\u0026quot;\n# gitaly[\u0026#39;prometheus_listen_addr\u0026#39;] = \u0026quot;localhost:9236\u0026quot;\n# gitaly[\u0026#39;logging_level\u0026#39;] = \u0026quot;warn\u0026quot;\n# gitaly[\u0026#39;logging_format\u0026#39;] = \u0026quot;json\u0026quot;\n# gitaly[\u0026#39;logging_sentry_dsn\u0026#39;] = \u0026quot;https://\u0026lt;key\u0026gt;:\u0026lt;secret\u0026gt;@sentry.io/\u0026lt;project\u0026gt;\u0026quot;\n# gitaly[\u0026#39;logging_ruby_sentry_dsn\u0026#39;] = \u0026quot;https://\u0026lt;key\u0026gt;:\u0026lt;secret\u0026gt;@sentry.io/\u0026lt;project\u0026gt;\u0026quot;\n# gitaly[\u0026#39;prometheus_grpc_latency_buckets\u0026#39;] = \u0026quot;[0.001, 0.005, 0.025, 0.1, 0.5, 1.0, 10.0, 30.0, 60.0, 300.0, 1500.0]\u0026quot;\n# gitaly[\u0026#39;auth_token\u0026#39;] = \u0026#39;\u0026lt;secret\u0026gt;\u0026#39;\n# gitaly[\u0026#39;auth_transitioning\u0026#39;] = false # When true, auth is logged to Prometheus but NOT enforced\n# gitaly[\u0026#39;ruby_max_rss\u0026#39;] = 300000000 # RSS threshold in bytes for triggering a gitaly-ruby restart\n# gitaly[\u0026#39;ruby_graceful_restart_timeout\u0026#39;] = \u0026#39;10m\u0026#39; # Grace time for a gitaly-ruby process to finish ongoing requests\n# gitaly[\u0026#39;ruby_restart_delay\u0026#39;] = \u0026#39;5m\u0026#39; # Period of sustained high RSS that needs to be observed before restarting gitaly-ruby\n# gitaly[\u0026#39;ruby_num_workers\u0026#39;] = 3 # Number of gitaly-ruby worker processes. Minimum 2, default 2.\n# gitaly[\u0026#39;storage\u0026#39;] = [\n#   {\n#     \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;default\u0026#39;,\n#     \u0026#39;path\u0026#39; =\u0026gt; \u0026#39;/mnt/nfs-01/git-data/repositories\u0026#39;\n#   },\n#   {\n#     \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;secondary\u0026#39;,\n#     \u0026#39;path\u0026#39; =\u0026gt; \u0026#39;/mnt/nfs-02/git-data/repositories\u0026#39;\n#   }\n# ]\n# gitaly[\u0026#39;concurrency\u0026#39;] = [\n#   {\n#     \u0026#39;rpc\u0026#39; =\u0026gt; \u0026quot;/gitaly.SmartHTTPService/PostReceivePack\u0026quot;,\n#     \u0026#39;max_per_repo\u0026#39; =\u0026gt; 20\n#   }, {\n#     \u0026#39;rpc\u0026#39; =\u0026gt; \u0026quot;/gitaly.SSHService/SSHUploadPack\u0026quot;,\n#     \u0026#39;max_per_repo\u0026#39; =\u0026gt; 5\n#   }\n# ]\n\n################################################################################\n# Storage check\n################################################################################\n# storage_check[\u0026#39;enable\u0026#39;] = false\n# storage_check[\u0026#39;target\u0026#39;] = \u0026#39;unix:///var/opt/gitlab/gitlab-rails/sockets/gitlab.socket\u0026#39;\n# storage_check[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/storage-check\u0026#39;\n\n################################################################################\n# Let\u0026#39;s Encrypt integration\n################################################################################\n# letsencrypt[\u0026#39;enable\u0026#39;] = nil\n# letsencrypt[\u0026#39;contact_emails\u0026#39;] = [] # This should be an array of email addresses to add as contacts\n# letsencrypt[\u0026#39;group\u0026#39;] = \u0026#39;root\u0026#39;\n# letsencrypt[\u0026#39;key_size\u0026#39;] = 2048\n# letsencrypt[\u0026#39;owner\u0026#39;] = \u0026#39;root\u0026#39;\n# letsencrypt[\u0026#39;wwwroot\u0026#39;] = \u0026#39;/var/opt/gitlab/nginx/www\u0026#39;\n# See http://docs.gitlab.com/omnibus/settings/ssl.html#automatic-renewal for more on these sesttings\n# letsencrypt[\u0026#39;auto_renew\u0026#39;] = true\n# letsencrypt[\u0026#39;auto_renew_hour\u0026#39;] = 0\n# letsencrypt[\u0026#39;auto_renew_minute\u0026#39;] = nil # Should be a number or cron expression, if specified.\n# letsencrypt[\u0026#39;auto_renew_day_of_month\u0026#39;] = \u0026quot;*/4\u0026quot;\n\n################################################################################\n################################################################################\n##                  Configuration Settings for GitLab EE only                 ##\n################################################################################\n################################################################################\n\n\n################################################################################\n## Auxiliary cron jobs applicable to GitLab EE only\n################################################################################\n#\n# gitlab_rails[\u0026#39;geo_file_download_dispatch_worker_cron\u0026#39;] = \u0026quot;*/10 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;geo_repository_sync_worker_cron\u0026#39;] = \u0026quot;*/5 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;geo_prune_event_log_worker_cron\u0026#39;] = \u0026quot;*/5 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;geo_repository_verification_primary_batch_worker_cron\u0026#39;] = \u0026quot;*/5 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;geo_repository_verification_secondary_scheduler_worker_cron\u0026#39;] = \u0026quot;*/5 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;geo_migrated_local_files_clean_up_worker_cron\u0026#39;] = \u0026quot;15 */6 * * *\u0026quot;\n# gitlab_rails[\u0026#39;ldap_sync_worker_cron\u0026#39;] = \u0026quot;30 1 * * *\u0026quot;\n# gitlab_rails[\u0026#39;ldap_group_sync_worker_cron\u0026#39;] = \u0026quot;0 * * * *\u0026quot;\n# gitlab_rails[\u0026#39;historical_data_worker_cron\u0026#39;] = \u0026quot;0 12 * * *\u0026quot;\n# gitlab_rails[\u0026#39;pseudonymizer_worker_cron\u0026#39;] = \u0026quot;0 23 * * *\u0026quot;\n\n################################################################################\n## Kerberos (EE Only)\n##! Docs: https://docs.gitlab.com/ee/integration/kerberos.html#http-git-access\n################################################################################\n\n# gitlab_rails[\u0026#39;kerberos_enabled\u0026#39;] = true\n# gitlab_rails[\u0026#39;kerberos_keytab\u0026#39;] = /etc/http.keytab\n# gitlab_rails[\u0026#39;kerberos_service_principal_name\u0026#39;] = HTTP/gitlab.example.com@EXAMPLE.COM\n# gitlab_rails[\u0026#39;kerberos_use_dedicated_port\u0026#39;] = true\n# gitlab_rails[\u0026#39;kerberos_port\u0026#39;] = 8443\n# gitlab_rails[\u0026#39;kerberos_https\u0026#39;] = true\n\n################################################################################\n## Package repository (EE Only)\n##! Docs: https://docs.gitlab.com/ee/administration/maven_packages.md\n################################################################################\n\n# gitlab_rails[\u0026#39;packages_enabled\u0026#39;] = true\n# gitlab_rails[\u0026#39;packages_storage_path\u0026#39;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/packages\u0026quot;\n# gitlab_rails[\u0026#39;packages_object_store_enabled\u0026#39;] = false\n# gitlab_rails[\u0026#39;packages_object_store_direct_upload\u0026#39;] = false\n# gitlab_rails[\u0026#39;packages_object_store_background_upload\u0026#39;] = true\n# gitlab_rails[\u0026#39;packages_object_store_proxy_download\u0026#39;] = false\n# gitlab_rails[\u0026#39;packages_object_store_remote_directory\u0026#39;] = \u0026quot;packages\u0026quot;\n# gitlab_rails[\u0026#39;packages_object_store_connection\u0026#39;] = {\n#   \u0026#39;provider\u0026#39; =\u0026gt; \u0026#39;AWS\u0026#39;,\n#   \u0026#39;region\u0026#39; =\u0026gt; \u0026#39;eu-west-1\u0026#39;,\n#   \u0026#39;aws_access_key_id\u0026#39; =\u0026gt; \u0026#39;AWS_ACCESS_KEY_ID\u0026#39;,\n#   \u0026#39;aws_secret_access_key\u0026#39; =\u0026gt; \u0026#39;AWS_SECRET_ACCESS_KEY\u0026#39;,\n#   # # The below options configure an S3 compatible host instead of AWS\n#   # \u0026#39;host\u0026#39; =\u0026gt; \u0026#39;s3.amazonaws.com\u0026#39;,\n#   # \u0026#39;aws_signature_version\u0026#39; =\u0026gt; 4, # For creation of signed URLs. Set to 2 if provider does not support v4.\n#   # \u0026#39;endpoint\u0026#39; =\u0026gt; \u0026#39;https://s3.amazonaws.com\u0026#39;, # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces\n#   # \u0026#39;path_style\u0026#39; =\u0026gt; false # Use \u0026#39;host/bucket_name/object\u0026#39; instead of \u0026#39;bucket_name.host/object\u0026#39;\n# }\n\n################################################################################\n## GitLab Sentinel (EE Only)\n##! Docs: http://docs.gitlab.com/ce/administration/high_availability/redis.html#high-availability-with-sentinel\n################################################################################\n\n##! **Make sure you configured all redis[\u0026#39;master_*\u0026#39;] keys above before\n##!   continuing.**\n\n##! To enable Sentinel and disable all other services in this machine,\n##! uncomment the line below (if you\u0026#39;ve enabled Redis role, it will keep it).\n##! Docs: https://docs.gitlab.com/ce/administration/high_availability/redis.html\n# redis_sentinel_role[\u0026#39;enable\u0026#39;] = true\n\n# sentinel[\u0026#39;enable\u0026#39;] = true\n\n##! Bind to all interfaces, uncomment to specify an IP and bind to a single one\n# sentinel[\u0026#39;bind\u0026#39;] = \u0026#39;0.0.0.0\u0026#39;\n\n##! Uncomment to change default port\n# sentinel[\u0026#39;port\u0026#39;] = 26379\n\n#### Support to run sentinels in a Docker or NAT environment\n#####! Docs: https://redis.io/topics/sentinel#sentinel-docker-nat-and-possible-issues\n# In an standard case, Sentinel will run in the same network service as Redis, so the same IP will be announce for Redis and Sentinel\n# Only define these values if it is needed to announce for Sentinel a differen IP service than Redis\n# sentinel[\u0026#39;announce_ip\u0026#39;] = nil # If not defined, its value will be taken from redis[\u0026#39;announce_ip\u0026#39;] or nil if not present\n# sentinel[\u0026#39;announce_port\u0026#39;] = nil # If not defined, its value will be taken from sentinel[\u0026#39;port\u0026#39;] or nil if redis[\u0026#39;announce_ip\u0026#39;] not present\n\n##! Quorum must reflect the amount of voting sentinels it take to start a\n##! failover.\n##! **Value must NOT be greater then the amount of sentinels.**\n##! The quorum can be used to tune Sentinel in two ways:\n##! 1. If a the quorum is set to a value smaller than the majority of Sentinels\n##!    we deploy, we are basically making Sentinel more sensible to master\n##!    failures, triggering a failover as soon as even just a minority of\n##!    Sentinels is no longer able to talk with the master.\n##! 2. If a quorum is set to a value greater than the majority of Sentinels, we\n##!    are making Sentinel able to failover only when there are a very large\n##!    number (larger than majority) of well connected Sentinels which agree\n##!    about the master being down.\n# sentinel[\u0026#39;quorum\u0026#39;] = 1\n\n### Consider unresponsive server down after x amount of ms.\n# sentinel[\u0026#39;down_after_milliseconds\u0026#39;] = 10000\n\n### Specifies the failover timeout in milliseconds.\n##! It is used in many ways:\n##!\n##! - The time needed to re-start a failover after a previous failover was\n##!   already tried against the same master by a given Sentinel, is two\n##!   times the failover timeout.\n##!\n##! - The time needed for a slave replicating to a wrong master according\n##!   to a Sentinel current configuration, to be forced to replicate\n##!   with the right master, is exactly the failover timeout (counting since\n##!   the moment a Sentinel detected the misconfiguration).\n##!\n##! - The time needed to cancel a failover that is already in progress but\n##!   did not produced any configuration change (SLAVEOF NO ONE yet not\n##!   acknowledged by the promoted slave).\n##!\n##! - The maximum time a failover in progress waits for all the slaves to be\n##!   reconfigured as slaves of the new master. However even after this time\n##!   the slaves will be reconfigured by the Sentinels anyway, but not with\n##!   the exact parallel-syncs progression as specified.\n# sentinel[\u0026#39;failover_timeout\u0026#39;] = 60000\n\n################################################################################\n## GitLab Sidekiq Cluster (EE only)\n################################################################################\n\n##! GitLab Enterprise Edition allows one to start an extra set of Sidekiq processes\n##! besides the default one. These processes can be used to consume a dedicated set\n##! of queues. This can be used to ensure certain queues always have dedicated\n##! workers, no matter the amount of jobs that need to be processed.\n\n# sidekiq_cluster[\u0026#39;enable\u0026#39;] = false\n# sidekiq_cluster[\u0026#39;ha\u0026#39;] = false\n# sidekiq_cluster[\u0026#39;log_directory\u0026#39;] = \u0026quot;/var/log/gitlab/sidekiq-cluster\u0026quot;\n# sidekiq_cluster[\u0026#39;interval\u0026#39;] = 5 # The number of seconds to wait between worker checks\n# sidekiq_cluster[\u0026#39;max_concurrency\u0026#39;] = 50 # The maximum number of threads each Sidekiq process should run\n\n##! Each entry in the queue_groups array denotes a group of queues that have to be processed by a\n##! Sidekiq process. Multiple queues can be processed by the same process by\n##! separating them with a comma within the group entry\n\n# sidekiq_cluster[\u0026#39;queue_groups\u0026#39;] = [\n#   \u0026quot;process_commit,post_receive\u0026quot;,\n#   \u0026quot;gitlab_shell\u0026quot;\n# ]\n#\n\n##! If negate is enabled then sidekiq-cluster will process all the queues that\n##! don\u0026#39;t match those in queue_groups.\n\n# sidekiq_cluster[\u0026#39;negate\u0026#39;] = false\n\n################################################################################\n## Additional Database Settings (EE only)\n##! Docs: https://docs.gitlab.com/ee/administration/database_load_balancing.html\n################################################################################\n# gitlab_rails[\u0026#39;db_load_balancing\u0026#39;] = { \u0026#39;hosts\u0026#39; =\u0026gt; [\u0026#39;secondary1.example.com\u0026#39;] }\n\n################################################################################\n## GitLab Geo\n##! Docs: https://docs.gitlab.com/ee/gitlab-geo\n################################################################################\n# geo_primary_role[\u0026#39;enable\u0026#39;] = false\n# geo_secondary_role[\u0026#39;enable\u0026#39;] = false\n\n################################################################################\n## GitLab Geo Secondary (EE only)\n################################################################################\n# geo_secondary[\u0026#39;auto_migrate\u0026#39;] = true\n# geo_secondary[\u0026#39;db_adapter\u0026#39;] = \u0026quot;postgresql\u0026quot;\n# geo_secondary[\u0026#39;db_encoding\u0026#39;] = \u0026quot;unicode\u0026quot;\n# geo_secondary[\u0026#39;db_collation\u0026#39;] = nil\n# geo_secondary[\u0026#39;db_database\u0026#39;] = \u0026quot;gitlabhq_geo_production\u0026quot;\n# geo_secondary[\u0026#39;db_pool\u0026#39;] = 10\n# geo_secondary[\u0026#39;db_username\u0026#39;] = \u0026quot;gitlab_geo\u0026quot;\n# geo_secondary[\u0026#39;db_password\u0026#39;] = nil\n# geo_secondary[\u0026#39;db_host\u0026#39;] = \u0026quot;/var/opt/gitlab/geo-postgresql\u0026quot;\n# geo_secondary[\u0026#39;db_port\u0026#39;] = 5431\n# geo_secondary[\u0026#39;db_socket\u0026#39;] = nil\n# geo_secondary[\u0026#39;db_sslmode\u0026#39;] = nil\n# geo_secondary[\u0026#39;db_sslcompression\u0026#39;] = 0\n# geo_secondary[\u0026#39;db_sslrootcert\u0026#39;] = nil\n# geo_secondary[\u0026#39;db_sslca\u0026#39;] = nil\n# geo_secondary[\u0026#39;db_fdw\u0026#39;] = true\n\n################################################################################\n## GitLab Geo Secondary Tracking Database (EE only)\n################################################################################\n\n# geo_postgresql[\u0026#39;enable\u0026#39;] = false\n# geo_postgresql[\u0026#39;ha\u0026#39;] = false\n# geo_postgresql[\u0026#39;dir\u0026#39;] = \u0026#39;/var/opt/gitlab/geo-postgresql\u0026#39;\n# geo_postgresql[\u0026#39;data_dir\u0026#39;] = \u0026#39;/var/opt/gitlab/geo-postgresql/data\u0026#39;\n# geo_postgresql[\u0026#39;pgbouncer_user\u0026#39;] = nil\n# geo_postgresql[\u0026#39;pgbouncer_user_password\u0026#39;] = nil\n\n################################################################################\n# Pgbouncer (EE only)\n# See [GitLab PgBouncer documentation](http://docs.gitlab.com/omnibus/settings/database.html#enabling-pgbouncer-ee-only)\n# See the [PgBouncer page](https://pgbouncer.github.io/config.html) for details\n################################################################################\n# pgbouncer[\u0026#39;enable\u0026#39;] = false\n# pgbouncer[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/pgbouncer\u0026#39;\n# pgbouncer[\u0026#39;data_directory\u0026#39;] = \u0026#39;/var/opt/gitlab/pgbouncer\u0026#39;\n# pgbouncer[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/pgbouncer/env\u0026#39;\n# pgbouncer[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n# pgbouncer[\u0026#39;listen_addr\u0026#39;] = \u0026#39;0.0.0.0\u0026#39;\n# pgbouncer[\u0026#39;listen_port\u0026#39;] = \u0026#39;6432\u0026#39;\n# pgbouncer[\u0026#39;pool_mode\u0026#39;] = \u0026#39;transaction\u0026#39;\n# pgbouncer[\u0026#39;server_reset_query\u0026#39;] = \u0026#39;DISCARD ALL\u0026#39;\n# pgbouncer[\u0026#39;application_name_add_host\u0026#39;] = \u0026#39;1\u0026#39;\n# pgbouncer[\u0026#39;max_client_conn\u0026#39;] = \u0026#39;2048\u0026#39;\n# pgbouncer[\u0026#39;default_pool_size\u0026#39;] = \u0026#39;100\u0026#39;\n# pgbouncer[\u0026#39;min_pool_size\u0026#39;] = \u0026#39;0\u0026#39;\n# pgbouncer[\u0026#39;reserve_pool_size\u0026#39;] = \u0026#39;5\u0026#39;\n# pgbouncer[\u0026#39;reserve_pool_timeout\u0026#39;] = \u0026#39;5.0\u0026#39;\n# pgbouncer[\u0026#39;server_round_robin\u0026#39;] = \u0026#39;0\u0026#39;\n# pgbouncer[\u0026#39;log_connections\u0026#39;] = \u0026#39;0\u0026#39;\n# pgbouncer[\u0026#39;server_idle_timeout\u0026#39;] = \u0026#39;30\u0026#39;\n# pgbouncer[\u0026#39;dns_max_ttl\u0026#39;] = \u0026#39;15.0\u0026#39;\n# pgbouncer[\u0026#39;dns_zone_check_period\u0026#39;] = \u0026#39;0\u0026#39;\n# pgbouncer[\u0026#39;dns_nxdomain_ttl\u0026#39;] = \u0026#39;15.0\u0026#39;\n# pgbouncer[\u0026#39;admin_users\u0026#39;] = %w(gitlab-psql postgres pgbouncer)\n# pgbouncer[\u0026#39;stats_users\u0026#39;] = %w(gitlab-psql postgres pgbouncer)\n# pgbouncer[\u0026#39;ignore_startup_parameters\u0026#39;] = \u0026#39;extra_float_digits\u0026#39;\n# pgbouncer[\u0026#39;databases\u0026#39;] = {\n#   DATABASE_NAME: {\n#     host: HOSTNAME,\n#     port: PORT\n#     user: USERNAME,\n#     password: PASSWORD\n###! generate this with `echo -n \u0026#39;$password + $username\u0026#39; | md5sum`\n#   }\n#   ...\n# }\n# pgbouncer[\u0026#39;logfile\u0026#39;] = nil\n# pgbouncer[\u0026#39;unix_socket_dir\u0026#39;] = nil\n# pgbouncer[\u0026#39;unix_socket_mode\u0026#39;] = \u0026#39;0777\u0026#39;\n# pgbouncer[\u0026#39;unix_socket_group\u0026#39;] = nil\n# pgbouncer[\u0026#39;auth_type\u0026#39;] = \u0026#39;md5\u0026#39;\n# pgbouncer[\u0026#39;auth_hba_file\u0026#39;] = nil\n# pgbouncer[\u0026#39;auth_query\u0026#39;] = \u0026#39;SELECT username, password FROM public.pg_shadow_lookup($1)\u0026#39;\n# pgbouncer[\u0026#39;users\u0026#39;] = {\n#   {\n#     name: USERNAME,\n#     password: MD5_PASSWORD_HASH\n#   }\n# }\n# postgresql[\u0026#39;pgbouncer_user\u0026#39;] = nil\n# postgresql[\u0026#39;pgbouncer_user_password\u0026#39;] = nil\n# pgbouncer[\u0026#39;server_reset_query_always\u0026#39;] = 0\n# pgbouncer[\u0026#39;server_check_query\u0026#39;] = \u0026#39;select 1\u0026#39;\n# pgbouncer[\u0026#39;server_check_delay\u0026#39;] = 30\n# pgbouncer[\u0026#39;max_db_connections\u0026#39;] = nil\n# pgbouncer[\u0026#39;max_user_connections\u0026#39;] = nil\n# pgbouncer[\u0026#39;syslog\u0026#39;] = 0\n# pgbouncer[\u0026#39;syslog_facility\u0026#39;] = \u0026#39;daemon\u0026#39;\n# pgbouncer[\u0026#39;syslog_ident\u0026#39;] = \u0026#39;pgbouncer\u0026#39;\n# pgbouncer[\u0026#39;log_disconnections\u0026#39;] = 1\n# pgbouncer[\u0026#39;log_pooler_errors\u0026#39;] = 1\n# pgbouncer[\u0026#39;stats_period\u0026#39;] = 60\n# pgbouncer[\u0026#39;verbose\u0026#39;] = 0\n# pgbouncer[\u0026#39;server_lifetime\u0026#39;] = 3600\n# pgbouncer[\u0026#39;server_connect_timeout\u0026#39;] = 15\n# pgbouncer[\u0026#39;server_login_retry\u0026#39;] = 15\n# pgbouncer[\u0026#39;query_timeout\u0026#39;] = 0\n# pgbouncer[\u0026#39;query_wait_timeout\u0026#39;] = 120\n# pgbouncer[\u0026#39;client_idle_timeout\u0026#39;] = 0\n# pgbouncer[\u0026#39;client_login_timeout\u0026#39;] = 60\n# pgbouncer[\u0026#39;autodb_idle_timeout\u0026#39;] = 3600\n# pgbouncer[\u0026#39;suspend_timeout\u0026#39;] = 10\n# pgbouncer[\u0026#39;idle_transaction_timeout\u0026#39;] = 0\n# pgbouncer[\u0026#39;pkt_buf\u0026#39;] = 4096\n# pgbouncer[\u0026#39;listen_backlog\u0026#39;] = 128\n# pgbouncer[\u0026#39;sbuf_loopcnt\u0026#39;] = 5\n# pgbouncer[\u0026#39;max_packet_size\u0026#39;] = 2147483647\n# pgbouncer[\u0026#39;tcp_defer_accept\u0026#39;] = 0\n# pgbouncer[\u0026#39;tcp_socket_buffer\u0026#39;] = 0\n# pgbouncer[\u0026#39;tcp_keepalive\u0026#39;] = 1\n# pgbouncer[\u0026#39;tcp_keepcnt\u0026#39;] = 0\n# pgbouncer[\u0026#39;tcp_keepidle\u0026#39;] = 0\n# pgbouncer[\u0026#39;tcp_keepintvl\u0026#39;] = 0\n# pgbouncer[\u0026#39;disable_pqexec\u0026#39;] = 0\n\n## Pgbouncer client TLS options\n# pgbouncer[\u0026#39;client_tls_sslmode\u0026#39;] = \u0026#39;disable\u0026#39;\n# pgbouncer[\u0026#39;client_tls_ca_file\u0026#39;] = nil\n# pgbouncer[\u0026#39;client_tls_key_file\u0026#39;] = nil\n# pgbouncer[\u0026#39;client_tls_cert_file\u0026#39;] = nil\n# pgbouncer[\u0026#39;client_tls_protocols\u0026#39;] = \u0026#39;all\u0026#39;\n# pgbouncer[\u0026#39;client_tls_dheparams\u0026#39;] = \u0026#39;auto\u0026#39;\n# pgbouncer[\u0026#39;client_tls_ecdhcurve\u0026#39;] = \u0026#39;auto\u0026#39;\n#\n## Pgbouncer server  TLS options\n# pgbouncer[\u0026#39;server_tls_sslmode\u0026#39;] = \u0026#39;disable\u0026#39;\n# pgbouncer[\u0026#39;server_tls_ca_file\u0026#39;] = nil\n# pgbouncer[\u0026#39;server_tls_key_file\u0026#39;] = nil\n# pgbouncer[\u0026#39;server_tls_cert_file\u0026#39;] = nil\n# pgbouncer[\u0026#39;server_tls_protocols\u0026#39;] = \u0026#39;all\u0026#39;\n# pgbouncer[\u0026#39;server_tls_ciphers\u0026#39;] = \u0026#39;fast\u0026#39;\n\n################################################################################\n# Repmgr (EE only)\n################################################################################\n# repmgr[\u0026#39;enable\u0026#39;] = false\n# repmgr[\u0026#39;cluster\u0026#39;] = \u0026#39;gitlab_cluster\u0026#39;\n# repmgr[\u0026#39;database\u0026#39;] = \u0026#39;gitlab_repmgr\u0026#39;\n# repmgr[\u0026#39;host\u0026#39;] = nil\n# repmgr[\u0026#39;node_number\u0026#39;] = nil\n# repmgr[\u0026#39;port\u0026#39;] = 5432\n# repmgr[\u0026#39;trust_auth_cidr_addresses\u0026#39;] = []\n# repmgr[\u0026#39;user\u0026#39;] = \u0026#39;gitlab_repmgr\u0026#39;\n# repmgr[\u0026#39;sslmode\u0026#39;] = \u0026#39;prefer\u0026#39;\n# repmgr[\u0026#39;sslcompression\u0026#39;] = 0\n# repmgr[\u0026#39;failover\u0026#39;] = \u0026#39;automatic\u0026#39;\n# repmgr[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/repmgrd\u0026#39;\n# repmgr[\u0026#39;node_name\u0026#39;] = nil\n# repmgr[\u0026#39;pg_bindir\u0026#39;] = \u0026#39;/opt/gitlab/embedded/bin\u0026#39;\n# repmgr[\u0026#39;service_start_command\u0026#39;] = \u0026#39;/opt/gitlab/bin/gitlab-ctl start postgresql\u0026#39;\n# repmgr[\u0026#39;service_stop_command\u0026#39;] = \u0026#39;/opt/gitlab/bin/gitlab-ctl stop postgresql\u0026#39;\n# repmgr[\u0026#39;service_reload_command\u0026#39;] = \u0026#39;/opt/gitlab/bin/gitlab-ctl hup postgresql\u0026#39;\n# repmgr[\u0026#39;service_restart_command\u0026#39;] = \u0026#39;/opt/gitlab/bin/gitlab-ctl restart postgresql\u0026#39;\n# repmgr[\u0026#39;service_promote_command\u0026#39;] = nil\n# repmgr[\u0026#39;promote_command\u0026#39;] = \u0026#39;/opt/gitlab/embedded/bin/repmgr standby promote -f /var/opt/gitlab/postgresql/repmgr.conf\u0026#39;\n# repmgr[\u0026#39;follow_command\u0026#39;] = \u0026#39;/opt/gitlab/embedded/bin/repmgr standby follow -f /var/opt/gitlab/postgresql/repmgr.conf\u0026#39;\n\n# repmgr[\u0026#39;upstream_node\u0026#39;] = nil\n# repmgr[\u0026#39;use_replication_slots\u0026#39;] = false\n# repmgr[\u0026#39;loglevel\u0026#39;] = \u0026#39;INFO\u0026#39;\n# repmgr[\u0026#39;logfacility\u0026#39;] = \u0026#39;STDERR\u0026#39;\n# repmgr[\u0026#39;logfile\u0026#39;] = nil\n\n# repmgr[\u0026#39;event_notification_command\u0026#39;] = nil\n# repmgr[\u0026#39;event_notifications\u0026#39;] = nil\n\n# repmgr[\u0026#39;rsync_options\u0026#39;] = nil\n# repmgr[\u0026#39;ssh_options\u0026#39;] = nil\n# repmgr[\u0026#39;priority\u0026#39;] = nil\n#\n# HA setting to specify if a node should attempt to be master on initialization\n# repmgr[\u0026#39;master_on_initialization\u0026#39;] = true\n\n# repmgr[\u0026#39;retry_promote_interval_secs\u0026#39;] = 300\n# repmgr[\u0026#39;witness_repl_nodes_sync_interval_secs\u0026#39;] = 15\n# repmgr[\u0026#39;reconnect_attempts\u0026#39;] = 6\n# repmgr[\u0026#39;reconnect_interval\u0026#39;] = 10\n# repmgr[\u0026#39;monitor_interval_secs\u0026#39;] = 2\n# repmgr[\u0026#39;master_response_timeout\u0026#39;] = 60\n# repmgr[\u0026#39;daemon\u0026#39;] = true\n# repmgrd[\u0026#39;enable\u0026#39;] = true\n\n################################################################################\n# Consul (EEP only)\n################################################################################\n# consul[\u0026#39;enable\u0026#39;] = false\n# consul[\u0026#39;dir\u0026#39;] = \u0026#39;/var/opt/gitlab/consul\u0026#39;\n# consul[\u0026#39;user\u0026#39;] = \u0026#39;gitlab-consul\u0026#39;\n# consul[\u0026#39;group\u0026#39;] = \u0026#39;gitlab-consul\u0026#39;\n# consul[\u0026#39;config_file\u0026#39;] = \u0026#39;/var/opt/gitlab/consul/config.json\u0026#39;\n# consul[\u0026#39;config_dir\u0026#39;] = \u0026#39;/var/opt/gitlab/consul/config.d\u0026#39;\n# consul[\u0026#39;data_dir\u0026#39;] = \u0026#39;/var/opt/gitlab/consul/data\u0026#39;\n# consul[\u0026#39;log_directory\u0026#39;] = \u0026#39;/var/log/gitlab/consul\u0026#39;\n# consul[\u0026#39;env_directory\u0026#39;] = \u0026#39;/opt/gitlab/etc/consul/env\u0026#39;\n# consul[\u0026#39;env\u0026#39;] = {\n#   \u0026#39;SSL_CERT_DIR\u0026#39; =\u0026gt; \u0026quot;/opt/gitlab/embedded/ssl/certs/\u0026quot;\n# }\n# consul[\u0026#39;node_name\u0026#39;] = nil\n# consul[\u0026#39;script_directory\u0026#39;] = \u0026#39;/var/opt/gitlab/consul/scripts\u0026#39;\n# consul[\u0026#39;configuration\u0026#39;] = {\n#   \u0026#39;client_addr\u0026#39; =\u0026gt; nil,\n#   \u0026#39;datacenter\u0026#39; =\u0026gt; \u0026#39;gitlab_consul\u0026#39;,\n#   \u0026#39;enable_script_checks\u0026#39; =\u0026gt; true,\n#   \u0026#39;server\u0026#39; =\u0026gt; false\n# }\n# consul[\u0026#39;services\u0026#39;] = []\n# consul[\u0026#39;service_config\u0026#39;] = {\n#   \u0026#39;postgresql\u0026#39; =\u0026gt; {\n#     \u0026#39;service\u0026#39; =\u0026gt; {\n#       \u0026#39;name\u0026#39; =\u0026gt; \u0026quot;postgresql\u0026quot;,\n#       \u0026#39;address\u0026#39; =\u0026gt; \u0026#39;\u0026#39;,\n#       \u0026#39;port\u0026#39; =\u0026gt; 5432,\n#       \u0026#39;checks\u0026#39; =\u0026gt; [\n#         {\n#           \u0026#39;script\u0026#39; =\u0026gt; \u0026quot;/var/opt/gitlab/consul/scripts/check_postgresql\u0026quot;,\n#           \u0026#39;interval\u0026#39; =\u0026gt; \u0026quot;10s\u0026quot;\n#         }\n#       ]\n#     }\n#   }\n# }\n# consul[\u0026#39;watchers\u0026#39;] = {\n#   \u0026#39;postgresql\u0026#39; =\u0026gt; {\n#     enable: false,\n#     handler: \u0026#39;failover_pgbouncer\u0026#39;\n#   }\n# }\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"h3--\"\u003e\u003ca name=\"可能出现的问题：\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e可能出现的问题：\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e在GitLab安装完成后，会自动启动GitLab自带的nginx服务器，这时如果我们有自己安装的用于其他项目服务的nginx会导致出现问题，如：重启自己安装的nginx服务器出现端口占用等情况，这时候我们可以把GitLab的Nginx迁移到我们自己安装的Nginx服务器上。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e修改配置文件，禁用内嵌 nginx 和 unicorn\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eexternal_url \u0026#39;http://git.example.com\u0026#39;\nnginx[\u0026#39;enable\u0026#39;] = false\nunicorn[\u0026#39;enable\u0026#39;] = false\ngitlab_rails[\u0026#39;internal_api_url\u0026#39;] = \u0026#39;http://git.example.com\u0026#39;\nweb_server[\u0026#39;external_users\u0026#39;] = [\u0026#39;nginx\u0026#39;]\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e在Nginx中增加一个虚拟主机\u003ccode\u003e~/path/nginx/conf/vhost/\u003c/code\u003e添加域名跟\u003ccode\u003eGitLab\u003c/code\u003e中配置相同的域名。如：\u003ccode\u003ecode.mcloudhub.com\u003c/code\u003e。\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003evim ~/path/nginx/conf/vhost/code.mcloudhub.com\n\nserver {\n  listen *:80;\n  server_name git.example.com;\n  server_tokens off;\n  root /opt/gitlab/embedded/service/gitlab-rails/public;\n\n  client_max_body_size 250m;\n\n  access_log  /var/log/gitlab/nginx/gitlab_access.log;\n  error_log   /var/log/gitlab/nginx/gitlab_error.log;\n\n  # Ensure Passenger uses the bundled Ruby version\n  passenger_ruby /opt/gitlab/embedded/bin/ruby;\n\n  # Correct the $PATH variable to included packaged executables\n  passenger_env_var PATH \u0026quot;/opt/gitlab/bin:/opt/gitlab/embedded/bin:/usr/local/bin:/usr/bin:/bin\u0026quot;;\n\n  # Make sure Passenger runs as the correct user and group to\n  # prevent permission issues\n  passenger_user git;\n  passenger_group git;\n\n  # Enable Passenger \u0026amp; keep at least one instance running at all times\n  passenger_enabled on;\n  passenger_min_instances 1;\n\n  location ~ ^/[\\w\\.-]+/[\\w\\.-]+/(info/refs|git-upload-pack|git-receive-pack)$ {\n    # \u0026#39;Error\u0026#39; 418 is a hack to re-use the @gitlab-workhorse block\n    error_page 418 = @gitlab-workhorse;\n    return 418;\n  }\n\n  location ~ ^/[\\w\\.-]+/[\\w\\.-]+/repository/archive {\n    # \u0026#39;Error\u0026#39; 418 is a hack to re-use the @gitlab-workhorse block\n    error_page 418 = @gitlab-workhorse;\n    return 418;\n  }\n\n  location ~ ^/api/v3/projects/.*/repository/archive {\n    # \u0026#39;Error\u0026#39; 418 is a hack to re-use the @gitlab-workhorse block\n    error_page 418 = @gitlab-workhorse;\n    return 418;\n  }\n\n  # Build artifacts should be submitted to this location\n  location ~ ^/[\\w\\.-]+/[\\w\\.-]+/builds/download {\n      client_max_body_size 0;\n      # \u0026#39;Error\u0026#39; 418 is a hack to re-use the @gitlab-workhorse block\n      error_page 418 = @gitlab-workhorse;\n      return 418;\n  }\n\n  # Build artifacts should be submitted to this location\n  location ~ /ci/api/v1/builds/[0-9]+/artifacts {\n      client_max_body_size 0;\n      # \u0026#39;Error\u0026#39; 418 is a hack to re-use the @gitlab-workhorse block\n      error_page 418 = @gitlab-workhorse;\n      return 418;\n  }\n\n  # Build artifacts should be submitted to this location\n  location ~ /api/v4/jobs/[0-9]+/artifacts {\n      client_max_body_size 0;\n      # \u0026#39;Error\u0026#39; 418 is a hack to re-use the @gitlab-workhorse block\n      error_page 418 = @gitlab-workhorse;\n      return 418;\n  }\n\n\n  # For protocol upgrades from HTTP/1.0 to HTTP/1.1 we need to provide Host header if its missing\n  if ($http_host = \u0026quot;\u0026quot;) {\n  # use one of values defined in server_name\n    set $http_host_with_default \u0026quot;git.example.com\u0026quot;;\n  }\n\n  if ($http_host != \u0026quot;\u0026quot;) {\n    set $http_host_with_default $http_host;\n  }\n\n  location @gitlab-workhorse {\n\n    ## https://github.com/gitlabhq/gitlabhq/issues/694\n    ## Some requests take more than 30 seconds.\n    proxy_read_timeout      3600;\n    proxy_connect_timeout   300;\n    proxy_redirect          off;\n\n    # Do not buffer Git HTTP responses\n    proxy_buffering off;\n\n    proxy_set_header    Host                $http_host_with_default;\n    proxy_set_header    X-Real-IP           $remote_addr;\n    proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;\n    proxy_set_header    X-Forwarded-Proto   $scheme;\n\n    proxy_pass http://gitlab-workhorse;\n\n    ## The following settings only work with NGINX 1.7.11 or newer\n    #\n    ## Pass chunked request bodies to gitlab-workhorse as-is\n    # proxy_request_buffering off;\n    # proxy_http_version 1.1;\n  }\n\n  ## Enable gzip compression as per rails guide:\n  ## http://guides.rubyonrails.org/asset_pipeline.html#gzip-compression\n  ## WARNING: If you are using relative urls remove the block below\n  ## See config/application.rb under \u0026quot;Relative url support\u0026quot; for the list of\n  ## other files that need to be changed for relative url support\n  location ~ ^/(assets)/ {\n    root /opt/gitlab/embedded/service/gitlab-rails/public;\n    gzip_static on; # to serve pre-gzipped version\n    expires max;\n    add_header Cache-Control public;\n  }\n\n  error_page 502 /502.html;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch5 id=\"h5--code-nginx-code-passenger-passenger-\"\u003e\u003ca name=\"提示：配置好之后启动\u003ccode\u003eNginx\u003c/code\u003e可能会报错：缺少passenger，接下来安装passenger。\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003e提示：配置好之后启动\u003ccode\u003eNginx\u003c/code\u003e可能会报错：缺少passenger，接下来安装passenger。\u003c/h5\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003e配置\u003ccode\u003epassenger\u003c/code\u003e的\u003ccode\u003eyum\u003c/code\u003e源并安装.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# Install various prerequisites\nsudo yum install -y pygpgme curl\n# Add our el7  YUM repository\nsudo curl --fail -sSLo /etc/yum.repos.d/passenger.repo https://oss-binaries.phusionpassenger.com/yum/definitions/el-passenger.repo\n# Install Passenger Nginx\nsudo yum install -y nginx passenger || sudo yum-config-manager --enable cr \u0026amp;\u0026amp; sudo yum install -y nginx passenger\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e启用\u003ccode\u003epassenger\u003c/code\u003e的\u003ccode\u003enginx\u003c/code\u003e模块，并重启\u003ccode\u003enginx\u003c/code\u003e。\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003eEdit /etc/nginx/conf.d/passenger.conf and uncomment passenger_root, passenger_ruby and passenger_instance_registry_dir. For example, you may see this:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e# passenger_root /some-filename/locations.ini;\n# passenger_ruby /usr/bin/ruby;\n# passenger_instance_registry_dir /var/run/passenger-instreg;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003eRemove the ‘#’ characters, like this:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003epassenger_root /some-filename/locations.ini;\npassenger_ruby /usr/bin/ruby;\npassenger_instance_registry_dir /var/run/passenger-instreg;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e\u003cblockquote\u003e\n\u003cp\u003e重启nginx\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esudo service nginx restart\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e可以查看文档：\u003ca target=\"_blank\" href=\"https://www.phusionpassenger.com/library/install/nginx/install/oss/el7/\" title=\"https://www.phusionpassenger.com/library/install/nginx/install/oss/el7/\"\u003ehttps://www.phusionpassenger.com/library/install/nginx/install/oss/el7/\u003c/a\u003e。\u003c/p\u003e\n\u003cp\u003e配置文档：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eGitLab安装：\u003ca target=\"_blank\" href=\"https://about.gitlab.com/install/#centos-7\" title=\"https://about.gitlab.com/install/#centos-7\"\u003ehttps://about.gitlab.com/install/#centos-7\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003eGitLab配置ssl：\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration\" title=\"https://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration\"\u003ehttps://docs.gitlab.com/omnibus/settings/ssl.html#lets-encrypthttpsletsencryptorg-integration\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package\" title=\"https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package\"\u003ehttps://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\" title=\"https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\"\u003ehttps://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003eNginx设置: \u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation\" title=\"https://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation\"\u003ehttps://docs.gitlab.com/omnibus/settings/nginx.html#using-an-existing-passenger-nginx-installation\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003cli\u003e\u003cp\u003e修改内嵌nginx设置：\u003ca target=\"_blank\" href=\"https://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block\" title=\"https://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block\"\u003ehttps://docs.gitlab.com/omnibus/settings/nginx.html#vhost-server-block\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\u003c/ul\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c62d10e4c1a6008d89009a9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":228047,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-19T05:47:34.078Z"},"updateTime":{"$date":"2019-03-19T07:30:06.497Z"},"__v":0}
{"_id":{"$oid":"5c9125c4b54d9015024f69a9"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[],"comments":[],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3cc64d70830e13d1bf35b9","title":"Error: Requires Babel \"^7.0.0-0\", but was loaded with \"6.26.3\".","content":"\u003ch1 id=\"h1-error-requires-babel-7-0-0-0-but-was-loaded-with-6-26-3-\"\u003e\u003ca name=\"Error: Requires Babel “^7.0.0-0”, but was loaded with “6.26.3”.\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eError: Requires Babel “^7.0.0-0”, but was loaded with “6.26.3”.\u003c/h1\u003e\u003cp\u003e在使用babel时会报错：Error: Requires Babel “^7.0.0-0”, but was loaded with “6.26.3”.具体原因就是babel版本太低，只要升级babel版本就行了，之前安装使用的是babel-cli所以执行npm update也不能升级到7.0.0-0，由于bael最新的版本是\u003ca href=\"https://github.com/babel\" title=\"@babel\" class=\"at-link\"\u003e@babel\u003c/a\u003e，babel提供了使用npx自动升级的方法。执行以下命令升级：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpx babel\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003eupgrade \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003ewrite \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003einstall\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e还可以手动升级：\u003c/p\u003e\n\u003cpre class=\"prettyprint linenums prettyprinted\" style=\"\"\u003e\u003col class=\"linenums\"\u003e\u003cli class=\"L0\"\u003e\u003ccode\u003e\u003cspan class=\"pln\"\u003enpm install \u003c/span\u003e\u003cspan class=\"pun\"\u003e--\u003c/span\u003e\u003cspan class=\"pln\"\u003esave\u003c/span\u003e\u003cspan class=\"pun\"\u003e-\u003c/span\u003e\u003cspan class=\"pln\"\u003edev \u003c/span\u003e\u003cspan class=\"lit\"\u003e@babel\u003c/span\u003e\u003cspan class=\"pun\"\u003e/\u003c/span\u003e\u003cspan class=\"pln\"\u003ecli\u003c/span\u003e\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003c/pre\u003e\u003cp\u003e参考连接：\u003ca target=\"_blank\" href=\"https://babel.docschina.org/docs/en/usage\" title=\"https://babel.docschina.org/docs/en/usage\"\u003ehttps://babel.docschina.org/docs/en/usage\u003c/a\u003e\u003c/p\u003e\n","markDown":"# Error: Requires Babel \"^7.0.0-0\", but was loaded with \"6.26.3\".\n\n在使用babel时会报错：Error: Requires Babel \"^7.0.0-0\", but was loaded with \"6.26.3\".具体原因就是babel版本太低，只要升级babel版本就行了，之前安装使用的是babel-cli所以执行npm update也不能升级到7.0.0-0，由于bael最新的版本是@babel，babel提供了使用npx自动升级的方法。执行以下命令升级：\n\n```\nnpx babel-upgrade --write --install\n```\n\n还可以手动升级：\n\n```\nnpm install --save-dev @babel/cli\n```\n\n参考连接：[https://babel.docschina.org/docs/en/usage](https://babel.docschina.org/docs/en/usage 'https://babel.docschina.org/docs/en/usage')","html":"\u003ch1 id=\"h1-error-requires-babel-7-0-0-0-but-was-loaded-with-6-26-3-\"\u003e\u003ca name=\"Error: Requires Babel “^7.0.0-0”, but was loaded with “6.26.3”.\" class=\"reference-link\"\u003e\u003c/a\u003e\u003cspan class=\"header-link octicon octicon-link\"\u003e\u003c/span\u003eError: Requires Babel “^7.0.0-0”, but was loaded with “6.26.3”.\u003c/h1\u003e\u003cp\u003e在使用babel时会报错：Error: Requires Babel “^7.0.0-0”, but was loaded with “6.26.3”.具体原因就是babel版本太低，只要升级babel版本就行了，之前安装使用的是babel-cli所以执行npm update也不能升级到7.0.0-0，由于bael最新的版本是\u003ca href=\"https://github.com/babel\" title=\"\u0026#64;babel\" class=\"at-link\"\u003e@babel\u003c/a\u003e，babel提供了使用npx自动升级的方法。执行以下命令升级：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpx babel-upgrade --write --install\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e还可以手动升级：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm install --save-dev @babel/cli\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e参考连接：\u003ca target=\"_blank\" href=\"https://babel.docschina.org/docs/en/usage\" title=\"https://babel.docschina.org/docs/en/usage\"\u003ehttps://babel.docschina.org/docs/en/usage\u003c/a\u003e\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3cc64d70830e13d1bf35b9"},"heart":0,"follow":0,"collect":0,"share":0,"comment":0,"read":0,"KeyWords":1450,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-19T17:24:20.826Z"},"updateTime":{"$date":"2019-03-19T17:37:55.380Z"},"__v":0}
{"_id":{"$oid":"5c91f6a8b431ac1526809481"},"hearts":[],"follows":[],"collects":[],"shares":[],"commentsOwn":[{"$oid":"5c3c910585710f035b21350c"}],"comments":[{"$oid":"5c925b89b431ac1526809482"}],"reads":[],"uid":"5c3c910585710f035b21350c","labelId":"5c3c910585710f035b21350d","title":"阳光正好，微风不燥","content":"\u003cp\u003e阳光正好，微风不燥。\u003c/p\u003e\n","markDown":"阳光正好，微风不燥。","html":"\u003cp\u003e阳光正好，微风不燥。\u003c/p\u003e\n","own":{"$oid":"5c3c910585710f035b21350c"},"label":{"$oid":"5c3c910585710f035b21350d"},"heart":0,"follow":0,"collect":0,"share":0,"comment":1,"read":0,"KeyWords":18,"virtualLink":"","trueLink":"","qrcode":"","type":1,"permission":0,"deleted":false,"date":{"$date":"2019-03-20T08:15:36.170Z"},"updateTime":{"$date":"2019-03-20T15:24:03.513Z"},"__v":1}
