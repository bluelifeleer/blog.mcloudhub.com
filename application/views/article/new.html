{% extends '../commons/common.html' %} {% block link %}
<link rel="stylesheet" href="/static/js/libs/editor.md-master/css/editormd.css" />
<link href="/static/js/libs/wangEditor-3.1.1/release/wangEditor.min.css" rel="stylesheet">
<link rel="stylesheet" href="/static/css/article/new.css" /> {% endblock %} {% block script %}
<script type="text/javascript" src="/static/js/libs/editor.md-master/editormd.min.js"></script>
<script src="/static/js/libs/wangEditor-3.1.1/release/wangEditor.js"></script>
<script type="text/javascript" src="/static/js/article/new.js"></script>
{% endblock %} {% block article %}
<div class="article-new-page">
    <div class="article-new-page-layout article-label">
        <div class="goto-index"><a href="/" class="goto-index-link">返回首页</a></div>
        <div class="add-label-form">
            <div class="new-label-toggle-box">
                <a href="javascript:void(0);" class="new-label-but" @click="newLabelToggleListener($event)"><i class="icon iconfont">&#xe628;</i>新建文档</a>
            </div>
            <transition name="new-label">
                <div class="new-label-form" v-show="newLabelToggle">
                    <input type="hidden" name="uid" v-model="form.label.uid" />
                    <div class="add-label-input-box"><input type="text" name="add-label" placeholder="添加标签" v-model="form.label.name" /></div>
                    <div class="add-label-input-submit-box"><a href="javascript:void(0);" class="add-label-form-submit" @click="addLabelFormSubmit($event)">保存</a><a href="javascript:void(0);" class="add-label-form-reset" @click="addLabelFormReset($event)">取消</a></div>
                </div>
            </transition>
        </div>
        <div class="label-data-list" ref="labelListItem" v-if="labels.length">
            <div class="label-list-items" v-for="(label, $index) in labels" :key="$index" :data-index="$index" :data-id="label._id" :class="{'label-list-items-selected':label.selected}">
                <a href="javascript:void(0);" class="label-list-select" data-selected="true" :data-index="$index" :data-id="label._id" @click="labelItemSelector($event,$index)">${label.name}</a>
            </div>
        </div>
    </div>
    <div class="article-new-page-layout article-title">
        <div class="add-article-form-box">
            <a href="javascript:void(0);" class="add-new-article-but" @click="addArticle($event)"><i class="icon iconfont">&#xe6e0;</i><span>新建文章</span></a>
        </div>
        <div class="article-title-data-list" ref="articleTitleItem" v-if="articles.length">
            <div class="article-title-items" v-for="(article, $index) in articles" :key="$index" :data-id="article._id" :class="{'article-title-items-selected':article.selected}"><a href="javascript:void(0);" class="article-title-but" @click="articleTitleItemSelect($event, $index, article)" :data-id="article._id" :data-selected="article.selected"><i
            class="icon iconfont">&#xe62e;</i><span>${article.title}</span></a></div>
        </div>
    </div>
    <div class="article-new-page-layout content-editor">
        <div class="article-title-editor-form-box">
            <input type="text" name="article-title" placeholder="输入文章标题" v-model="form.article.title" @blur="articleTitleInputBlurListener($event)" @input="articleTitleInputInputListener($event)"/>
            <a href="javascript:void(0);" class="article-editor-form-submit" @click="articleEditorSave($event)"><i class="icon iconfont">&#xe662;</i></a>
            <span class="save-tip">已保存</span>
        </div>
        <div id="editor-container">
            <!-- <textarea name="" id="" cols="30" rows="10"></textarea> -->
        </div>
    </div>
</div>
{% endblock %}